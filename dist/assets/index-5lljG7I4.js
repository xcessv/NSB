(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))g(x);new MutationObserver(x=>{for(const h of x)if(h.type==="childList")for(const v of h.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&g(v)}).observe(document,{childList:!0,subtree:!0});function l(x){const h={};return x.integrity&&(h.integrity=x.integrity),x.referrerPolicy&&(h.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?h.credentials="include":x.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function g(x){if(x.ep)return;x.ep=!0;const h=l(x);fetch(x.href,h)}})();const _m=()=>{const n={};return{on:(c,l)=>(n[c]||(n[c]=[]),n[c].push(l),()=>{n[c]=n[c].filter(g=>g!==l)}),emit:(c,l)=>{n[c]&&n[c].forEach(g=>g(l))},clear:c=>{n[c]&&(n[c]=[])},count:c=>{var l;return((l=n[c])==null?void 0:l.length)||0}}};let _d;typeof window<"u"?window.eventBus?(_d=window.eventBus,console.log("Using existing window.eventBus")):(_d=_m(),window.eventBus=_d,console.log("Created new eventBus in eventBus.js")):_d=_m();const Sv=_d;var Oh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zd(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var am={exports:{}},Qt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M1;function Iv(){if(M1)return Qt;M1=1;var n=Symbol.for("react.element"),c=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),S=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=I&&B[I]||B["@@iterator"],typeof B=="function"?B:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,J={};function $(B,ye,de){this.props=B,this.context=ye,this.refs=J,this.updater=de||j}$.prototype.isReactComponent={},$.prototype.setState=function(B,ye){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,ye,"setState")},$.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function V(){}V.prototype=$.prototype;function re(B,ye,de){this.props=B,this.context=ye,this.refs=J,this.updater=de||j}var we=re.prototype=new V;we.constructor=re,Z(we,$.prototype),we.isPureReactComponent=!0;var xe=Array.isArray,fe=Object.prototype.hasOwnProperty,U={current:null},Y={key:!0,ref:!0,__self:!0,__source:!0};function K(B,ye,de){var te,oe={},z=null,ce=null;if(ye!=null)for(te in ye.ref!==void 0&&(ce=ye.ref),ye.key!==void 0&&(z=""+ye.key),ye)fe.call(ye,te)&&!Y.hasOwnProperty(te)&&(oe[te]=ye[te]);var be=arguments.length-2;if(be===1)oe.children=de;else if(1<be){for(var he=Array(be),ze=0;ze<be;ze++)he[ze]=arguments[ze+2];oe.children=he}if(B&&B.defaultProps)for(te in be=B.defaultProps,be)oe[te]===void 0&&(oe[te]=be[te]);return{$$typeof:n,type:B,key:z,ref:ce,props:oe,_owner:U.current}}function ee(B,ye){return{$$typeof:n,type:B.type,key:ye,ref:B.ref,props:B.props,_owner:B._owner}}function q(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function R(B){var ye={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(de){return ye[de]})}var F=/\/+/g;function ie(B,ye){return typeof B=="object"&&B!==null&&B.key!=null?R(""+B.key):ye.toString(36)}function Q(B,ye,de,te,oe){var z=typeof B;(z==="undefined"||z==="boolean")&&(B=null);var ce=!1;if(B===null)ce=!0;else switch(z){case"string":case"number":ce=!0;break;case"object":switch(B.$$typeof){case n:case c:ce=!0}}if(ce)return ce=B,oe=oe(ce),B=te===""?"."+ie(ce,0):te,xe(oe)?(de="",B!=null&&(de=B.replace(F,"$&/")+"/"),Q(oe,ye,de,"",function(ze){return ze})):oe!=null&&(q(oe)&&(oe=ee(oe,de+(!oe.key||ce&&ce.key===oe.key?"":(""+oe.key).replace(F,"$&/")+"/")+B)),ye.push(oe)),1;if(ce=0,te=te===""?".":te+":",xe(B))for(var be=0;be<B.length;be++){z=B[be];var he=te+ie(z,be);ce+=Q(z,ye,de,he,oe)}else if(he=E(B),typeof he=="function")for(B=he.call(B),be=0;!(z=B.next()).done;)z=z.value,he=te+ie(z,be++),ce+=Q(z,ye,de,he,oe);else if(z==="object")throw ye=String(B),Error("Objects are not valid as a React child (found: "+(ye==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":ye)+"). If you meant to render a collection of children, use an array instead.");return ce}function ae(B,ye,de){if(B==null)return B;var te=[],oe=0;return Q(B,te,"","",function(z){return ye.call(de,z,oe++)}),te}function Ne(B){if(B._status===-1){var ye=B._result;ye=ye(),ye.then(function(de){(B._status===0||B._status===-1)&&(B._status=1,B._result=de)},function(de){(B._status===0||B._status===-1)&&(B._status=2,B._result=de)}),B._status===-1&&(B._status=0,B._result=ye)}if(B._status===1)return B._result.default;throw B._result}var ge={current:null},H={transition:null},ue={ReactCurrentDispatcher:ge,ReactCurrentBatchConfig:H,ReactCurrentOwner:U};function W(){throw Error("act(...) is not supported in production builds of React.")}return Qt.Children={map:ae,forEach:function(B,ye,de){ae(B,function(){ye.apply(this,arguments)},de)},count:function(B){var ye=0;return ae(B,function(){ye++}),ye},toArray:function(B){return ae(B,function(ye){return ye})||[]},only:function(B){if(!q(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Qt.Component=$,Qt.Fragment=l,Qt.Profiler=x,Qt.PureComponent=re,Qt.StrictMode=g,Qt.Suspense=k,Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Qt.act=W,Qt.cloneElement=function(B,ye,de){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var te=Z({},B.props),oe=B.key,z=B.ref,ce=B._owner;if(ye!=null){if(ye.ref!==void 0&&(z=ye.ref,ce=U.current),ye.key!==void 0&&(oe=""+ye.key),B.type&&B.type.defaultProps)var be=B.type.defaultProps;for(he in ye)fe.call(ye,he)&&!Y.hasOwnProperty(he)&&(te[he]=ye[he]===void 0&&be!==void 0?be[he]:ye[he])}var he=arguments.length-2;if(he===1)te.children=de;else if(1<he){be=Array(he);for(var ze=0;ze<he;ze++)be[ze]=arguments[ze+2];te.children=be}return{$$typeof:n,type:B.type,key:oe,ref:z,props:te,_owner:ce}},Qt.createContext=function(B){return B={$$typeof:v,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:h,_context:B},B.Consumer=B},Qt.createElement=K,Qt.createFactory=function(B){var ye=K.bind(null,B);return ye.type=B,ye},Qt.createRef=function(){return{current:null}},Qt.forwardRef=function(B){return{$$typeof:_,render:B}},Qt.isValidElement=q,Qt.lazy=function(B){return{$$typeof:A,_payload:{_status:-1,_result:B},_init:Ne}},Qt.memo=function(B,ye){return{$$typeof:S,type:B,compare:ye===void 0?null:ye}},Qt.startTransition=function(B){var ye=H.transition;H.transition={};try{B()}finally{H.transition=ye}},Qt.unstable_act=W,Qt.useCallback=function(B,ye){return ge.current.useCallback(B,ye)},Qt.useContext=function(B){return ge.current.useContext(B)},Qt.useDebugValue=function(){},Qt.useDeferredValue=function(B){return ge.current.useDeferredValue(B)},Qt.useEffect=function(B,ye){return ge.current.useEffect(B,ye)},Qt.useId=function(){return ge.current.useId()},Qt.useImperativeHandle=function(B,ye,de){return ge.current.useImperativeHandle(B,ye,de)},Qt.useInsertionEffect=function(B,ye){return ge.current.useInsertionEffect(B,ye)},Qt.useLayoutEffect=function(B,ye){return ge.current.useLayoutEffect(B,ye)},Qt.useMemo=function(B,ye){return ge.current.useMemo(B,ye)},Qt.useReducer=function(B,ye,de){return ge.current.useReducer(B,ye,de)},Qt.useRef=function(B){return ge.current.useRef(B)},Qt.useState=function(B){return ge.current.useState(B)},Qt.useSyncExternalStore=function(B,ye,de){return ge.current.useSyncExternalStore(B,ye,de)},Qt.useTransition=function(){return ge.current.useTransition()},Qt.version="18.3.1",Qt}var N1;function Tm(){return N1||(N1=1,am.exports=Iv()),am.exports}var b=Tm();const Gr=zd(b);var Bh={},om={exports:{}},Di={},sm={exports:{}},lm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C1;function jv(){return C1||(C1=1,function(n){function c(H,ue){var W=H.length;H.push(ue);e:for(;0<W;){var B=W-1>>>1,ye=H[B];if(0<x(ye,ue))H[B]=ue,H[W]=ye,W=B;else break e}}function l(H){return H.length===0?null:H[0]}function g(H){if(H.length===0)return null;var ue=H[0],W=H.pop();if(W!==ue){H[0]=W;e:for(var B=0,ye=H.length,de=ye>>>1;B<de;){var te=2*(B+1)-1,oe=H[te],z=te+1,ce=H[z];if(0>x(oe,W))z<ye&&0>x(ce,oe)?(H[B]=ce,H[z]=W,B=z):(H[B]=oe,H[te]=W,B=te);else if(z<ye&&0>x(ce,W))H[B]=ce,H[z]=W,B=z;else break e}}return ue}function x(H,ue){var W=H.sortIndex-ue.sortIndex;return W!==0?W:H.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var v=Date,_=v.now();n.unstable_now=function(){return v.now()-_}}var k=[],S=[],A=1,I=null,E=3,j=!1,Z=!1,J=!1,$=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function we(H){for(var ue=l(S);ue!==null;){if(ue.callback===null)g(S);else if(ue.startTime<=H)g(S),ue.sortIndex=ue.expirationTime,c(k,ue);else break;ue=l(S)}}function xe(H){if(J=!1,we(H),!Z)if(l(k)!==null)Z=!0,Ne(fe);else{var ue=l(S);ue!==null&&ge(xe,ue.startTime-H)}}function fe(H,ue){Z=!1,J&&(J=!1,V(K),K=-1),j=!0;var W=E;try{for(we(ue),I=l(k);I!==null&&(!(I.expirationTime>ue)||H&&!R());){var B=I.callback;if(typeof B=="function"){I.callback=null,E=I.priorityLevel;var ye=B(I.expirationTime<=ue);ue=n.unstable_now(),typeof ye=="function"?I.callback=ye:I===l(k)&&g(k),we(ue)}else g(k);I=l(k)}if(I!==null)var de=!0;else{var te=l(S);te!==null&&ge(xe,te.startTime-ue),de=!1}return de}finally{I=null,E=W,j=!1}}var U=!1,Y=null,K=-1,ee=5,q=-1;function R(){return!(n.unstable_now()-q<ee)}function F(){if(Y!==null){var H=n.unstable_now();q=H;var ue=!0;try{ue=Y(!0,H)}finally{ue?ie():(U=!1,Y=null)}}else U=!1}var ie;if(typeof re=="function")ie=function(){re(F)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,ae=Q.port2;Q.port1.onmessage=F,ie=function(){ae.postMessage(null)}}else ie=function(){$(F,0)};function Ne(H){Y=H,U||(U=!0,ie())}function ge(H,ue){K=$(function(){H(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_continueExecution=function(){Z||j||(Z=!0,Ne(fe))},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return l(k)},n.unstable_next=function(H){switch(E){case 1:case 2:case 3:var ue=3;break;default:ue=E}var W=E;E=ue;try{return H()}finally{E=W}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(H,ue){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var W=E;E=H;try{return ue()}finally{E=W}},n.unstable_scheduleCallback=function(H,ue,W){var B=n.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,H){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=W+ye,H={id:A++,callback:ue,priorityLevel:H,startTime:W,expirationTime:ye,sortIndex:-1},W>B?(H.sortIndex=W,c(S,H),l(k)===null&&H===l(S)&&(J?(V(K),K=-1):J=!0,ge(xe,W-B))):(H.sortIndex=ye,c(k,H),Z||j||(Z=!0,Ne(fe))),H},n.unstable_shouldYield=R,n.unstable_wrapCallback=function(H){var ue=E;return function(){var W=E;E=ue;try{return H.apply(this,arguments)}finally{E=W}}}}(lm)),lm}var k1;function Ev(){return k1||(k1=1,sm.exports=jv()),sm.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1;function Tv(){if(S1)return Di;S1=1;var n=Tm(),c=Ev();function l(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,f=1;f<arguments.length;f++)r+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g=new Set,x={};function h(e,r){v(e,r),v(e+"Capture",r)}function v(e,r){for(x[e]=r,e=0;e<r.length;e++)g.add(r[e])}var _=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),k=Object.prototype.hasOwnProperty,S=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},I={};function E(e){return k.call(I,e)?!0:k.call(A,e)?!1:S.test(e)?I[e]=!0:(A[e]=!0,!1)}function j(e,r,f,d){if(f!==null&&f.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return d?!1:f!==null?!f.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Z(e,r,f,d){if(r===null||typeof r>"u"||j(e,r,f,d))return!0;if(d)return!1;if(f!==null)switch(f.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function J(e,r,f,d,y,M,D){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=d,this.attributeNamespace=y,this.mustUseProperty=f,this.propertyName=e,this.type=r,this.sanitizeURL=M,this.removeEmptyString=D}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new J(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];$[r]=new J(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new J(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new J(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new J(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new J(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){$[e]=new J(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new J(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new J(e,5,!1,e.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function re(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(V,re);$[r]=new J(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(V,re);$[r]=new J(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(V,re);$[r]=new J(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new J(e,1,!1,e.toLowerCase(),null,!1,!1)}),$.xlinkHref=new J("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){$[e]=new J(e,1,!1,e.toLowerCase(),null,!0,!0)});function we(e,r,f,d){var y=$.hasOwnProperty(r)?$[r]:null;(y!==null?y.type!==0:d||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(Z(r,f,y,d)&&(f=null),d||y===null?E(r)&&(f===null?e.removeAttribute(r):e.setAttribute(r,""+f)):y.mustUseProperty?e[y.propertyName]=f===null?y.type===3?!1:"":f:(r=y.attributeName,d=y.attributeNamespace,f===null?e.removeAttribute(r):(y=y.type,f=y===3||y===4&&f===!0?"":""+f,d?e.setAttributeNS(d,r,f):e.setAttribute(r,f))))}var xe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fe=Symbol.for("react.element"),U=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),R=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),ae=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),ge=Symbol.for("react.offscreen"),H=Symbol.iterator;function ue(e){return e===null||typeof e!="object"?null:(e=H&&e[H]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,B;function ye(e){if(B===void 0)try{throw Error()}catch(f){var r=f.stack.trim().match(/\n( *(at )?)/);B=r&&r[1]||""}return`
`+B+e}var de=!1;function te(e,r){if(!e||de)return"";de=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(Ee){var d=Ee}Reflect.construct(e,[],r)}else{try{r.call()}catch(Ee){d=Ee}e.call(r.prototype)}else{try{throw Error()}catch(Ee){d=Ee}e()}}catch(Ee){if(Ee&&d&&typeof Ee.stack=="string"){for(var y=Ee.stack.split(`
`),M=d.stack.split(`
`),D=y.length-1,X=M.length-1;1<=D&&0<=X&&y[D]!==M[X];)X--;for(;1<=D&&0<=X;D--,X--)if(y[D]!==M[X]){if(D!==1||X!==1)do if(D--,X--,0>X||y[D]!==M[X]){var me=`
`+y[D].replace(" at new "," at ");return e.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",e.displayName)),me}while(1<=D&&0<=X);break}}}finally{de=!1,Error.prepareStackTrace=f}return(e=e?e.displayName||e.name:"")?ye(e):""}function oe(e){switch(e.tag){case 5:return ye(e.type);case 16:return ye("Lazy");case 13:return ye("Suspense");case 19:return ye("SuspenseList");case 0:case 2:case 15:return e=te(e.type,!1),e;case 11:return e=te(e.type.render,!1),e;case 1:return e=te(e.type,!0),e;default:return""}}function z(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Y:return"Fragment";case U:return"Portal";case ee:return"Profiler";case K:return"StrictMode";case ie:return"Suspense";case Q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case R:return(e.displayName||"Context")+".Consumer";case q:return(e._context.displayName||"Context")+".Provider";case F:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ae:return r=e.displayName||null,r!==null?r:z(e.type)||"Memo";case Ne:r=e._payload,e=e._init;try{return z(e(r))}catch{}}return null}function ce(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(r);case 8:return r===K?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function be(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function he(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ze(e){var r=he(e)?"checked":"value",f=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),d=""+e[r];if(!e.hasOwnProperty(r)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var y=f.get,M=f.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return y.call(this)},set:function(D){d=""+D,M.call(this,D)}}),Object.defineProperty(e,r,{enumerable:f.enumerable}),{getValue:function(){return d},setValue:function(D){d=""+D},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function He(e){e._valueTracker||(e._valueTracker=ze(e))}function nt(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var f=r.getValue(),d="";return e&&(d=he(e)?e.checked?"true":"false":e.value),e=d,e!==f?(r.setValue(e),!0):!1}function De(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $e(e,r){var f=r.checked;return W({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??e._wrapperState.initialChecked})}function We(e,r){var f=r.defaultValue==null?"":r.defaultValue,d=r.checked!=null?r.checked:r.defaultChecked;f=be(r.value!=null?r.value:f),e._wrapperState={initialChecked:d,initialValue:f,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function et(e,r){r=r.checked,r!=null&&we(e,"checked",r,!1)}function Ve(e,r){et(e,r);var f=be(r.value),d=r.type;if(f!=null)d==="number"?(f===0&&e.value===""||e.value!=f)&&(e.value=""+f):e.value!==""+f&&(e.value=""+f);else if(d==="submit"||d==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?Gt(e,r.type,f):r.hasOwnProperty("defaultValue")&&Gt(e,r.type,be(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function It(e,r,f){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var d=r.type;if(!(d!=="submit"&&d!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,f||r===e.value||(e.value=r),e.defaultValue=r}f=e.name,f!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,f!==""&&(e.name=f)}function Gt(e,r,f){(r!=="number"||De(e.ownerDocument)!==e)&&(f==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+f&&(e.defaultValue=""+f))}var ft=Array.isArray;function gt(e,r,f,d){if(e=e.options,r){r={};for(var y=0;y<f.length;y++)r["$"+f[y]]=!0;for(f=0;f<e.length;f++)y=r.hasOwnProperty("$"+e[f].value),e[f].selected!==y&&(e[f].selected=y),y&&d&&(e[f].defaultSelected=!0)}else{for(f=""+be(f),r=null,y=0;y<e.length;y++){if(e[y].value===f){e[y].selected=!0,d&&(e[y].defaultSelected=!0);return}r!==null||e[y].disabled||(r=e[y])}r!==null&&(r.selected=!0)}}function $t(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(l(91));return W({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qt(e,r){var f=r.value;if(f==null){if(f=r.children,r=r.defaultValue,f!=null){if(r!=null)throw Error(l(92));if(ft(f)){if(1<f.length)throw Error(l(93));f=f[0]}r=f}r==null&&(r=""),f=r}e._wrapperState={initialValue:be(f)}}function on(e,r){var f=be(r.value),d=be(r.defaultValue);f!=null&&(f=""+f,f!==e.value&&(e.value=f),r.defaultValue==null&&e.defaultValue!==f&&(e.defaultValue=f)),d!=null&&(e.defaultValue=""+d)}function xn(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function jn(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Dn(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?jn(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zn,Pi=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,f,d,y){MSApp.execUnsafeLocalFunction(function(){return e(r,f,d,y)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(Zn=Zn||document.createElement("div"),Zn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Zn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function Je(e,r){if(r){var f=e.firstChild;if(f&&f===e.lastChild&&f.nodeType===3){f.nodeValue=r;return}}e.textContent=r}var _e={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];Object.keys(_e).forEach(function(e){Ae.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),_e[r]=_e[e]})});function Ye(e,r,f){return r==null||typeof r=="boolean"||r===""?"":f||typeof r!="number"||r===0||_e.hasOwnProperty(e)&&_e[e]?(""+r).trim():r+"px"}function qe(e,r){e=e.style;for(var f in r)if(r.hasOwnProperty(f)){var d=f.indexOf("--")===0,y=Ye(f,r[f],d);f==="float"&&(f="cssFloat"),d?e.setProperty(f,y):e[f]=y}}var at=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function st(e,r){if(r){if(at[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(l(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(l(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(l(61))}if(r.style!=null&&typeof r.style!="object")throw Error(l(62))}}function bt(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dn=null;function li(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ra=null,Wr=null,ca=null;function Wf(e){if(e=Yn(e)){if(typeof Ra!="function")throw Error(l(280));var r=e.stateNode;r&&(r=fl(r),Ra(e.stateNode,e.type,r))}}function Jf(e){Wr?ca?ca.push(e):ca=[e]:Wr=e}function $f(){if(Wr){var e=Wr,r=ca;if(ca=Wr=null,Wf(e),r)for(e=0;e<r.length;e++)Wf(r[e])}}function Hf(e,r){return e(r)}function zl(){}var Rl=!1;function Fs(e,r,f){if(Rl)return e(r,f);Rl=!0;try{return Hf(e,r,f)}finally{Rl=!1,(Wr!==null||ca!==null)&&(zl(),$f())}}function Qo(e,r){var f=e.stateNode;if(f===null)return null;var d=fl(f);if(d===null)return null;f=d[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(e=e.type,d=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!d;break e;default:e=!1}if(e)return null;if(f&&typeof f!="function")throw Error(l(231,r,typeof f));return f}var Wo=!1;if(_)try{var Jo={};Object.defineProperty(Jo,"passive",{get:function(){Wo=!0}}),window.addEventListener("test",Jo,Jo),window.removeEventListener("test",Jo,Jo)}catch{Wo=!1}function Ol(e,r,f,d,y,M,D,X,me){var Ee=Array.prototype.slice.call(arguments,3);try{r.apply(f,Ee)}catch(Ue){this.onError(Ue)}}var br=!1,dt=null,$o=!1,Us=null,Vf={onError:function(e){br=!0,dt=e}};function qf(e,r,f,d,y,M,D,X,me){br=!1,dt=null,Ol.apply(Vf,arguments)}function Bl(e,r,f,d,y,M,D,X,me){if(qf.apply(this,arguments),br){if(br){var Ee=dt;br=!1,dt=null}else throw Error(l(198));$o||($o=!0,Us=Ee)}}function ua(e){var r=e,f=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(f=r.return),e=r.return;while(e)}return r.tag===3?f:null}function da(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function Fl(e){if(ua(e)!==e)throw Error(l(188))}function yu(e){var r=e.alternate;if(!r){if(r=ua(e),r===null)throw Error(l(188));return r!==e?null:e}for(var f=e,d=r;;){var y=f.return;if(y===null)break;var M=y.alternate;if(M===null){if(d=y.return,d!==null){f=d;continue}break}if(y.child===M.child){for(M=y.child;M;){if(M===f)return Fl(y),e;if(M===d)return Fl(y),r;M=M.sibling}throw Error(l(188))}if(f.return!==d.return)f=y,d=M;else{for(var D=!1,X=y.child;X;){if(X===f){D=!0,f=y,d=M;break}if(X===d){D=!0,d=y,f=M;break}X=X.sibling}if(!D){for(X=M.child;X;){if(X===f){D=!0,f=M,d=y;break}if(X===d){D=!0,d=M,f=y;break}X=X.sibling}if(!D)throw Error(l(189))}}if(f.alternate!==d)throw Error(l(190))}if(f.tag!==3)throw Error(l(188));return f.stateNode.current===f?e:r}function Kf(e){return e=yu(e),e!==null?Xf(e):null}function Xf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=Xf(e);if(r!==null)return r;e=e.sibling}return null}var ec=c.unstable_scheduleCallback,Ul=c.unstable_cancelCallback,Zs=c.unstable_shouldYield,Ys=c.unstable_requestPaint,hn=c.unstable_now,vu=c.unstable_getCurrentPriorityLevel,Zl=c.unstable_ImmediatePriority,tc=c.unstable_UserBlockingPriority,Ho=c.unstable_NormalPriority,Gs=c.unstable_LowPriority,Oa=c.unstable_IdlePriority,Vo=null,Jr=null;function qo(e){if(Jr&&typeof Jr.onCommitFiberRoot=="function")try{Jr.onCommitFiberRoot(Vo,e,void 0,(e.current.flags&128)===128)}catch{}}var Et=Math.clz32?Math.clz32:Ba,mn=Math.log,Ko=Math.LN2;function Ba(e){return e>>>=0,e===0?32:31-(mn(e)/Ko|0)|0}var $r=64,uo=4194304;function Nt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sn(e,r){var f=e.pendingLanes;if(f===0)return 0;var d=0,y=e.suspendedLanes,M=e.pingedLanes,D=f&268435455;if(D!==0){var X=D&~y;X!==0?d=Nt(X):(M&=D,M!==0&&(d=Nt(M)))}else D=f&~y,D!==0?d=Nt(D):M!==0&&(d=Nt(M));if(d===0)return 0;if(r!==0&&r!==d&&!(r&y)&&(y=d&-d,M=r&-r,y>=M||y===16&&(M&4194240)!==0))return r;if(d&4&&(d|=f&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=d;0<r;)f=31-Et(r),y=1<<f,d|=e[f],r&=~y;return d}function Qs(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ws(e,r){for(var f=e.suspendedLanes,d=e.pingedLanes,y=e.expirationTimes,M=e.pendingLanes;0<M;){var D=31-Et(M),X=1<<D,me=y[D];me===-1?(!(X&f)||X&d)&&(y[D]=Qs(X,r)):me<=r&&(e.expiredLanes|=X),M&=~X}}function cr(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yl(){var e=$r;return $r<<=1,!($r&4194240)&&($r=64),e}function ha(e){for(var r=[],f=0;31>f;f++)r.push(e);return r}function Hr(e,r,f){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Et(r),e[r]=f}function kn(e,r){var f=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var d=e.eventTimes;for(e=e.expirationTimes;0<f;){var y=31-Et(f),M=1<<y;r[y]=0,d[y]=-1,e[y]=-1,f&=~M}}function Vr(e,r){var f=e.entangledLanes|=r;for(e=e.entanglements;f;){var d=31-Et(f),y=1<<d;y&r|e[d]&r&&(e[d]|=r),f&=~y}}var Ut=0;function qr(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Xo,ma,Js,es,ho,mo=!1,Fa=[],Kr=null,zi=null,fi=null,po=new Map,Lt=new Map,Jn=[],fn="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gl(e,r){switch(e){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":po.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(r.pointerId)}}function Ri(e,r,f,d,y,M){return e===null||e.nativeEvent!==M?(e={blockedOn:r,domEventName:f,eventSystemFlags:d,nativeEvent:M,targetContainers:[y]},r!==null&&(r=Yn(r),r!==null&&ma(r)),e):(e.eventSystemFlags|=d,r=e.targetContainers,y!==null&&r.indexOf(y)===-1&&r.push(y),e)}function Ql(e,r,f,d,y){switch(r){case"focusin":return Kr=Ri(Kr,e,r,f,d,y),!0;case"dragenter":return zi=Ri(zi,e,r,f,d,y),!0;case"mouseover":return fi=Ri(fi,e,r,f,d,y),!0;case"pointerover":var M=y.pointerId;return po.set(M,Ri(po.get(M)||null,e,r,f,d,y)),!0;case"gotpointercapture":return M=y.pointerId,Lt.set(M,Ri(Lt.get(M)||null,e,r,f,d,y)),!0}return!1}function $s(e){var r=bi(e.target);if(r!==null){var f=ua(r);if(f!==null){if(r=f.tag,r===13){if(r=da(f),r!==null){e.blockedOn=r,ho(e.priority,function(){Js(f)});return}}else if(r===3&&f.stateNode.current.memoizedState.isDehydrated){e.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var f=is(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(f===null){f=e.nativeEvent;var d=new f.constructor(f.type,f);dn=d,f.target.dispatchEvent(d),dn=null}else return r=Yn(f),r!==null&&ma(r),e.blockedOn=f,!1;r.shift()}return!0}function Hs(e,r,f){ci(e)&&f.delete(r)}function ts(){mo=!1,Kr!==null&&ci(Kr)&&(Kr=null),zi!==null&&ci(zi)&&(zi=null),fi!==null&&ci(fi)&&(fi=null),po.forEach(Hs),Lt.forEach(Hs)}function Ct(e,r){e.blockedOn===r&&(e.blockedOn=null,mo||(mo=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,ts)))}function Ot(e){function r(y){return Ct(y,e)}if(0<Fa.length){Ct(Fa[0],e);for(var f=1;f<Fa.length;f++){var d=Fa[f];d.blockedOn===e&&(d.blockedOn=null)}}for(Kr!==null&&Ct(Kr,e),zi!==null&&Ct(zi,e),fi!==null&&Ct(fi,e),po.forEach(r),Lt.forEach(r),f=0;f<Jn.length;f++)d=Jn[f],d.blockedOn===e&&(d.blockedOn=null);for(;0<Jn.length&&(f=Jn[0],f.blockedOn===null);)$s(f),f.blockedOn===null&&Jn.shift()}var Ua=xe.ReactCurrentBatchConfig,ns=!0;function bu(e,r,f,d){var y=Ut,M=Ua.transition;Ua.transition=null;try{Ut=1,rs(e,r,f,d)}finally{Ut=y,Ua.transition=M}}function nc(e,r,f,d){var y=Ut,M=Ua.transition;Ua.transition=null;try{Ut=4,rs(e,r,f,d)}finally{Ut=y,Ua.transition=M}}function rs(e,r,f,d){if(ns){var y=is(e,r,f,d);if(y===null)t(e,r,d,Vs,f),Gl(e,d);else if(Ql(y,e,r,f,d))d.stopPropagation();else if(Gl(e,d),r&4&&-1<fn.indexOf(e)){for(;y!==null;){var M=Yn(y);if(M!==null&&Xo(M),M=is(e,r,f,d),M===null&&t(e,r,d,Vs,f),M===y)break;y=M}y!==null&&d.stopPropagation()}else t(e,r,d,null,f)}}var Vs=null;function is(e,r,f,d){if(Vs=null,e=li(d),e=bi(e),e!==null)if(r=ua(e),r===null)e=null;else if(f=r.tag,f===13){if(e=da(r),e!==null)return e;e=null}else if(f===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Vs=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(vu()){case Zl:return 1;case tc:return 4;case Ho:case Gs:return 16;case Oa:return 536870912;default:return 16}default:return 16}}var pn=null,ur=null,Lr=null;function qs(){if(Lr)return Lr;var e,r=ur,f=r.length,d,y="value"in pn?pn.value:pn.textContent,M=y.length;for(e=0;e<f&&r[e]===y[e];e++);var D=f-e;for(d=1;d<=D&&r[f-d]===y[M-d];d++);return Lr=y.slice(e,1<d?1-d:void 0)}function go(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function $n(){return!0}function Wl(){return!1}function dr(e){function r(f,d,y,M,D){this._reactName=f,this._targetInst=y,this.type=d,this.nativeEvent=M,this.target=D,this.currentTarget=null;for(var X in e)e.hasOwnProperty(X)&&(f=e[X],this[X]=f?f(M):M[X]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?$n:Wl,this.isPropagationStopped=Wl,this}return W(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),r}var Za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ks=dr(Za),pa=W({},Za,{view:0,detail:0}),rc=dr(pa),gn,Jl,Hn,Xr=W({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ya,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hn&&(Hn&&e.type==="mousemove"?(gn=e.screenX-Hn.screenX,Jl=e.screenY-Hn.screenY):Jl=gn=0,Hn=e),gn)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),Xs=dr(Xr),Oi=W({},Xr,{dataTransfer:0}),wo=dr(Oi),$l=W({},pa,{relatedTarget:0}),ln=dr($l),Bi=W({},Za,{animationName:0,elapsedTime:0,pseudoElement:0}),Hl=dr(Bi),Lu=W({},Za,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),as=dr(Lu),xu=W({},Za,{data:0}),Vl=dr(xu),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},os={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ui={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yo(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=ui[e])?!!r[e]:!1}function Ya(){return yo}var Ir=W({},pa,{key:function(e){if(e.key){var r=ic[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=go(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?os[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ya,charCode:function(e){return e.type==="keypress"?go(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?go(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ql=dr(Ir),el=W({},Xr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=dr(el),nl=W({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ya}),Kl=dr(nl),Xl=W({},Za,{propertyName:0,elapsedTime:0,pseudoElement:0}),ef=dr(Xl),ac=W({},Xr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),oc=dr(ac),yn=[9,13,27,32],di=_&&"CompositionEvent"in window,Fi=null;_&&"documentMode"in document&&(Fi=document.documentMode);var hi=_&&"TextEvent"in window&&!Fi,tf=_&&(!di||Fi&&8<Fi&&11>=Fi),Ga=" ",sc=!1;function vo(e,r){switch(e){case"keyup":return yn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ui=!1;function bo(e,r){switch(e){case"compositionend":return nf(r);case"keypress":return r.which!==32?null:(sc=!0,Ga);case"textInput":return e=r.data,e===Ga&&sc?null:e;default:return null}}function ga(e,r){if(Ui)return e==="compositionend"||!di&&vo(e,r)?(e=qs(),Lr=ur=pn=null,Ui=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return tf&&r.locale!=="ko"?null:r.data;default:return null}}var rl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function il(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!rl[e.type]:r==="textarea"}function ss(e,r,f,d){Jf(d),r=u(r,"onChange"),0<r.length&&(f=new Ks("onChange","change",null,f,d),e.push({event:f,listeners:r}))}var zr=null,nr=null;function _u(e){af(e,0)}function Zi(e){var r=At(e);if(nt(r))return e}function Mu(e,r){if(e==="change")return r}var hr=!1;if(_){var rr;if(_){var ls="oninput"in document;if(!ls){var al=document.createElement("div");al.setAttribute("oninput","return;"),ls=typeof al.oninput=="function"}rr=ls}else rr=!1;hr=rr&&(!document.documentMode||9<document.documentMode)}function fs(){zr&&(zr.detachEvent("onpropertychange",ol),nr=zr=null)}function ol(e){if(e.propertyName==="value"&&Zi(nr)){var r=[];ss(r,nr,e,li(e)),Fs(_u,r)}}function sl(e,r,f){e==="focusin"?(fs(),zr=r,nr=f,zr.attachEvent("onpropertychange",ol)):e==="focusout"&&fs()}function Lo(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zi(nr)}function Yi(e,r){if(e==="click")return Zi(r)}function Le(e,r){if(e==="input"||e==="change")return Zi(r)}function Pe(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Ie=typeof Object.is=="function"?Object.is:Pe;function Ke(e,r){if(Ie(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var f=Object.keys(e),d=Object.keys(r);if(f.length!==d.length)return!1;for(d=0;d<f.length;d++){var y=f[d];if(!k.call(r,y)||!Ie(e[y],r[y]))return!1}return!0}function kt(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ht(e,r){var f=kt(e);e=0;for(var d;f;){if(f.nodeType===3){if(d=e+f.textContent.length,e<=r&&d>=r)return{node:f,offset:r-e};e=d}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=kt(f)}}function En(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?En(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function rn(){for(var e=window,r=De();r instanceof e.HTMLIFrameElement;){try{var f=typeof r.contentWindow.location.href=="string"}catch{f=!1}if(f)e=r.contentWindow;else break;r=De(e.document)}return r}function cs(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function mi(e){var r=rn(),f=e.focusedElem,d=e.selectionRange;if(r!==f&&f&&f.ownerDocument&&En(f.ownerDocument.documentElement,f)){if(d!==null&&cs(f)){if(r=d.start,e=d.end,e===void 0&&(e=r),"selectionStart"in f)f.selectionStart=r,f.selectionEnd=Math.min(e,f.value.length);else if(e=(r=f.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var y=f.textContent.length,M=Math.min(d.start,y);d=d.end===void 0?M:Math.min(d.end,y),!e.extend&&M>d&&(y=d,d=M,M=y),y=Ht(f,M);var D=Ht(f,d);y&&D&&(e.rangeCount!==1||e.anchorNode!==y.node||e.anchorOffset!==y.offset||e.focusNode!==D.node||e.focusOffset!==D.offset)&&(r=r.createRange(),r.setStart(y.node,y.offset),e.removeAllRanges(),M>d?(e.addRange(r),e.extend(D.node,D.offset)):(r.setEnd(D.node,D.offset),e.addRange(r)))}}for(r=[],e=f;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<r.length;f++)e=r[f],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=_&&"documentMode"in document&&11>=document.documentMode,Gi=null,xo=null,pi=null,Qa=!1;function us(e,r,f){var d=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Qa||Gi==null||Gi!==De(d)||(d=Gi,"selectionStart"in d&&cs(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),pi&&Ke(pi,d)||(pi=d,d=u(xo,"onSelect"),0<d.length&&(r=new Ks("onSelect","select",null,r,f),e.push({event:r,listeners:d}),r.target=Gi)))}function Bt(e,r){var f={};return f[e.toLowerCase()]=r.toLowerCase(),f["Webkit"+e]="webkit"+r,f["Moz"+e]="moz"+r,f}var _o={animationend:Bt("Animation","AnimationEnd"),animationiteration:Bt("Animation","AnimationIteration"),animationstart:Bt("Animation","AnimationStart"),transitionend:Bt("Transition","TransitionEnd")},Qi={},Mo={};_&&(Mo=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function ds(e){if(Qi[e])return Qi[e];if(!_o[e])return e;var r=_o[e],f;for(f in r)if(r.hasOwnProperty(f)&&f in Mo)return Qi[e]=r[f];return e}var lc=ds("animationend"),gi=ds("animationiteration"),No=ds("animationstart"),wi=ds("transitionend"),Wi=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xr(e,r){Wi.set(e,r),h(r,[e])}for(var wa=0;wa<rf.length;wa++){var hs=rf[wa],ms=hs.toLowerCase(),fc=hs[0].toUpperCase()+hs.slice(1);xr(ms,"on"+fc)}xr(lc,"onAnimationEnd"),xr(gi,"onAnimationIteration"),xr(No,"onAnimationStart"),xr("dblclick","onDoubleClick"),xr("focusin","onFocus"),xr("focusout","onBlur"),xr(wi,"onTransitionEnd"),v("onMouseEnter",["mouseout","mouseover"]),v("onMouseLeave",["mouseout","mouseover"]),v("onPointerEnter",["pointerout","pointerover"]),v("onPointerLeave",["pointerout","pointerover"]),h("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),h("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),h("onBeforeInput",["compositionend","keypress","textInput","paste"]),h("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),h("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ya=new Set("cancel close invalid load scroll toggle".split(" ").concat(yi));function Co(e,r,f){var d=e.type||"unknown-event";e.currentTarget=f,Bl(d,r,void 0,e),e.currentTarget=null}function af(e,r){r=(r&4)!==0;for(var f=0;f<e.length;f++){var d=e[f],y=d.event;d=d.listeners;e:{var M=void 0;if(r)for(var D=d.length-1;0<=D;D--){var X=d[D],me=X.instance,Ee=X.currentTarget;if(X=X.listener,me!==M&&y.isPropagationStopped())break e;Co(y,X,Ee),M=me}else for(D=0;D<d.length;D++){if(X=d[D],me=X.instance,Ee=X.currentTarget,X=X.listener,me!==M&&y.isPropagationStopped())break e;Co(y,X,Ee),M=me}}}if($o)throw e=Us,$o=!1,Us=null,e}function cn(e,r){var f=r[Ja];f===void 0&&(f=r[Ja]=new Set);var d=e+"__bubble";f.has(d)||(ll(r,e,2,!1),f.add(d))}function of(e,r,f){var d=0;r&&(d|=4),ll(f,e,d,r)}var va="_reactListening"+Math.random().toString(36).slice(2);function Ji(e){if(!e[va]){e[va]=!0,g.forEach(function(f){f!=="selectionchange"&&(ya.has(f)||of(f,!1,e),of(f,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[va]||(r[va]=!0,of("selectionchange",!1,r))}}function ll(e,r,f,d){switch(Zt(r)){case 1:var y=bu;break;case 4:y=nc;break;default:y=rs}f=y.bind(null,r,f,e),y=void 0,!Wo||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(y=!0),d?y!==void 0?e.addEventListener(r,f,{capture:!0,passive:y}):e.addEventListener(r,f,!0):y!==void 0?e.addEventListener(r,f,{passive:y}):e.addEventListener(r,f,!1)}function t(e,r,f,d,y){var M=d;if(!(r&1)&&!(r&2)&&d!==null)e:for(;;){if(d===null)return;var D=d.tag;if(D===3||D===4){var X=d.stateNode.containerInfo;if(X===y||X.nodeType===8&&X.parentNode===y)break;if(D===4)for(D=d.return;D!==null;){var me=D.tag;if((me===3||me===4)&&(me=D.stateNode.containerInfo,me===y||me.nodeType===8&&me.parentNode===y))return;D=D.return}for(;X!==null;){if(D=bi(X),D===null)return;if(me=D.tag,me===5||me===6){d=M=D;continue e}X=X.parentNode}}d=d.return}Fs(function(){var Ee=M,Ue=li(f),Ge=[];e:{var Fe=Wi.get(e);if(Fe!==void 0){var rt=Ks,ot=e;switch(e){case"keypress":if(go(f)===0)break e;case"keydown":case"keyup":rt=ql;break;case"focusin":ot="focus",rt=ln;break;case"focusout":ot="blur",rt=ln;break;case"beforeblur":case"afterblur":rt=ln;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=Xs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=wo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=Kl;break;case lc:case gi:case No:rt=Hl;break;case wi:rt=ef;break;case"scroll":rt=rc;break;case"wheel":rt=oc;break;case"copy":case"cut":case"paste":rt=as;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=tl}var ct=(r&4)!==0,zn=!ct&&e==="scroll",ke=ct?Fe!==null?Fe+"Capture":null:Fe;ct=[];for(var ve=Ee,Se;ve!==null;){Se=ve;var Qe=Se.stateNode;if(Se.tag===5&&Qe!==null&&(Se=Qe,ke!==null&&(Qe=Qo(ve,ke),Qe!=null&&ct.push(a(ve,Qe,Se)))),zn)break;ve=ve.return}0<ct.length&&(Fe=new rt(Fe,ot,null,f,Ue),Ge.push({event:Fe,listeners:ct}))}}if(!(r&7)){e:{if(Fe=e==="mouseover"||e==="pointerover",rt=e==="mouseout"||e==="pointerout",Fe&&f!==dn&&(ot=f.relatedTarget||f.fromElement)&&(bi(ot)||ot[Kt]))break e;if((rt||Fe)&&(Fe=Ue.window===Ue?Ue:(Fe=Ue.ownerDocument)?Fe.defaultView||Fe.parentWindow:window,rt?(ot=f.relatedTarget||f.toElement,rt=Ee,ot=ot?bi(ot):null,ot!==null&&(zn=ua(ot),ot!==zn||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(rt=null,ot=Ee),rt!==ot)){if(ct=Xs,Qe="onMouseLeave",ke="onMouseEnter",ve="mouse",(e==="pointerout"||e==="pointerover")&&(ct=tl,Qe="onPointerLeave",ke="onPointerEnter",ve="pointer"),zn=rt==null?Fe:At(rt),Se=ot==null?Fe:At(ot),Fe=new ct(Qe,ve+"leave",rt,f,Ue),Fe.target=zn,Fe.relatedTarget=Se,Qe=null,bi(Ue)===Ee&&(ct=new ct(ke,ve+"enter",ot,f,Ue),ct.target=Se,ct.relatedTarget=zn,Qe=ct),zn=Qe,rt&&ot)t:{for(ct=rt,ke=ot,ve=0,Se=ct;Se;Se=w(Se))ve++;for(Se=0,Qe=ke;Qe;Qe=w(Qe))Se++;for(;0<ve-Se;)ct=w(ct),ve--;for(;0<Se-ve;)ke=w(ke),Se--;for(;ve--;){if(ct===ke||ke!==null&&ct===ke.alternate)break t;ct=w(ct),ke=w(ke)}ct=null}else ct=null;rt!==null&&C(Ge,Fe,rt,ct,!1),ot!==null&&zn!==null&&C(Ge,zn,ot,ct,!0)}}e:{if(Fe=Ee?At(Ee):window,rt=Fe.nodeName&&Fe.nodeName.toLowerCase(),rt==="select"||rt==="input"&&Fe.type==="file")var ht=Mu;else if(il(Fe))if(hr)ht=Le;else{ht=Lo;var yt=sl}else(rt=Fe.nodeName)&&rt.toLowerCase()==="input"&&(Fe.type==="checkbox"||Fe.type==="radio")&&(ht=Yi);if(ht&&(ht=ht(e,Ee))){ss(Ge,ht,f,Ue);break e}yt&&yt(e,Fe,Ee),e==="focusout"&&(yt=Fe._wrapperState)&&yt.controlled&&Fe.type==="number"&&Gt(Fe,"number",Fe.value)}switch(yt=Ee?At(Ee):window,e){case"focusin":(il(yt)||yt.contentEditable==="true")&&(Gi=yt,xo=Ee,pi=null);break;case"focusout":pi=xo=Gi=null;break;case"mousedown":Qa=!0;break;case"contextmenu":case"mouseup":case"dragend":Qa=!1,us(Ge,f,Ue);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":us(Ge,f,Ue)}var wt;if(di)e:{switch(e){case"compositionstart":var xt="onCompositionStart";break e;case"compositionend":xt="onCompositionEnd";break e;case"compositionupdate":xt="onCompositionUpdate";break e}xt=void 0}else Ui?vo(e,f)&&(xt="onCompositionEnd"):e==="keydown"&&f.keyCode===229&&(xt="onCompositionStart");xt&&(tf&&f.locale!=="ko"&&(Ui||xt!=="onCompositionStart"?xt==="onCompositionEnd"&&Ui&&(wt=qs()):(pn=Ue,ur="value"in pn?pn.value:pn.textContent,Ui=!0)),yt=u(Ee,xt),0<yt.length&&(xt=new Vl(xt,e,null,f,Ue),Ge.push({event:xt,listeners:yt}),wt?xt.data=wt:(wt=nf(f),wt!==null&&(xt.data=wt)))),(wt=hi?bo(e,f):ga(e,f))&&(Ee=u(Ee,"onBeforeInput"),0<Ee.length&&(Ue=new Vl("onBeforeInput","beforeinput",null,f,Ue),Ge.push({event:Ue,listeners:Ee}),Ue.data=wt))}af(Ge,r)})}function a(e,r,f){return{instance:e,listener:r,currentTarget:f}}function u(e,r){for(var f=r+"Capture",d=[];e!==null;){var y=e,M=y.stateNode;y.tag===5&&M!==null&&(y=M,M=Qo(e,f),M!=null&&d.unshift(a(e,M,y)),M=Qo(e,r),M!=null&&d.push(a(e,M,y))),e=e.return}return d}function w(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function C(e,r,f,d,y){for(var M=r._reactName,D=[];f!==null&&f!==d;){var X=f,me=X.alternate,Ee=X.stateNode;if(me!==null&&me===d)break;X.tag===5&&Ee!==null&&(X=Ee,y?(me=Qo(f,M),me!=null&&D.unshift(a(f,me,X))):y||(me=Qo(f,M),me!=null&&D.push(a(f,me,X)))),f=f.return}D.length!==0&&e.push({event:r,listeners:D})}var P=/\r\n?/g,le=/\u0000|\uFFFD/g;function Ce(e){return(typeof e=="string"?e:""+e).replace(P,`
`).replace(le,"")}function je(e,r,f){if(r=Ce(r),Ce(e)!==r&&f)throw Error(l(425))}function Be(){}var Xe=null,pt=null;function Tt(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var _n=typeof setTimeout=="function"?setTimeout:void 0,Mn=typeof clearTimeout=="function"?clearTimeout:void 0,Vn=typeof Promise=="function"?Promise:void 0,qn=typeof queueMicrotask=="function"?queueMicrotask:typeof Vn<"u"?function(e){return Vn.resolve(null).then(e).catch(ei)}:_n;function ei(e){setTimeout(function(){throw e})}function sf(e,r){var f=r,d=0;do{var y=f.nextSibling;if(e.removeChild(f),y&&y.nodeType===8)if(f=y.data,f==="/$"){if(d===0){e.removeChild(y),Ot(r);return}d--}else f!=="$"&&f!=="$?"&&f!=="$!"||d++;f=y}while(f);Ot(r)}function ba(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function cc(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var f=e.data;if(f==="$"||f==="$!"||f==="$?"){if(r===0)return e;r--}else f==="/$"&&r++}e=e.previousSibling}return null}var Wa=Math.random().toString(36).slice(2),vi="__reactFiber$"+Wa,$i="__reactProps$"+Wa,Kt="__reactContainer$"+Wa,Ja="__reactEvents$"+Wa,O="__reactListeners$"+Wa,ko="__reactHandles$"+Wa;function bi(e){var r=e[vi];if(r)return r;for(var f=e.parentNode;f;){if(r=f[Kt]||f[vi]){if(f=r.alternate,r.child!==null||f!==null&&f.child!==null)for(e=cc(e);e!==null;){if(f=e[vi])return f;e=cc(e)}return r}e=f,f=e.parentNode}return null}function Yn(e){return e=e[vi]||e[Kt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function At(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(l(33))}function fl(e){return e[$i]||null}var Nu=[],cl=-1;function Rr(e){return{current:e}}function vn(e){0>cl||(e.current=Nu[cl],Nu[cl]=null,cl--)}function wn(e,r){cl++,Nu[cl]=e.current,e.current=r}var So={},_r=Rr(So),Or=Rr(!1),jr=So;function ul(e,r){var f=e.type.contextTypes;if(!f)return So;var d=e.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===r)return d.__reactInternalMemoizedMaskedChildContext;var y={},M;for(M in f)y[M]=r[M];return d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=y),y}function Br(e){return e=e.childContextTypes,e!=null}function uc(){vn(Or),vn(_r)}function $d(e,r,f){if(_r.current!==So)throw Error(l(168));wn(_r,r),wn(Or,f)}function Hd(e,r,f){var d=e.stateNode;if(r=r.childContextTypes,typeof d.getChildContext!="function")return f;d=d.getChildContext();for(var y in d)if(!(y in r))throw Error(l(108,ce(e)||"Unknown",y));return W({},f,d)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||So,jr=_r.current,wn(_r,e),wn(Or,Or.current),!0}function Vd(e,r,f){var d=e.stateNode;if(!d)throw Error(l(169));f?(e=Hd(e,r,jr),d.__reactInternalMemoizedMergedChildContext=e,vn(Or),vn(_r),wn(_r,e)):vn(Or),wn(Or,f)}var $a=null,dc=!1,Cu=!1;function qd(e){$a===null?$a=[e]:$a.push(e)}function ps(e){dc=!0,qd(e)}function Io(){if(!Cu&&$a!==null){Cu=!0;var e=0,r=Ut;try{var f=$a;for(Ut=1;e<f.length;e++){var d=f[e];do d=d(!0);while(d!==null)}$a=null,dc=!1}catch(y){throw $a!==null&&($a=$a.slice(e+1)),ec(Zl,Io),y}finally{Ut=r,Cu=!1}}return null}var dl=[],Mr=0,hc=null,mc=0,xi=[],_i=0,gs=null,La=1,xa="";function ws(e,r){dl[Mr++]=mc,dl[Mr++]=hc,hc=e,mc=r}function Kd(e,r,f){xi[_i++]=La,xi[_i++]=xa,xi[_i++]=gs,gs=e;var d=La;e=xa;var y=32-Et(d)-1;d&=~(1<<y),f+=1;var M=32-Et(r)+y;if(30<M){var D=y-y%5;M=(d&(1<<D)-1).toString(32),d>>=D,y-=D,La=1<<32-Et(r)+y|f<<y|d,xa=M+e}else La=1<<M|f<<y|d,xa=e}function lf(e){e.return!==null&&(ws(e,1),Kd(e,1,0))}function ys(e){for(;e===hc;)hc=dl[--Mr],dl[Mr]=null,mc=dl[--Mr],dl[Mr]=null;for(;e===gs;)gs=xi[--_i],xi[_i]=null,xa=xi[--_i],xi[_i]=null,La=xi[--_i],xi[_i]=null}var Nr=null,ti=null,bn=!1,Hi=null;function _a(e,r){var f=ji(5,null,null,0);f.elementType="DELETED",f.stateNode=r,f.return=e,r=e.deletions,r===null?(e.deletions=[f],e.flags|=16):r.push(f)}function pc(e,r){switch(e.tag){case 5:var f=e.type;return r=r.nodeType!==1||f.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Nr=e,ti=ba(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Nr=e,ti=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(f=gs!==null?{id:La,overflow:xa}:null,e.memoizedState={dehydrated:r,treeContext:f,retryLane:1073741824},f=ji(18,null,null,0),f.stateNode=r,f.return=e,e.child=f,Nr=e,ti=null,!0):!1;default:return!1}}function Ha(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Fr(e){if(bn){var r=ti;if(r){var f=r;if(!pc(e,r)){if(Ha(e))throw Error(l(418));r=ba(f.nextSibling);var d=Nr;r&&pc(e,r)?_a(d,f):(e.flags=e.flags&-4097|2,bn=!1,Nr=e)}}else{if(Ha(e))throw Error(l(418));e.flags=e.flags&-4097|2,bn=!1,Nr=e}}}function Xd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nr=e}function ff(e){if(e!==Nr)return!1;if(!bn)return Xd(e),bn=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Tt(e.type,e.memoizedProps)),r&&(r=ti)){if(Ha(e))throw ku(),Error(l(418));for(;r;)_a(e,r),r=ba(r.nextSibling)}if(Xd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var f=e.data;if(f==="/$"){if(r===0){ti=ba(e.nextSibling);break e}r--}else f!=="$"&&f!=="$!"&&f!=="$?"||r++}e=e.nextSibling}ti=null}}else ti=Nr?ba(e.stateNode.nextSibling):null;return!0}function ku(){for(var e=ti;e;)e=ba(e.nextSibling)}function Ma(){ti=Nr=null,bn=!1}function Na(e){Hi===null?Hi=[e]:Hi.push(e)}var eh=xe.ReactCurrentBatchConfig;function cf(e,r,f){if(e=f.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(l(309));var d=f.stateNode}if(!d)throw Error(l(147,e));var y=d,M=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===M?r.ref:(r=function(D){var X=y.refs;D===null?delete X[M]:X[M]=D},r._stringRef=M,r)}if(typeof e!="string")throw Error(l(284));if(!f._owner)throw Error(l(290,e))}return e}function vs(e,r){throw e=Object.prototype.toString.call(r),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function th(e){var r=e._init;return r(e._payload)}function Su(e){function r(ke,ve){if(e){var Se=ke.deletions;Se===null?(ke.deletions=[ve],ke.flags|=16):Se.push(ve)}}function f(ke,ve){if(!e)return null;for(;ve!==null;)r(ke,ve),ve=ve.sibling;return null}function d(ke,ve){for(ke=new Map;ve!==null;)ve.key!==null?ke.set(ve.key,ve):ke.set(ve.index,ve),ve=ve.sibling;return ke}function y(ke,ve){return ke=na(ke,ve),ke.index=0,ke.sibling=null,ke}function M(ke,ve,Se){return ke.index=Se,e?(Se=ke.alternate,Se!==null?(Se=Se.index,Se<ve?(ke.flags|=2,ve):Se):(ke.flags|=2,ve)):(ke.flags|=1048576,ve)}function D(ke){return e&&ke.alternate===null&&(ke.flags|=2),ke}function X(ke,ve,Se,Qe){return ve===null||ve.tag!==6?(ve=md(Se,ke.mode,Qe),ve.return=ke,ve):(ve=y(ve,Se),ve.return=ke,ve)}function me(ke,ve,Se,Qe){var ht=Se.type;return ht===Y?Ue(ke,ve,Se.props.children,Qe,Se.key):ve!==null&&(ve.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ne&&th(ht)===ve.type)?(Qe=y(ve,Se.props),Qe.ref=cf(ke,ve,Se),Qe.return=ke,Qe):(Qe=Vc(Se.type,Se.key,Se.props,null,ke.mode,Qe),Qe.ref=cf(ke,ve,Se),Qe.return=ke,Qe)}function Ee(ke,ve,Se,Qe){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Se.containerInfo||ve.stateNode.implementation!==Se.implementation?(ve=pd(Se,ke.mode,Qe),ve.return=ke,ve):(ve=y(ve,Se.children||[]),ve.return=ke,ve)}function Ue(ke,ve,Se,Qe,ht){return ve===null||ve.tag!==7?(ve=js(Se,ke.mode,Qe,ht),ve.return=ke,ve):(ve=y(ve,Se),ve.return=ke,ve)}function Ge(ke,ve,Se){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=md(""+ve,ke.mode,Se),ve.return=ke,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case fe:return Se=Vc(ve.type,ve.key,ve.props,null,ke.mode,Se),Se.ref=cf(ke,null,ve),Se.return=ke,Se;case U:return ve=pd(ve,ke.mode,Se),ve.return=ke,ve;case Ne:var Qe=ve._init;return Ge(ke,Qe(ve._payload),Se)}if(ft(ve)||ue(ve))return ve=js(ve,ke.mode,Se,null),ve.return=ke,ve;vs(ke,ve)}return null}function Fe(ke,ve,Se,Qe){var ht=ve!==null?ve.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number")return ht!==null?null:X(ke,ve,""+Se,Qe);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case fe:return Se.key===ht?me(ke,ve,Se,Qe):null;case U:return Se.key===ht?Ee(ke,ve,Se,Qe):null;case Ne:return ht=Se._init,Fe(ke,ve,ht(Se._payload),Qe)}if(ft(Se)||ue(Se))return ht!==null?null:Ue(ke,ve,Se,Qe,null);vs(ke,Se)}return null}function rt(ke,ve,Se,Qe,ht){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number")return ke=ke.get(Se)||null,X(ve,ke,""+Qe,ht);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case fe:return ke=ke.get(Qe.key===null?Se:Qe.key)||null,me(ve,ke,Qe,ht);case U:return ke=ke.get(Qe.key===null?Se:Qe.key)||null,Ee(ve,ke,Qe,ht);case Ne:var yt=Qe._init;return rt(ke,ve,Se,yt(Qe._payload),ht)}if(ft(Qe)||ue(Qe))return ke=ke.get(Se)||null,Ue(ve,ke,Qe,ht,null);vs(ve,Qe)}return null}function ot(ke,ve,Se,Qe){for(var ht=null,yt=null,wt=ve,xt=ve=0,or=null;wt!==null&&xt<Se.length;xt++){wt.index>xt?(or=wt,wt=null):or=wt.sibling;var nn=Fe(ke,wt,Se[xt],Qe);if(nn===null){wt===null&&(wt=or);break}e&&wt&&nn.alternate===null&&r(ke,wt),ve=M(nn,ve,xt),yt===null?ht=nn:yt.sibling=nn,yt=nn,wt=or}if(xt===Se.length)return f(ke,wt),bn&&ws(ke,xt),ht;if(wt===null){for(;xt<Se.length;xt++)wt=Ge(ke,Se[xt],Qe),wt!==null&&(ve=M(wt,ve,xt),yt===null?ht=wt:yt.sibling=wt,yt=wt);return bn&&ws(ke,xt),ht}for(wt=d(ke,wt);xt<Se.length;xt++)or=rt(wt,ke,xt,Se[xt],Qe),or!==null&&(e&&or.alternate!==null&&wt.delete(or.key===null?xt:or.key),ve=M(or,ve,xt),yt===null?ht=or:yt.sibling=or,yt=or);return e&&wt.forEach(function(Uo){return r(ke,Uo)}),bn&&ws(ke,xt),ht}function ct(ke,ve,Se,Qe){var ht=ue(Se);if(typeof ht!="function")throw Error(l(150));if(Se=ht.call(Se),Se==null)throw Error(l(151));for(var yt=ht=null,wt=ve,xt=ve=0,or=null,nn=Se.next();wt!==null&&!nn.done;xt++,nn=Se.next()){wt.index>xt?(or=wt,wt=null):or=wt.sibling;var Uo=Fe(ke,wt,nn.value,Qe);if(Uo===null){wt===null&&(wt=or);break}e&&wt&&Uo.alternate===null&&r(ke,wt),ve=M(Uo,ve,xt),yt===null?ht=Uo:yt.sibling=Uo,yt=Uo,wt=or}if(nn.done)return f(ke,wt),bn&&ws(ke,xt),ht;if(wt===null){for(;!nn.done;xt++,nn=Se.next())nn=Ge(ke,nn.value,Qe),nn!==null&&(ve=M(nn,ve,xt),yt===null?ht=nn:yt.sibling=nn,yt=nn);return bn&&ws(ke,xt),ht}for(wt=d(ke,wt);!nn.done;xt++,nn=Se.next())nn=rt(wt,ke,xt,nn.value,Qe),nn!==null&&(e&&nn.alternate!==null&&wt.delete(nn.key===null?xt:nn.key),ve=M(nn,ve,xt),yt===null?ht=nn:yt.sibling=nn,yt=nn);return e&&wt.forEach(function(J0){return r(ke,J0)}),bn&&ws(ke,xt),ht}function zn(ke,ve,Se,Qe){if(typeof Se=="object"&&Se!==null&&Se.type===Y&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case fe:e:{for(var ht=Se.key,yt=ve;yt!==null;){if(yt.key===ht){if(ht=Se.type,ht===Y){if(yt.tag===7){f(ke,yt.sibling),ve=y(yt,Se.props.children),ve.return=ke,ke=ve;break e}}else if(yt.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===Ne&&th(ht)===yt.type){f(ke,yt.sibling),ve=y(yt,Se.props),ve.ref=cf(ke,yt,Se),ve.return=ke,ke=ve;break e}f(ke,yt);break}else r(ke,yt);yt=yt.sibling}Se.type===Y?(ve=js(Se.props.children,ke.mode,Qe,Se.key),ve.return=ke,ke=ve):(Qe=Vc(Se.type,Se.key,Se.props,null,ke.mode,Qe),Qe.ref=cf(ke,ve,Se),Qe.return=ke,ke=Qe)}return D(ke);case U:e:{for(yt=Se.key;ve!==null;){if(ve.key===yt)if(ve.tag===4&&ve.stateNode.containerInfo===Se.containerInfo&&ve.stateNode.implementation===Se.implementation){f(ke,ve.sibling),ve=y(ve,Se.children||[]),ve.return=ke,ke=ve;break e}else{f(ke,ve);break}else r(ke,ve);ve=ve.sibling}ve=pd(Se,ke.mode,Qe),ve.return=ke,ke=ve}return D(ke);case Ne:return yt=Se._init,zn(ke,ve,yt(Se._payload),Qe)}if(ft(Se))return ot(ke,ve,Se,Qe);if(ue(Se))return ct(ke,ve,Se,Qe);vs(ke,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"?(Se=""+Se,ve!==null&&ve.tag===6?(f(ke,ve.sibling),ve=y(ve,Se),ve.return=ke,ke=ve):(f(ke,ve),ve=md(Se,ke.mode,Qe),ve.return=ke,ke=ve),D(ke)):f(ke,ve)}return zn}var Tn=Su(!0),gc=Su(!1),uf=Rr(null),ni=null,jo=null,hl=null;function Va(){hl=jo=ni=null}function wc(e){var r=uf.current;vn(uf),e._currentValue=r}function pr(e,r,f){for(;e!==null;){var d=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,d!==null&&(d.childLanes|=r)):d!==null&&(d.childLanes&r)!==r&&(d.childLanes|=r),e===f)break;e=e.return}}function Eo(e,r){ni=e,hl=jo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(Tr=!0),e.firstContext=null)}function Mi(e){var r=e._currentValue;if(hl!==e)if(e={context:e,memoizedValue:r,next:null},jo===null){if(ni===null)throw Error(l(308));jo=e,ni.dependencies={lanes:0,firstContext:e}}else jo=jo.next=e;return r}var bs=null;function Iu(e){bs===null?bs=[e]:bs.push(e)}function yc(e,r,f,d){var y=r.interleaved;return y===null?(f.next=f,Iu(r)):(f.next=y.next,y.next=f),r.interleaved=f,qa(e,d)}function qa(e,r){e.lanes|=r;var f=e.alternate;for(f!==null&&(f.lanes|=r),f=e,e=e.return;e!==null;)e.childLanes|=r,f=e.alternate,f!==null&&(f.childLanes|=r),f=e,e=e.return;return f.tag===3?f.stateNode:null}var Ni=!1;function vc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nh(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ka(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Ci(e,r,f){var d=e.updateQueue;if(d===null)return null;if(d=d.shared,en&2){var y=d.pending;return y===null?r.next=r:(r.next=y.next,y.next=r),d.pending=r,qa(e,f)}return y=d.interleaved,y===null?(r.next=r,Iu(d)):(r.next=y.next,y.next=r),d.interleaved=r,qa(e,f)}function bc(e,r,f){if(r=r.updateQueue,r!==null&&(r=r.shared,(f&4194240)!==0)){var d=r.lanes;d&=e.pendingLanes,f|=d,r.lanes=f,Vr(e,f)}}function rh(e,r){var f=e.updateQueue,d=e.alternate;if(d!==null&&(d=d.updateQueue,f===d)){var y=null,M=null;if(f=f.firstBaseUpdate,f!==null){do{var D={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};M===null?y=M=D:M=M.next=D,f=f.next}while(f!==null);M===null?y=M=r:M=M.next=r}else y=M=r;f={baseState:d.baseState,firstBaseUpdate:y,lastBaseUpdate:M,shared:d.shared,effects:d.effects},e.updateQueue=f;return}e=f.lastBaseUpdate,e===null?f.firstBaseUpdate=r:e.next=r,f.lastBaseUpdate=r}function ml(e,r,f,d){var y=e.updateQueue;Ni=!1;var M=y.firstBaseUpdate,D=y.lastBaseUpdate,X=y.shared.pending;if(X!==null){y.shared.pending=null;var me=X,Ee=me.next;me.next=null,D===null?M=Ee:D.next=Ee,D=me;var Ue=e.alternate;Ue!==null&&(Ue=Ue.updateQueue,X=Ue.lastBaseUpdate,X!==D&&(X===null?Ue.firstBaseUpdate=Ee:X.next=Ee,Ue.lastBaseUpdate=me))}if(M!==null){var Ge=y.baseState;D=0,Ue=Ee=me=null,X=M;do{var Fe=X.lane,rt=X.eventTime;if((d&Fe)===Fe){Ue!==null&&(Ue=Ue.next={eventTime:rt,lane:0,tag:X.tag,payload:X.payload,callback:X.callback,next:null});e:{var ot=e,ct=X;switch(Fe=r,rt=f,ct.tag){case 1:if(ot=ct.payload,typeof ot=="function"){Ge=ot.call(rt,Ge,Fe);break e}Ge=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=ct.payload,Fe=typeof ot=="function"?ot.call(rt,Ge,Fe):ot,Fe==null)break e;Ge=W({},Ge,Fe);break e;case 2:Ni=!0}}X.callback!==null&&X.lane!==0&&(e.flags|=64,Fe=y.effects,Fe===null?y.effects=[X]:Fe.push(X))}else rt={eventTime:rt,lane:Fe,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Ue===null?(Ee=Ue=rt,me=Ge):Ue=Ue.next=rt,D|=Fe;if(X=X.next,X===null){if(X=y.shared.pending,X===null)break;Fe=X,X=Fe.next,Fe.next=null,y.lastBaseUpdate=Fe,y.shared.pending=null}}while(!0);if(Ue===null&&(me=Ge),y.baseState=me,y.firstBaseUpdate=Ee,y.lastBaseUpdate=Ue,r=y.shared.interleaved,r!==null){y=r;do D|=y.lane,y=y.next;while(y!==r)}else M===null&&(y.shared.lanes=0);zo|=D,e.lanes=D,e.memoizedState=Ge}}function ju(e,r,f){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var d=e[r],y=d.callback;if(y!==null){if(d.callback=null,d=f,typeof y!="function")throw Error(l(191,y));y.call(d)}}}var df={},Ca=Rr(df),hf=Rr(df),pl=Rr(df);function Xa(e){if(e===df)throw Error(l(174));return e}function Eu(e,r){switch(wn(pl,r),wn(hf,e),wn(Ca,df),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Dn(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=Dn(r,e)}vn(Ca),wn(Ca,r)}function To(){vn(Ca),vn(hf),vn(pl)}function Tu(e){Xa(pl.current);var r=Xa(Ca.current),f=Dn(r,e.type);r!==f&&(wn(hf,e),wn(Ca,f))}function Lc(e){hf.current===e&&(vn(Ca),vn(hf))}var Nn=Rr(0);function Ls(e){for(var r=e;r!==null;){if(r.tag===13){var f=r.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Au=[];function xc(){for(var e=0;e<Au.length;e++)Au[e]._workInProgressVersionPrimary=null;Au.length=0}var mf=xe.ReactCurrentDispatcher,Du=xe.ReactCurrentBatchConfig,Ao=0,Sn=null,Pn=null,Kn=null,gl=!1,pf=!1,xs=0,Pt=0;function Cr(){throw Error(l(321))}function Pu(e,r){if(r===null)return!1;for(var f=0;f<r.length&&f<e.length;f++)if(!Ie(e[f],r[f]))return!1;return!0}function _s(e,r,f,d,y,M){if(Ao=M,Sn=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,mf.current=e===null||e.memoizedState===null?S0:Ic,e=f(d,y),pf){M=0;do{if(pf=!1,xs=0,25<=M)throw Error(l(301));M+=1,Kn=Pn=null,r.updateQueue=null,mf.current=bl,e=f(d,y)}while(pf)}if(mf.current=Sc,r=Pn!==null&&Pn.next!==null,Ao=0,Kn=Pn=Sn=null,gl=!1,r)throw Error(l(300));return e}function _c(){var e=xs!==0;return xs=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kn===null?Sn.memoizedState=Kn=e:Kn=Kn.next=e,Kn}function ki(){if(Pn===null){var e=Sn.alternate;e=e!==null?e.memoizedState:null}else e=Pn.next;var r=Kn===null?Sn.memoizedState:Kn.next;if(r!==null)Kn=r,Pn=e;else{if(e===null)throw Error(l(310));Pn=e,e={memoizedState:Pn.memoizedState,baseState:Pn.baseState,baseQueue:Pn.baseQueue,queue:Pn.queue,next:null},Kn===null?Sn.memoizedState=Kn=e:Kn=Kn.next=e}return Kn}function kr(e,r){return typeof r=="function"?r(e):r}function zu(e){var r=ki(),f=r.queue;if(f===null)throw Error(l(311));f.lastRenderedReducer=e;var d=Pn,y=d.baseQueue,M=f.pending;if(M!==null){if(y!==null){var D=y.next;y.next=M.next,M.next=D}d.baseQueue=y=M,f.pending=null}if(y!==null){M=y.next,d=d.baseState;var X=D=null,me=null,Ee=M;do{var Ue=Ee.lane;if((Ao&Ue)===Ue)me!==null&&(me=me.next={lane:0,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null}),d=Ee.hasEagerState?Ee.eagerState:e(d,Ee.action);else{var Ge={lane:Ue,action:Ee.action,hasEagerState:Ee.hasEagerState,eagerState:Ee.eagerState,next:null};me===null?(X=me=Ge,D=d):me=me.next=Ge,Sn.lanes|=Ue,zo|=Ue}Ee=Ee.next}while(Ee!==null&&Ee!==M);me===null?D=d:me.next=X,Ie(d,r.memoizedState)||(Tr=!0),r.memoizedState=d,r.baseState=D,r.baseQueue=me,f.lastRenderedState=d}if(e=f.interleaved,e!==null){y=e;do M=y.lane,Sn.lanes|=M,zo|=M,y=y.next;while(y!==e)}else y===null&&(f.lanes=0);return[r.memoizedState,f.dispatch]}function wl(e){var r=ki(),f=r.queue;if(f===null)throw Error(l(311));f.lastRenderedReducer=e;var d=f.dispatch,y=f.pending,M=r.memoizedState;if(y!==null){f.pending=null;var D=y=y.next;do M=e(M,D.action),D=D.next;while(D!==y);Ie(M,r.memoizedState)||(Tr=!0),r.memoizedState=M,r.baseQueue===null&&(r.baseState=M),f.lastRenderedState=M}return[M,d]}function Mc(){}function Ru(e,r){var f=Sn,d=ki(),y=r(),M=!Ie(d.memoizedState,y);if(M&&(d.memoizedState=y,Tr=!0),d=d.queue,Sa(eo.bind(null,f,d,e),[e]),d.getSnapshot!==r||M||Kn!==null&&Kn.memoizedState.tag&1){if(f.flags|=2048,yl(9,Ur.bind(null,f,d,y,r),void 0,null),ar===null)throw Error(l(349));Ao&30||Ou(f,r,y)}return y}function Ou(e,r,f){e.flags|=16384,e={getSnapshot:r,value:f},r=Sn.updateQueue,r===null?(r={lastEffect:null,stores:null},Sn.updateQueue=r,r.stores=[e]):(f=r.stores,f===null?r.stores=[e]:f.push(e))}function Ur(e,r,f,d){r.value=f,r.getSnapshot=d,Nc(r)&&Bu(e)}function eo(e,r,f){return f(function(){Nc(r)&&Bu(e)})}function Nc(e){var r=e.getSnapshot;e=e.value;try{var f=r();return!Ie(e,f)}catch{return!0}}function Bu(e){var r=qa(e,1);r!==null&&ta(r,e,1,-1)}function gf(e){var r=ka();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kr,lastRenderedState:e},r.queue=e,e=e.dispatch=fh.bind(null,Sn,e),[r.memoizedState,e]}function yl(e,r,f,d){return e={tag:e,create:r,destroy:f,deps:d,next:null},r=Sn.updateQueue,r===null?(r={lastEffect:null,stores:null},Sn.updateQueue=r,r.lastEffect=e.next=e):(f=r.lastEffect,f===null?r.lastEffect=e.next=e:(d=f.next,f.next=e,e.next=d,r.lastEffect=e)),e}function Cc(){return ki().memoizedState}function wf(e,r,f,d){var y=ka();Sn.flags|=e,y.memoizedState=yl(1|r,f,void 0,d===void 0?null:d)}function vl(e,r,f,d){var y=ki();d=d===void 0?null:d;var M=void 0;if(Pn!==null){var D=Pn.memoizedState;if(M=D.destroy,d!==null&&Pu(d,D.deps)){y.memoizedState=yl(r,f,M,d);return}}Sn.flags|=e,y.memoizedState=yl(1|r,f,M,d)}function kc(e,r){return wf(8390656,8,e,r)}function Sa(e,r){return vl(2048,8,e,r)}function ih(e,r){return vl(4,2,e,r)}function to(e,r){return vl(4,4,e,r)}function Fu(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Uu(e,r,f){return f=f!=null?f.concat([e]):null,vl(4,4,Fu.bind(null,r,e),f)}function yf(){}function ah(e,r){var f=ki();r=r===void 0?null:r;var d=f.memoizedState;return d!==null&&r!==null&&Pu(r,d[1])?d[0]:(f.memoizedState=[e,r],e)}function oh(e,r){var f=ki();r=r===void 0?null:r;var d=f.memoizedState;return d!==null&&r!==null&&Pu(r,d[1])?d[0]:(e=e(),f.memoizedState=[e,r],e)}function sh(e,r,f){return Ao&21?(Ie(f,r)||(f=Yl(),Sn.lanes|=f,zo|=f,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,Tr=!0),e.memoizedState=f)}function lh(e,r){var f=Ut;Ut=f!==0&&4>f?f:4,e(!0);var d=Du.transition;Du.transition={};try{e(!1),r()}finally{Ut=f,Du.transition=d}}function Zu(){return ki().memoizedState}function k0(e,r,f){var d=Bo(e);if(f={lane:d,action:f,hasEagerState:!1,eagerState:null,next:null},Yu(e))Er(r,f);else if(f=yc(e,r,f,d),f!==null){var y=Pr();ta(f,e,d,y),Vi(f,r,d)}}function fh(e,r,f){var d=Bo(e),y={lane:d,action:f,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Er(r,y);else{var M=e.alternate;if(e.lanes===0&&(M===null||M.lanes===0)&&(M=r.lastRenderedReducer,M!==null))try{var D=r.lastRenderedState,X=M(D,f);if(y.hasEagerState=!0,y.eagerState=X,Ie(X,D)){var me=r.interleaved;me===null?(y.next=y,Iu(r)):(y.next=me.next,me.next=y),r.interleaved=y;return}}catch{}finally{}f=yc(e,r,y,d),f!==null&&(y=Pr(),ta(f,e,d,y),Vi(f,r,d))}}function Yu(e){var r=e.alternate;return e===Sn||r!==null&&r===Sn}function Er(e,r){pf=gl=!0;var f=e.pending;f===null?r.next=r:(r.next=f.next,f.next=r),e.pending=r}function Vi(e,r,f){if(f&4194240){var d=r.lanes;d&=e.pendingLanes,f|=d,r.lanes=f,Vr(e,f)}}var Sc={readContext:Mi,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},S0={readContext:Mi,useCallback:function(e,r){return ka().memoizedState=[e,r===void 0?null:r],e},useContext:Mi,useEffect:kc,useImperativeHandle:function(e,r,f){return f=f!=null?f.concat([e]):null,wf(4194308,4,Fu.bind(null,r,e),f)},useLayoutEffect:function(e,r){return wf(4194308,4,e,r)},useInsertionEffect:function(e,r){return wf(4,2,e,r)},useMemo:function(e,r){var f=ka();return r=r===void 0?null:r,e=e(),f.memoizedState=[e,r],e},useReducer:function(e,r,f){var d=ka();return r=f!==void 0?f(r):r,d.memoizedState=d.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},d.queue=e,e=e.dispatch=k0.bind(null,Sn,e),[d.memoizedState,e]},useRef:function(e){var r=ka();return e={current:e},r.memoizedState=e},useState:gf,useDebugValue:yf,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=gf(!1),r=e[0];return e=lh.bind(null,e[1]),ka().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,f){var d=Sn,y=ka();if(bn){if(f===void 0)throw Error(l(407));f=f()}else{if(f=r(),ar===null)throw Error(l(349));Ao&30||Ou(d,r,f)}y.memoizedState=f;var M={value:f,getSnapshot:r};return y.queue=M,kc(eo.bind(null,d,M,e),[e]),d.flags|=2048,yl(9,Ur.bind(null,d,M,f,r),void 0,null),f},useId:function(){var e=ka(),r=ar.identifierPrefix;if(bn){var f=xa,d=La;f=(d&~(1<<32-Et(d)-1)).toString(32)+f,r=":"+r+"R"+f,f=xs++,0<f&&(r+="H"+f.toString(32)),r+=":"}else f=Pt++,r=":"+r+"r"+f.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Ic={readContext:Mi,useCallback:ah,useContext:Mi,useEffect:Sa,useImperativeHandle:Uu,useInsertionEffect:ih,useLayoutEffect:to,useMemo:oh,useReducer:zu,useRef:Cc,useState:function(){return zu(kr)},useDebugValue:yf,useDeferredValue:function(e){var r=ki();return sh(r,Pn.memoizedState,e)},useTransition:function(){var e=zu(kr)[0],r=ki().memoizedState;return[e,r]},useMutableSource:Mc,useSyncExternalStore:Ru,useId:Zu,unstable_isNewReconciler:!1},bl={readContext:Mi,useCallback:ah,useContext:Mi,useEffect:Sa,useImperativeHandle:Uu,useInsertionEffect:ih,useLayoutEffect:to,useMemo:oh,useReducer:wl,useRef:Cc,useState:function(){return wl(kr)},useDebugValue:yf,useDeferredValue:function(e){var r=ki();return Pn===null?r.memoizedState=e:sh(r,Pn.memoizedState,e)},useTransition:function(){var e=wl(kr)[0],r=ki().memoizedState;return[e,r]},useMutableSource:Mc,useSyncExternalStore:Ru,useId:Zu,unstable_isNewReconciler:!1};function Si(e,r){if(e&&e.defaultProps){r=W({},r),e=e.defaultProps;for(var f in e)r[f]===void 0&&(r[f]=e[f]);return r}return r}function jc(e,r,f,d){r=e.memoizedState,f=f(d,r),f=f==null?r:W({},r,f),e.memoizedState=f,e.lanes===0&&(e.updateQueue.baseState=f)}var Ec={isMounted:function(e){return(e=e._reactInternals)?ua(e)===e:!1},enqueueSetState:function(e,r,f){e=e._reactInternals;var d=Pr(),y=Bo(e),M=Ka(d,y);M.payload=r,f!=null&&(M.callback=f),r=Ci(e,M,y),r!==null&&(ta(r,e,y,d),bc(r,e,y))},enqueueReplaceState:function(e,r,f){e=e._reactInternals;var d=Pr(),y=Bo(e),M=Ka(d,y);M.tag=1,M.payload=r,f!=null&&(M.callback=f),r=Ci(e,M,y),r!==null&&(ta(r,e,y,d),bc(r,e,y))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var f=Pr(),d=Bo(e),y=Ka(f,d);y.tag=2,r!=null&&(y.callback=r),r=Ci(e,y,d),r!==null&&(ta(r,e,d,f),bc(r,e,d))}};function Gu(e,r,f,d,y,M,D){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(d,M,D):r.prototype&&r.prototype.isPureReactComponent?!Ke(f,d)||!Ke(y,M):!0}function Ms(e,r,f){var d=!1,y=So,M=r.contextType;return typeof M=="object"&&M!==null?M=Mi(M):(y=Br(r)?jr:_r.current,d=r.contextTypes,M=(d=d!=null)?ul(e,y):So),r=new r(f,M),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Ec,e.stateNode=r,r._reactInternals=e,d&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=y,e.__reactInternalMemoizedMaskedChildContext=M),r}function Ll(e,r,f,d){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(f,d),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(f,d),r.state!==e&&Ec.enqueueReplaceState(r,r.state,null)}function Qu(e,r,f,d){var y=e.stateNode;y.props=f,y.state=e.memoizedState,y.refs={},vc(e);var M=r.contextType;typeof M=="object"&&M!==null?y.context=Mi(M):(M=Br(r)?jr:_r.current,y.context=ul(e,M)),y.state=e.memoizedState,M=r.getDerivedStateFromProps,typeof M=="function"&&(jc(e,r,M,f),y.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(r=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),r!==y.state&&Ec.enqueueReplaceState(y,y.state,null),ml(e,f,y,d),y.state=e.memoizedState),typeof y.componentDidMount=="function"&&(e.flags|=4194308)}function Ns(e,r){try{var f="",d=r;do f+=oe(d),d=d.return;while(d);var y=f}catch(M){y=`
Error generating stack: `+M.message+`
`+M.stack}return{value:e,source:r,stack:y,digest:null}}function Tc(e,r,f){return{value:e,source:null,stack:f??null,digest:r??null}}function xl(e,r){try{console.error(r.value)}catch(f){setTimeout(function(){throw f})}}var ch=typeof WeakMap=="function"?WeakMap:Map;function vf(e,r,f){f=Ka(-1,f),f.tag=3,f.payload={element:null};var d=r.value;return f.callback=function(){Yc||(Yc=!0,sd=d),xl(e,r)},f}function Ac(e,r,f){f=Ka(-1,f),f.tag=3;var d=e.type.getDerivedStateFromError;if(typeof d=="function"){var y=r.value;f.payload=function(){return d(y)},f.callback=function(){xl(e,r)}}var M=e.stateNode;return M!==null&&typeof M.componentDidCatch=="function"&&(f.callback=function(){xl(e,r),typeof d!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var D=r.stack;this.componentDidCatch(r.value,{componentStack:D!==null?D:""})}),f}function bf(e,r,f){var d=e.pingCache;if(d===null){d=e.pingCache=new ch;var y=new Set;d.set(r,y)}else y=d.get(r),y===void 0&&(y=new Set,d.set(r,y));y.has(f)||(y.add(f),e=z0.bind(null,e,r,f),r.then(e,e))}function uh(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Wu(e,r,f,d,y){return e.mode&1?(e.flags|=65536,e.lanes=y,e):(e===r?e.flags|=65536:(e.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(r=Ka(-1,1),r.tag=2,Ci(f,r,1))),f.lanes|=1),e)}var Dc=xe.ReactCurrentOwner,Tr=!1;function gr(e,r,f,d){r.child=e===null?gc(r,null,f,d):Tn(r,e.child,f,d)}function dh(e,r,f,d,y){f=f.render;var M=r.ref;return Eo(r,y),d=_s(e,r,f,d,M,y),f=_c(),e!==null&&!Tr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~y,qi(e,r,y)):(bn&&f&&lf(r),r.flags|=1,gr(e,r,d,y),r.child)}function Ju(e,r,f,d,y){if(e===null){var M=f.type;return typeof M=="function"&&!Hc(M)&&M.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(r.tag=15,r.type=M,Ia(e,r,M,d,y)):(e=Vc(f.type,null,d,r,r.mode,y),e.ref=r.ref,e.return=r,r.child=e)}if(M=e.child,!(e.lanes&y)){var D=M.memoizedProps;if(f=f.compare,f=f!==null?f:Ke,f(D,d)&&e.ref===r.ref)return qi(e,r,y)}return r.flags|=1,e=na(M,d),e.ref=r.ref,e.return=r,r.child=e}function Ia(e,r,f,d,y){if(e!==null){var M=e.memoizedProps;if(Ke(M,d)&&e.ref===r.ref)if(Tr=!1,r.pendingProps=d=M,(e.lanes&y)!==0)e.flags&131072&&(Tr=!0);else return r.lanes=e.lanes,qi(e,r,y)}return Vu(e,r,f,d,y)}function $u(e,r,f){var d=r.pendingProps,y=d.children,M=e!==null?e.memoizedState:null;if(d.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},wn(Cl,ii),ii|=f;else{if(!(f&1073741824))return e=M!==null?M.baseLanes|f:f,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,wn(Cl,ii),ii|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=M!==null?M.baseLanes:f,wn(Cl,ii),ii|=d}else M!==null?(d=M.baseLanes|f,r.memoizedState=null):d=f,wn(Cl,ii),ii|=d;return gr(e,r,y,f),r.child}function Hu(e,r){var f=r.ref;(e===null&&f!==null||e!==null&&e.ref!==f)&&(r.flags|=512,r.flags|=2097152)}function Vu(e,r,f,d,y){var M=Br(f)?jr:_r.current;return M=ul(r,M),Eo(r,y),f=_s(e,r,f,d,M,y),d=_c(),e!==null&&!Tr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~y,qi(e,r,y)):(bn&&d&&lf(r),r.flags|=1,gr(e,r,f,y),r.child)}function qu(e,r,f,d,y){if(Br(f)){var M=!0;Li(r)}else M=!1;if(Eo(r,y),r.stateNode===null)zc(e,r),Ms(r,f,d),Qu(r,f,d,y),d=!0;else if(e===null){var D=r.stateNode,X=r.memoizedProps;D.props=X;var me=D.context,Ee=f.contextType;typeof Ee=="object"&&Ee!==null?Ee=Mi(Ee):(Ee=Br(f)?jr:_r.current,Ee=ul(r,Ee));var Ue=f.getDerivedStateFromProps,Ge=typeof Ue=="function"||typeof D.getSnapshotBeforeUpdate=="function";Ge||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(X!==d||me!==Ee)&&Ll(r,D,d,Ee),Ni=!1;var Fe=r.memoizedState;D.state=Fe,ml(r,d,D,y),me=r.memoizedState,X!==d||Fe!==me||Or.current||Ni?(typeof Ue=="function"&&(jc(r,f,Ue,d),me=r.memoizedState),(X=Ni||Gu(r,f,X,d,Fe,me,Ee))?(Ge||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(r.flags|=4194308)):(typeof D.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=d,r.memoizedState=me),D.props=d,D.state=me,D.context=Ee,d=X):(typeof D.componentDidMount=="function"&&(r.flags|=4194308),d=!1)}else{D=r.stateNode,nh(e,r),X=r.memoizedProps,Ee=r.type===r.elementType?X:Si(r.type,X),D.props=Ee,Ge=r.pendingProps,Fe=D.context,me=f.contextType,typeof me=="object"&&me!==null?me=Mi(me):(me=Br(f)?jr:_r.current,me=ul(r,me));var rt=f.getDerivedStateFromProps;(Ue=typeof rt=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(X!==Ge||Fe!==me)&&Ll(r,D,d,me),Ni=!1,Fe=r.memoizedState,D.state=Fe,ml(r,d,D,y);var ot=r.memoizedState;X!==Ge||Fe!==ot||Or.current||Ni?(typeof rt=="function"&&(jc(r,f,rt,d),ot=r.memoizedState),(Ee=Ni||Gu(r,f,Ee,d,Fe,ot,me)||!1)?(Ue||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(d,ot,me),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(d,ot,me)),typeof D.componentDidUpdate=="function"&&(r.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof D.componentDidUpdate!="function"||X===e.memoizedProps&&Fe===e.memoizedState||(r.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||X===e.memoizedProps&&Fe===e.memoizedState||(r.flags|=1024),r.memoizedProps=d,r.memoizedState=ot),D.props=d,D.state=ot,D.context=me,d=Ee):(typeof D.componentDidUpdate!="function"||X===e.memoizedProps&&Fe===e.memoizedState||(r.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||X===e.memoizedProps&&Fe===e.memoizedState||(r.flags|=1024),d=!1)}return Ku(e,r,f,d,M,y)}function Ku(e,r,f,d,y,M){Hu(e,r);var D=(r.flags&128)!==0;if(!d&&!D)return y&&Vd(r,f,!1),qi(e,r,M);d=r.stateNode,Dc.current=r;var X=D&&typeof f.getDerivedStateFromError!="function"?null:d.render();return r.flags|=1,e!==null&&D?(r.child=Tn(r,e.child,null,M),r.child=Tn(r,null,X,M)):gr(e,r,X,M),r.memoizedState=d.state,y&&Vd(r,f,!0),r.child}function hh(e){var r=e.stateNode;r.pendingContext?$d(e,r.pendingContext,r.pendingContext!==r.context):r.context&&$d(e,r.context,!1),Eu(e,r.containerInfo)}function ja(e,r,f,d,y){return Ma(),Na(y),r.flags|=256,gr(e,r,f,d),r.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function xf(e){return{baseLanes:e,cachePool:null,transitions:null}}function Pc(e,r,f){var d=r.pendingProps,y=Nn.current,M=!1,D=(r.flags&128)!==0,X;if((X=D)||(X=e!==null&&e.memoizedState===null?!1:(y&2)!==0),X?(M=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(y|=1),wn(Nn,y&1),e===null)return Fr(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(D=d.children,e=d.fallback,M?(d=r.mode,M=r.child,D={mode:"hidden",children:D},!(d&1)&&M!==null?(M.childLanes=0,M.pendingProps=D):M=qc(D,d,0,null),e=js(e,d,f,null),M.return=r,e.return=r,M.sibling=e,r.child=M,r.child.memoizedState=xf(f),r.memoizedState=Lf,e):_l(r,D));if(y=e.memoizedState,y!==null&&(X=y.dehydrated,X!==null))return vt(e,r,D,d,X,y,f);if(M){M=d.fallback,D=r.mode,y=e.child,X=y.sibling;var me={mode:"hidden",children:d.children};return!(D&1)&&r.child!==y?(d=r.child,d.childLanes=0,d.pendingProps=me,r.deletions=null):(d=na(y,me),d.subtreeFlags=y.subtreeFlags&14680064),X!==null?M=na(X,M):(M=js(M,D,f,null),M.flags|=2),M.return=r,d.return=r,d.sibling=M,r.child=d,d=M,M=r.child,D=e.child.memoizedState,D=D===null?xf(f):{baseLanes:D.baseLanes|f,cachePool:null,transitions:D.transitions},M.memoizedState=D,M.childLanes=e.childLanes&~f,r.memoizedState=Lf,d}return M=e.child,e=M.sibling,d=na(M,{mode:"visible",children:d.children}),!(r.mode&1)&&(d.lanes=f),d.return=r,d.sibling=null,e!==null&&(f=r.deletions,f===null?(r.deletions=[e],r.flags|=16):f.push(e)),r.child=d,r.memoizedState=null,d}function _l(e,r){return r=qc({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function no(e,r,f,d){return d!==null&&Na(d),Tn(r,e.child,null,f),e=_l(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function vt(e,r,f,d,y,M,D){if(f)return r.flags&256?(r.flags&=-257,d=Tc(Error(l(422))),no(e,r,D,d)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(M=d.fallback,y=r.mode,d=qc({mode:"visible",children:d.children},y,0,null),M=js(M,y,D,null),M.flags|=2,d.return=r,M.return=r,d.sibling=M,r.child=d,r.mode&1&&Tn(r,e.child,null,D),r.child.memoizedState=xf(D),r.memoizedState=Lf,M);if(!(r.mode&1))return no(e,r,D,null);if(y.data==="$!"){if(d=y.nextSibling&&y.nextSibling.dataset,d)var X=d.dgst;return d=X,M=Error(l(419)),d=Tc(M,d,void 0),no(e,r,D,d)}if(X=(D&e.childLanes)!==0,Tr||X){if(d=ar,d!==null){switch(D&-D){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(d.suspendedLanes|D)?0:y,y!==0&&y!==M.retryLane&&(M.retryLane=y,qa(e,y),ta(d,e,y,-1))}return hd(),d=Tc(Error(l(421))),no(e,r,D,d)}return y.data==="$?"?(r.flags|=128,r.child=e.child,r=R0.bind(null,e),y._reactRetry=r,null):(e=M.treeContext,ti=ba(y.nextSibling),Nr=r,bn=!0,Hi=null,e!==null&&(xi[_i++]=La,xi[_i++]=xa,xi[_i++]=gs,La=e.id,xa=e.overflow,gs=r),r=_l(r,d.children),r.flags|=4096,r)}function _f(e,r,f){e.lanes|=r;var d=e.alternate;d!==null&&(d.lanes|=r),pr(e.return,r,f)}function Mf(e,r,f,d,y){var M=e.memoizedState;M===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:d,tail:f,tailMode:y}:(M.isBackwards=r,M.rendering=null,M.renderingStartTime=0,M.last=d,M.tail=f,M.tailMode=y)}function Do(e,r,f){var d=r.pendingProps,y=d.revealOrder,M=d.tail;if(gr(e,r,d.children,f),d=Nn.current,d&2)d=d&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_f(e,f,r);else if(e.tag===19)_f(e,f,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}d&=1}if(wn(Nn,d),!(r.mode&1))r.memoizedState=null;else switch(y){case"forwards":for(f=r.child,y=null;f!==null;)e=f.alternate,e!==null&&Ls(e)===null&&(y=f),f=f.sibling;f=y,f===null?(y=r.child,r.child=null):(y=f.sibling,f.sibling=null),Mf(r,!1,y,f,M);break;case"backwards":for(f=null,y=r.child,r.child=null;y!==null;){if(e=y.alternate,e!==null&&Ls(e)===null){r.child=y;break}e=y.sibling,y.sibling=f,f=y,y=e}Mf(r,!0,f,null,M);break;case"together":Mf(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function zc(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function qi(e,r,f){if(e!==null&&(r.dependencies=e.dependencies),zo|=r.lanes,!(f&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(l(153));if(r.child!==null){for(e=r.child,f=na(e,e.pendingProps),r.child=f,f.return=r;e.sibling!==null;)e=e.sibling,f=f.sibling=na(e,e.pendingProps),f.return=r;f.sibling=null}return r.child}function mh(e,r,f){switch(r.tag){case 3:hh(r),Ma();break;case 5:Tu(r);break;case 1:Br(r.type)&&Li(r);break;case 4:Eu(r,r.stateNode.containerInfo);break;case 10:var d=r.type._context,y=r.memoizedProps.value;wn(uf,d._currentValue),d._currentValue=y;break;case 13:if(d=r.memoizedState,d!==null)return d.dehydrated!==null?(wn(Nn,Nn.current&1),r.flags|=128,null):f&r.child.childLanes?Pc(e,r,f):(wn(Nn,Nn.current&1),e=qi(e,r,f),e!==null?e.sibling:null);wn(Nn,Nn.current&1);break;case 19:if(d=(f&r.childLanes)!==0,e.flags&128){if(d)return Do(e,r,f);r.flags|=128}if(y=r.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),wn(Nn,Nn.current),d)break;return null;case 22:case 23:return r.lanes=0,$u(e,r,f)}return qi(e,r,f)}var wr,Xu,ph,ed;wr=function(e,r){for(var f=r.child;f!==null;){if(f.tag===5||f.tag===6)e.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break;for(;f.sibling===null;){if(f.return===null||f.return===r)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Xu=function(){},ph=function(e,r,f,d){var y=e.memoizedProps;if(y!==d){e=r.stateNode,Xa(Ca.current);var M=null;switch(f){case"input":y=$e(e,y),d=$e(e,d),M=[];break;case"select":y=W({},y,{value:void 0}),d=W({},d,{value:void 0}),M=[];break;case"textarea":y=$t(e,y),d=$t(e,d),M=[];break;default:typeof y.onClick!="function"&&typeof d.onClick=="function"&&(e.onclick=Be)}st(f,d);var D;f=null;for(Ee in y)if(!d.hasOwnProperty(Ee)&&y.hasOwnProperty(Ee)&&y[Ee]!=null)if(Ee==="style"){var X=y[Ee];for(D in X)X.hasOwnProperty(D)&&(f||(f={}),f[D]="")}else Ee!=="dangerouslySetInnerHTML"&&Ee!=="children"&&Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&Ee!=="autoFocus"&&(x.hasOwnProperty(Ee)?M||(M=[]):(M=M||[]).push(Ee,null));for(Ee in d){var me=d[Ee];if(X=y!=null?y[Ee]:void 0,d.hasOwnProperty(Ee)&&me!==X&&(me!=null||X!=null))if(Ee==="style")if(X){for(D in X)!X.hasOwnProperty(D)||me&&me.hasOwnProperty(D)||(f||(f={}),f[D]="");for(D in me)me.hasOwnProperty(D)&&X[D]!==me[D]&&(f||(f={}),f[D]=me[D])}else f||(M||(M=[]),M.push(Ee,f)),f=me;else Ee==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,X=X?X.__html:void 0,me!=null&&X!==me&&(M=M||[]).push(Ee,me)):Ee==="children"?typeof me!="string"&&typeof me!="number"||(M=M||[]).push(Ee,""+me):Ee!=="suppressContentEditableWarning"&&Ee!=="suppressHydrationWarning"&&(x.hasOwnProperty(Ee)?(me!=null&&Ee==="onScroll"&&cn("scroll",e),M||X===me||(M=[])):(M=M||[]).push(Ee,me))}f&&(M=M||[]).push("style",f);var Ee=M;(r.updateQueue=Ee)&&(r.flags|=4)}},ed=function(e,r,f,d){f!==d&&(r.flags|=4)};function Nf(e,r){if(!bn)switch(e.tailMode){case"hidden":r=e.tail;for(var f=null;r!==null;)r.alternate!==null&&(f=r),r=r.sibling;f===null?e.tail=null:f.sibling=null;break;case"collapsed":f=e.tail;for(var d=null;f!==null;)f.alternate!==null&&(d=f),f=f.sibling;d===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:d.sibling=null}}function yr(e){var r=e.alternate!==null&&e.alternate.child===e.child,f=0,d=0;if(r)for(var y=e.child;y!==null;)f|=y.lanes|y.childLanes,d|=y.subtreeFlags&14680064,d|=y.flags&14680064,y.return=e,y=y.sibling;else for(y=e.child;y!==null;)f|=y.lanes|y.childLanes,d|=y.subtreeFlags,d|=y.flags,y.return=e,y=y.sibling;return e.subtreeFlags|=d,e.childLanes=f,r}function I0(e,r,f){var d=r.pendingProps;switch(ys(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yr(r),null;case 1:return Br(r.type)&&uc(),yr(r),null;case 3:return d=r.stateNode,To(),vn(Or),vn(_r),xc(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(e===null||e.child===null)&&(ff(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,Hi!==null&&(cd(Hi),Hi=null))),Xu(e,r),yr(r),null;case 5:Lc(r);var y=Xa(pl.current);if(f=r.type,e!==null&&r.stateNode!=null)ph(e,r,f,d,y),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!d){if(r.stateNode===null)throw Error(l(166));return yr(r),null}if(e=Xa(Ca.current),ff(r)){d=r.stateNode,f=r.type;var M=r.memoizedProps;switch(d[vi]=r,d[$i]=M,e=(r.mode&1)!==0,f){case"dialog":cn("cancel",d),cn("close",d);break;case"iframe":case"object":case"embed":cn("load",d);break;case"video":case"audio":for(y=0;y<yi.length;y++)cn(yi[y],d);break;case"source":cn("error",d);break;case"img":case"image":case"link":cn("error",d),cn("load",d);break;case"details":cn("toggle",d);break;case"input":We(d,M),cn("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!M.multiple},cn("invalid",d);break;case"textarea":qt(d,M),cn("invalid",d)}st(f,M),y=null;for(var D in M)if(M.hasOwnProperty(D)){var X=M[D];D==="children"?typeof X=="string"?d.textContent!==X&&(M.suppressHydrationWarning!==!0&&je(d.textContent,X,e),y=["children",X]):typeof X=="number"&&d.textContent!==""+X&&(M.suppressHydrationWarning!==!0&&je(d.textContent,X,e),y=["children",""+X]):x.hasOwnProperty(D)&&X!=null&&D==="onScroll"&&cn("scroll",d)}switch(f){case"input":He(d),It(d,M,!0);break;case"textarea":He(d),xn(d);break;case"select":case"option":break;default:typeof M.onClick=="function"&&(d.onclick=Be)}d=y,r.updateQueue=d,d!==null&&(r.flags|=4)}else{D=y.nodeType===9?y:y.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jn(f)),e==="http://www.w3.org/1999/xhtml"?f==="script"?(e=D.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof d.is=="string"?e=D.createElement(f,{is:d.is}):(e=D.createElement(f),f==="select"&&(D=e,d.multiple?D.multiple=!0:d.size&&(D.size=d.size))):e=D.createElementNS(e,f),e[vi]=r,e[$i]=d,wr(e,r,!1,!1),r.stateNode=e;e:{switch(D=bt(f,d),f){case"dialog":cn("cancel",e),cn("close",e),y=d;break;case"iframe":case"object":case"embed":cn("load",e),y=d;break;case"video":case"audio":for(y=0;y<yi.length;y++)cn(yi[y],e);y=d;break;case"source":cn("error",e),y=d;break;case"img":case"image":case"link":cn("error",e),cn("load",e),y=d;break;case"details":cn("toggle",e),y=d;break;case"input":We(e,d),y=$e(e,d),cn("invalid",e);break;case"option":y=d;break;case"select":e._wrapperState={wasMultiple:!!d.multiple},y=W({},d,{value:void 0}),cn("invalid",e);break;case"textarea":qt(e,d),y=$t(e,d),cn("invalid",e);break;default:y=d}st(f,y),X=y;for(M in X)if(X.hasOwnProperty(M)){var me=X[M];M==="style"?qe(e,me):M==="dangerouslySetInnerHTML"?(me=me?me.__html:void 0,me!=null&&Pi(e,me)):M==="children"?typeof me=="string"?(f!=="textarea"||me!=="")&&Je(e,me):typeof me=="number"&&Je(e,""+me):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(x.hasOwnProperty(M)?me!=null&&M==="onScroll"&&cn("scroll",e):me!=null&&we(e,M,me,D))}switch(f){case"input":He(e),It(e,d,!1);break;case"textarea":He(e),xn(e);break;case"option":d.value!=null&&e.setAttribute("value",""+be(d.value));break;case"select":e.multiple=!!d.multiple,M=d.value,M!=null?gt(e,!!d.multiple,M,!1):d.defaultValue!=null&&gt(e,!!d.multiple,d.defaultValue,!0);break;default:typeof y.onClick=="function"&&(e.onclick=Be)}switch(f){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return yr(r),null;case 6:if(e&&r.stateNode!=null)ed(e,r,e.memoizedProps,d);else{if(typeof d!="string"&&r.stateNode===null)throw Error(l(166));if(f=Xa(pl.current),Xa(Ca.current),ff(r)){if(d=r.stateNode,f=r.memoizedProps,d[vi]=r,(M=d.nodeValue!==f)&&(e=Nr,e!==null))switch(e.tag){case 3:je(d.nodeValue,f,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&je(d.nodeValue,f,(e.mode&1)!==0)}M&&(r.flags|=4)}else d=(f.nodeType===9?f:f.ownerDocument).createTextNode(d),d[vi]=r,r.stateNode=d}return yr(r),null;case 13:if(vn(Nn),d=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(bn&&ti!==null&&r.mode&1&&!(r.flags&128))ku(),Ma(),r.flags|=98560,M=!1;else if(M=ff(r),d!==null&&d.dehydrated!==null){if(e===null){if(!M)throw Error(l(318));if(M=r.memoizedState,M=M!==null?M.dehydrated:null,!M)throw Error(l(317));M[vi]=r}else Ma(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;yr(r),M=!1}else Hi!==null&&(cd(Hi),Hi=null),M=!0;if(!M)return r.flags&65536?r:null}return r.flags&128?(r.lanes=f,r):(d=d!==null,d!==(e!==null&&e.memoizedState!==null)&&d&&(r.child.flags|=8192,r.mode&1&&(e===null||Nn.current&1?Xn===0&&(Xn=3):hd())),r.updateQueue!==null&&(r.flags|=4),yr(r),null);case 4:return To(),Xu(e,r),e===null&&Ji(r.stateNode.containerInfo),yr(r),null;case 10:return wc(r.type._context),yr(r),null;case 17:return Br(r.type)&&uc(),yr(r),null;case 19:if(vn(Nn),M=r.memoizedState,M===null)return yr(r),null;if(d=(r.flags&128)!==0,D=M.rendering,D===null)if(d)Nf(M,!1);else{if(Xn!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(D=Ls(e),D!==null){for(r.flags|=128,Nf(M,!1),d=D.updateQueue,d!==null&&(r.updateQueue=d,r.flags|=4),r.subtreeFlags=0,d=f,f=r.child;f!==null;)M=f,e=d,M.flags&=14680066,D=M.alternate,D===null?(M.childLanes=0,M.lanes=e,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=D.childLanes,M.lanes=D.lanes,M.child=D.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=D.memoizedProps,M.memoizedState=D.memoizedState,M.updateQueue=D.updateQueue,M.type=D.type,e=D.dependencies,M.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),f=f.sibling;return wn(Nn,Nn.current&1|2),r.child}e=e.sibling}M.tail!==null&&hn()>Cs&&(r.flags|=128,d=!0,Nf(M,!1),r.lanes=4194304)}else{if(!d)if(e=Ls(D),e!==null){if(r.flags|=128,d=!0,f=e.updateQueue,f!==null&&(r.updateQueue=f,r.flags|=4),Nf(M,!0),M.tail===null&&M.tailMode==="hidden"&&!D.alternate&&!bn)return yr(r),null}else 2*hn()-M.renderingStartTime>Cs&&f!==1073741824&&(r.flags|=128,d=!0,Nf(M,!1),r.lanes=4194304);M.isBackwards?(D.sibling=r.child,r.child=D):(f=M.last,f!==null?f.sibling=D:r.child=D,M.last=D)}return M.tail!==null?(r=M.tail,M.rendering=r,M.tail=r.sibling,M.renderingStartTime=hn(),r.sibling=null,f=Nn.current,wn(Nn,d?f&1|2:f&1),r):(yr(r),null);case 22:case 23:return dd(),d=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==d&&(r.flags|=8192),d&&r.mode&1?ii&1073741824&&(yr(r),r.subtreeFlags&6&&(r.flags|=8192)):yr(r),null;case 24:return null;case 25:return null}throw Error(l(156,r.tag))}function j0(e,r){switch(ys(r),r.tag){case 1:return Br(r.type)&&uc(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return To(),vn(Or),vn(_r),xc(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return Lc(r),null;case 13:if(vn(Nn),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(l(340));Ma()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return vn(Nn),null;case 4:return To(),null;case 10:return wc(r.type._context),null;case 22:case 23:return dd(),null;case 24:return null;default:return null}}var Rc=!1,Cn=!1,Ar=typeof WeakSet=="function"?WeakSet:Set,it=null;function Ml(e,r){var f=e.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(d){In(e,r,d)}else f.current=null}function Cf(e,r,f){try{f()}catch(d){In(e,r,d)}}var gh=!1;function E0(e,r){if(Xe=ns,e=rn(),cs(e)){if("selectionStart"in e)var f={start:e.selectionStart,end:e.selectionEnd};else e:{f=(f=e.ownerDocument)&&f.defaultView||window;var d=f.getSelection&&f.getSelection();if(d&&d.rangeCount!==0){f=d.anchorNode;var y=d.anchorOffset,M=d.focusNode;d=d.focusOffset;try{f.nodeType,M.nodeType}catch{f=null;break e}var D=0,X=-1,me=-1,Ee=0,Ue=0,Ge=e,Fe=null;t:for(;;){for(var rt;Ge!==f||y!==0&&Ge.nodeType!==3||(X=D+y),Ge!==M||d!==0&&Ge.nodeType!==3||(me=D+d),Ge.nodeType===3&&(D+=Ge.nodeValue.length),(rt=Ge.firstChild)!==null;)Fe=Ge,Ge=rt;for(;;){if(Ge===e)break t;if(Fe===f&&++Ee===y&&(X=D),Fe===M&&++Ue===d&&(me=D),(rt=Ge.nextSibling)!==null)break;Ge=Fe,Fe=Ge.parentNode}Ge=rt}f=X===-1||me===-1?null:{start:X,end:me}}else f=null}f=f||{start:0,end:0}}else f=null;for(pt={focusedElem:e,selectionRange:f},ns=!1,it=r;it!==null;)if(r=it,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,it=e;else for(;it!==null;){r=it;try{var ot=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var ct=ot.memoizedProps,zn=ot.memoizedState,ke=r.stateNode,ve=ke.getSnapshotBeforeUpdate(r.elementType===r.type?ct:Si(r.type,ct),zn);ke.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Se=r.stateNode.containerInfo;Se.nodeType===1?Se.textContent="":Se.nodeType===9&&Se.documentElement&&Se.removeChild(Se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(l(163))}}catch(Qe){In(r,r.return,Qe)}if(e=r.sibling,e!==null){e.return=r.return,it=e;break}it=r.return}return ot=gh,gh=!1,ot}function ro(e,r,f){var d=r.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var y=d=d.next;do{if((y.tag&e)===e){var M=y.destroy;y.destroy=void 0,M!==void 0&&Cf(r,f,M)}y=y.next}while(y!==d)}}function kf(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var f=r=r.next;do{if((f.tag&e)===e){var d=f.create;f.destroy=d()}f=f.next}while(f!==r)}}function Oc(e){var r=e.ref;if(r!==null){var f=e.stateNode;switch(e.tag){case 5:e=f;break;default:e=f}typeof r=="function"?r(e):r.current=e}}function wh(e){var r=e.alternate;r!==null&&(e.alternate=null,wh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[vi],delete r[$i],delete r[Ja],delete r[O],delete r[ko])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yh(e){return e.tag===5||e.tag===3||e.tag===4}function vh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,r,f){var d=e.tag;if(d===5||d===6)e=e.stateNode,r?f.nodeType===8?f.parentNode.insertBefore(e,r):f.insertBefore(e,r):(f.nodeType===8?(r=f.parentNode,r.insertBefore(e,f)):(r=f,r.appendChild(e)),f=f._reactRootContainer,f!=null||r.onclick!==null||(r.onclick=Be));else if(d!==4&&(e=e.child,e!==null))for(td(e,r,f),e=e.sibling;e!==null;)td(e,r,f),e=e.sibling}function Bc(e,r,f){var d=e.tag;if(d===5||d===6)e=e.stateNode,r?f.insertBefore(e,r):f.appendChild(e);else if(d!==4&&(e=e.child,e!==null))for(Bc(e,r,f),e=e.sibling;e!==null;)Bc(e,r,f),e=e.sibling}var ir=null,Ki=!1;function Ea(e,r,f){for(f=f.child;f!==null;)nd(e,r,f),f=f.sibling}function nd(e,r,f){if(Jr&&typeof Jr.onCommitFiberUnmount=="function")try{Jr.onCommitFiberUnmount(Vo,f)}catch{}switch(f.tag){case 5:Cn||Ml(f,r);case 6:var d=ir,y=Ki;ir=null,Ea(e,r,f),ir=d,Ki=y,ir!==null&&(Ki?(e=ir,f=f.stateNode,e.nodeType===8?e.parentNode.removeChild(f):e.removeChild(f)):ir.removeChild(f.stateNode));break;case 18:ir!==null&&(Ki?(e=ir,f=f.stateNode,e.nodeType===8?sf(e.parentNode,f):e.nodeType===1&&sf(e,f),Ot(e)):sf(ir,f.stateNode));break;case 4:d=ir,y=Ki,ir=f.stateNode.containerInfo,Ki=!0,Ea(e,r,f),ir=d,Ki=y;break;case 0:case 11:case 14:case 15:if(!Cn&&(d=f.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){y=d=d.next;do{var M=y,D=M.destroy;M=M.tag,D!==void 0&&(M&2||M&4)&&Cf(f,r,D),y=y.next}while(y!==d)}Ea(e,r,f);break;case 1:if(!Cn&&(Ml(f,r),d=f.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=f.memoizedProps,d.state=f.memoizedState,d.componentWillUnmount()}catch(X){In(f,r,X)}Ea(e,r,f);break;case 21:Ea(e,r,f);break;case 22:f.mode&1?(Cn=(d=Cn)||f.memoizedState!==null,Ea(e,r,f),Cn=d):Ea(e,r,f);break;default:Ea(e,r,f)}}function Nl(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var f=e.stateNode;f===null&&(f=e.stateNode=new Ar),r.forEach(function(d){var y=O0.bind(null,e,d);f.has(d)||(f.add(d),d.then(y,y))})}}function ri(e,r){var f=r.deletions;if(f!==null)for(var d=0;d<f.length;d++){var y=f[d];try{var M=e,D=r,X=D;e:for(;X!==null;){switch(X.tag){case 5:ir=X.stateNode,Ki=!1;break e;case 3:ir=X.stateNode.containerInfo,Ki=!0;break e;case 4:ir=X.stateNode.containerInfo,Ki=!0;break e}X=X.return}if(ir===null)throw Error(l(160));nd(M,D,y),ir=null,Ki=!1;var me=y.alternate;me!==null&&(me.return=null),y.return=null}catch(Ee){In(y,r,Ee)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)rd(r,e),r=r.sibling}function rd(e,r){var f=e.alternate,d=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ri(r,e),Xi(e),d&4){try{ro(3,e,e.return),kf(3,e)}catch(ct){In(e,e.return,ct)}try{ro(5,e,e.return)}catch(ct){In(e,e.return,ct)}}break;case 1:ri(r,e),Xi(e),d&512&&f!==null&&Ml(f,f.return);break;case 5:if(ri(r,e),Xi(e),d&512&&f!==null&&Ml(f,f.return),e.flags&32){var y=e.stateNode;try{Je(y,"")}catch(ct){In(e,e.return,ct)}}if(d&4&&(y=e.stateNode,y!=null)){var M=e.memoizedProps,D=f!==null?f.memoizedProps:M,X=e.type,me=e.updateQueue;if(e.updateQueue=null,me!==null)try{X==="input"&&M.type==="radio"&&M.name!=null&&et(y,M),bt(X,D);var Ee=bt(X,M);for(D=0;D<me.length;D+=2){var Ue=me[D],Ge=me[D+1];Ue==="style"?qe(y,Ge):Ue==="dangerouslySetInnerHTML"?Pi(y,Ge):Ue==="children"?Je(y,Ge):we(y,Ue,Ge,Ee)}switch(X){case"input":Ve(y,M);break;case"textarea":on(y,M);break;case"select":var Fe=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!M.multiple;var rt=M.value;rt!=null?gt(y,!!M.multiple,rt,!1):Fe!==!!M.multiple&&(M.defaultValue!=null?gt(y,!!M.multiple,M.defaultValue,!0):gt(y,!!M.multiple,M.multiple?[]:"",!1))}y[$i]=M}catch(ct){In(e,e.return,ct)}}break;case 6:if(ri(r,e),Xi(e),d&4){if(e.stateNode===null)throw Error(l(162));y=e.stateNode,M=e.memoizedProps;try{y.nodeValue=M}catch(ct){In(e,e.return,ct)}}break;case 3:if(ri(r,e),Xi(e),d&4&&f!==null&&f.memoizedState.isDehydrated)try{Ot(r.containerInfo)}catch(ct){In(e,e.return,ct)}break;case 4:ri(r,e),Xi(e);break;case 13:ri(r,e),Xi(e),y=e.child,y.flags&8192&&(M=y.memoizedState!==null,y.stateNode.isHidden=M,!M||y.alternate!==null&&y.alternate.memoizedState!==null||(od=hn())),d&4&&Nl(e);break;case 22:if(Ue=f!==null&&f.memoizedState!==null,e.mode&1?(Cn=(Ee=Cn)||Ue,ri(r,e),Cn=Ee):ri(r,e),Xi(e),d&8192){if(Ee=e.memoizedState!==null,(e.stateNode.isHidden=Ee)&&!Ue&&e.mode&1)for(it=e,Ue=e.child;Ue!==null;){for(Ge=it=Ue;it!==null;){switch(Fe=it,rt=Fe.child,Fe.tag){case 0:case 11:case 14:case 15:ro(4,Fe,Fe.return);break;case 1:Ml(Fe,Fe.return);var ot=Fe.stateNode;if(typeof ot.componentWillUnmount=="function"){d=Fe,f=Fe.return;try{r=d,ot.props=r.memoizedProps,ot.state=r.memoizedState,ot.componentWillUnmount()}catch(ct){In(d,f,ct)}}break;case 5:Ml(Fe,Fe.return);break;case 22:if(Fe.memoizedState!==null){Po(Ge);continue}}rt!==null?(rt.return=Fe,it=rt):Po(Ge)}Ue=Ue.sibling}e:for(Ue=null,Ge=e;;){if(Ge.tag===5){if(Ue===null){Ue=Ge;try{y=Ge.stateNode,Ee?(M=y.style,typeof M.setProperty=="function"?M.setProperty("display","none","important"):M.display="none"):(X=Ge.stateNode,me=Ge.memoizedProps.style,D=me!=null&&me.hasOwnProperty("display")?me.display:null,X.style.display=Ye("display",D))}catch(ct){In(e,e.return,ct)}}}else if(Ge.tag===6){if(Ue===null)try{Ge.stateNode.nodeValue=Ee?"":Ge.memoizedProps}catch(ct){In(e,e.return,ct)}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===e)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===e)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===e)break e;Ue===Ge&&(Ue=null),Ge=Ge.return}Ue===Ge&&(Ue=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}}break;case 19:ri(r,e),Xi(e),d&4&&Nl(e);break;case 21:break;default:ri(r,e),Xi(e)}}function Xi(e){var r=e.flags;if(r&2){try{e:{for(var f=e.return;f!==null;){if(yh(f)){var d=f;break e}f=f.return}throw Error(l(160))}switch(d.tag){case 5:var y=d.stateNode;d.flags&32&&(Je(y,""),d.flags&=-33);var M=vh(e);Bc(e,M,y);break;case 3:case 4:var D=d.stateNode.containerInfo,X=vh(e);td(e,X,D);break;default:throw Error(l(161))}}catch(me){In(e,e.return,me)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function Fc(e,r,f){it=e,id(e)}function id(e,r,f){for(var d=(e.mode&1)!==0;it!==null;){var y=it,M=y.child;if(y.tag===22&&d){var D=y.memoizedState!==null||Rc;if(!D){var X=y.alternate,me=X!==null&&X.memoizedState!==null||Cn;X=Rc;var Ee=Cn;if(Rc=D,(Cn=me)&&!Ee)for(it=y;it!==null;)D=it,me=D.child,D.tag===22&&D.memoizedState!==null?bh(y):me!==null?(me.return=D,it=me):bh(y);for(;M!==null;)it=M,id(M),M=M.sibling;it=y,Rc=X,Cn=Ee}ea(e)}else y.subtreeFlags&8772&&M!==null?(M.return=y,it=M):ea(e)}}function ea(e){for(;it!==null;){var r=it;if(r.flags&8772){var f=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Cn||kf(5,r);break;case 1:var d=r.stateNode;if(r.flags&4&&!Cn)if(f===null)d.componentDidMount();else{var y=r.elementType===r.type?f.memoizedProps:Si(r.type,f.memoizedProps);d.componentDidUpdate(y,f.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var M=r.updateQueue;M!==null&&ju(r,M,d);break;case 3:var D=r.updateQueue;if(D!==null){if(f=null,r.child!==null)switch(r.child.tag){case 5:f=r.child.stateNode;break;case 1:f=r.child.stateNode}ju(r,D,f)}break;case 5:var X=r.stateNode;if(f===null&&r.flags&4){f=X;var me=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":me.autoFocus&&f.focus();break;case"img":me.src&&(f.src=me.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var Ee=r.alternate;if(Ee!==null){var Ue=Ee.memoizedState;if(Ue!==null){var Ge=Ue.dehydrated;Ge!==null&&Ot(Ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(l(163))}Cn||r.flags&512&&Oc(r)}catch(Fe){In(r,r.return,Fe)}}if(r===e){it=null;break}if(f=r.sibling,f!==null){f.return=r.return,it=f;break}it=r.return}}function Po(e){for(;it!==null;){var r=it;if(r===e){it=null;break}var f=r.sibling;if(f!==null){f.return=r.return,it=f;break}it=r.return}}function bh(e){for(;it!==null;){var r=it;try{switch(r.tag){case 0:case 11:case 15:var f=r.return;try{kf(4,r)}catch(me){In(r,f,me)}break;case 1:var d=r.stateNode;if(typeof d.componentDidMount=="function"){var y=r.return;try{d.componentDidMount()}catch(me){In(r,y,me)}}var M=r.return;try{Oc(r)}catch(me){In(r,M,me)}break;case 5:var D=r.return;try{Oc(r)}catch(me){In(r,D,me)}}}catch(me){In(r,r.return,me)}if(r===e){it=null;break}var X=r.sibling;if(X!==null){X.return=r.return,it=X;break}it=r.return}}var Lh=Math.ceil,Uc=xe.ReactCurrentDispatcher,ad=xe.ReactCurrentOwner,Ii=xe.ReactCurrentBatchConfig,en=0,ar=null,Gn=null,vr=0,ii=0,Cl=Rr(0),Xn=0,Sf=null,zo=0,If=0,Zc=0,jf=null,Zr=null,od=0,Cs=1/0,io=null,Yc=!1,sd=null,Ro=null,Gc=!1,Oo=null,Dr=0,Ef=0,ld=null,Qc=-1,Tf=0;function Pr(){return en&6?hn():Qc!==-1?Qc:Qc=hn()}function Bo(e){return e.mode&1?en&2&&vr!==0?vr&-vr:eh.transition!==null?(Tf===0&&(Tf=Yl()),Tf):(e=Ut,e!==0||(e=window.event,e=e===void 0?16:Zt(e.type)),e):1}function ta(e,r,f,d){if(50<Ef)throw Ef=0,ld=null,Error(l(185));Hr(e,f,d),(!(en&2)||e!==ar)&&(e===ar&&(!(en&2)&&(If|=f),Xn===4&&Fo(e,vr)),Yr(e,d),f===1&&en===0&&!(r.mode&1)&&(Cs=hn()+500,dc&&Io()))}function Yr(e,r){var f=e.callbackNode;Ws(e,r);var d=sn(e,e===ar?vr:0);if(d===0)f!==null&&Ul(f),e.callbackNode=null,e.callbackPriority=0;else if(r=d&-d,e.callbackPriority!==r){if(f!=null&&Ul(f),r===1)e.tag===0?ps(xh.bind(null,e)):qd(xh.bind(null,e)),qn(function(){!(en&6)&&Io()}),f=null;else{switch(qr(d)){case 1:f=Zl;break;case 4:f=tc;break;case 16:f=Ho;break;case 536870912:f=Oa;break;default:f=Ho}f=Ih(f,Wc.bind(null,e))}e.callbackPriority=r,e.callbackNode=f}}function Wc(e,r){if(Qc=-1,Tf=0,en&6)throw Error(l(327));var f=e.callbackNode;if(kl()&&e.callbackNode!==f)return null;var d=sn(e,e===ar?vr:0);if(d===0)return null;if(d&30||d&e.expiredLanes||r)r=Jc(e,d);else{r=d;var y=en;en|=2;var M=Mh();(ar!==e||vr!==r)&&(io=null,Cs=hn()+500,Ss(e,r));do try{D0();break}catch(X){_h(e,X)}while(!0);Va(),Uc.current=M,en=y,Gn!==null?r=0:(ar=null,vr=0,r=Xn)}if(r!==0){if(r===2&&(y=cr(e),y!==0&&(d=y,r=fd(e,y))),r===1)throw f=Sf,Ss(e,0),Fo(e,d),Yr(e,hn()),f;if(r===6)Fo(e,d);else{if(y=e.current.alternate,!(d&30)&&!T0(y)&&(r=Jc(e,d),r===2&&(M=cr(e),M!==0&&(d=M,r=fd(e,M))),r===1))throw f=Sf,Ss(e,0),Fo(e,d),Yr(e,hn()),f;switch(e.finishedWork=y,e.finishedLanes=d,r){case 0:case 1:throw Error(l(345));case 2:Is(e,Zr,io);break;case 3:if(Fo(e,d),(d&130023424)===d&&(r=od+500-hn(),10<r)){if(sn(e,0)!==0)break;if(y=e.suspendedLanes,(y&d)!==d){Pr(),e.pingedLanes|=e.suspendedLanes&y;break}e.timeoutHandle=_n(Is.bind(null,e,Zr,io),r);break}Is(e,Zr,io);break;case 4:if(Fo(e,d),(d&4194240)===d)break;for(r=e.eventTimes,y=-1;0<d;){var D=31-Et(d);M=1<<D,D=r[D],D>y&&(y=D),d&=~M}if(d=y,d=hn()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*Lh(d/1960))-d,10<d){e.timeoutHandle=_n(Is.bind(null,e,Zr,io),d);break}Is(e,Zr,io);break;case 5:Is(e,Zr,io);break;default:throw Error(l(329))}}}return Yr(e,hn()),e.callbackNode===f?Wc.bind(null,e):null}function fd(e,r){var f=jf;return e.current.memoizedState.isDehydrated&&(Ss(e,r).flags|=256),e=Jc(e,r),e!==2&&(r=Zr,Zr=f,r!==null&&cd(r)),e}function cd(e){Zr===null?Zr=e:Zr.push.apply(Zr,e)}function T0(e){for(var r=e;;){if(r.flags&16384){var f=r.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var d=0;d<f.length;d++){var y=f[d],M=y.getSnapshot;y=y.value;try{if(!Ie(M(),y))return!1}catch{return!1}}}if(f=r.child,r.subtreeFlags&16384&&f!==null)f.return=r,r=f;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fo(e,r){for(r&=~Zc,r&=~If,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var f=31-Et(r),d=1<<f;e[f]=-1,r&=~d}}function xh(e){if(en&6)throw Error(l(327));kl();var r=sn(e,0);if(!(r&1))return Yr(e,hn()),null;var f=Jc(e,r);if(e.tag!==0&&f===2){var d=cr(e);d!==0&&(r=d,f=fd(e,d))}if(f===1)throw f=Sf,Ss(e,0),Fo(e,r),Yr(e,hn()),f;if(f===6)throw Error(l(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Is(e,Zr,io),Yr(e,hn()),null}function ud(e,r){var f=en;en|=1;try{return e(r)}finally{en=f,en===0&&(Cs=hn()+500,dc&&Io())}}function ks(e){Oo!==null&&Oo.tag===0&&!(en&6)&&kl();var r=en;en|=1;var f=Ii.transition,d=Ut;try{if(Ii.transition=null,Ut=1,e)return e()}finally{Ut=d,Ii.transition=f,en=r,!(en&6)&&Io()}}function dd(){ii=Cl.current,vn(Cl)}function Ss(e,r){e.finishedWork=null,e.finishedLanes=0;var f=e.timeoutHandle;if(f!==-1&&(e.timeoutHandle=-1,Mn(f)),Gn!==null)for(f=Gn.return;f!==null;){var d=f;switch(ys(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&uc();break;case 3:To(),vn(Or),vn(_r),xc();break;case 5:Lc(d);break;case 4:To();break;case 13:vn(Nn);break;case 19:vn(Nn);break;case 10:wc(d.type._context);break;case 22:case 23:dd()}f=f.return}if(ar=e,Gn=e=na(e.current,null),vr=ii=r,Xn=0,Sf=null,Zc=If=zo=0,Zr=jf=null,bs!==null){for(r=0;r<bs.length;r++)if(f=bs[r],d=f.interleaved,d!==null){f.interleaved=null;var y=d.next,M=f.pending;if(M!==null){var D=M.next;M.next=y,d.next=D}f.pending=d}bs=null}return e}function _h(e,r){do{var f=Gn;try{if(Va(),mf.current=Sc,gl){for(var d=Sn.memoizedState;d!==null;){var y=d.queue;y!==null&&(y.pending=null),d=d.next}gl=!1}if(Ao=0,Kn=Pn=Sn=null,pf=!1,xs=0,ad.current=null,f===null||f.return===null){Xn=1,Sf=r,Gn=null;break}e:{var M=e,D=f.return,X=f,me=r;if(r=vr,X.flags|=32768,me!==null&&typeof me=="object"&&typeof me.then=="function"){var Ee=me,Ue=X,Ge=Ue.tag;if(!(Ue.mode&1)&&(Ge===0||Ge===11||Ge===15)){var Fe=Ue.alternate;Fe?(Ue.updateQueue=Fe.updateQueue,Ue.memoizedState=Fe.memoizedState,Ue.lanes=Fe.lanes):(Ue.updateQueue=null,Ue.memoizedState=null)}var rt=uh(D);if(rt!==null){rt.flags&=-257,Wu(rt,D,X,M,r),rt.mode&1&&bf(M,Ee,r),r=rt,me=Ee;var ot=r.updateQueue;if(ot===null){var ct=new Set;ct.add(me),r.updateQueue=ct}else ot.add(me);break e}else{if(!(r&1)){bf(M,Ee,r),hd();break e}me=Error(l(426))}}else if(bn&&X.mode&1){var zn=uh(D);if(zn!==null){!(zn.flags&65536)&&(zn.flags|=256),Wu(zn,D,X,M,r),Na(Ns(me,X));break e}}M=me=Ns(me,X),Xn!==4&&(Xn=2),jf===null?jf=[M]:jf.push(M),M=D;do{switch(M.tag){case 3:M.flags|=65536,r&=-r,M.lanes|=r;var ke=vf(M,me,r);rh(M,ke);break e;case 1:X=me;var ve=M.type,Se=M.stateNode;if(!(M.flags&128)&&(typeof ve.getDerivedStateFromError=="function"||Se!==null&&typeof Se.componentDidCatch=="function"&&(Ro===null||!Ro.has(Se)))){M.flags|=65536,r&=-r,M.lanes|=r;var Qe=Ac(M,X,r);rh(M,Qe);break e}}M=M.return}while(M!==null)}Ch(f)}catch(ht){r=ht,Gn===f&&f!==null&&(Gn=f=f.return);continue}break}while(!0)}function Mh(){var e=Uc.current;return Uc.current=Sc,e===null?Sc:e}function hd(){(Xn===0||Xn===3||Xn===2)&&(Xn=4),ar===null||!(zo&268435455)&&!(If&268435455)||Fo(ar,vr)}function Jc(e,r){var f=en;en|=2;var d=Mh();(ar!==e||vr!==r)&&(io=null,Ss(e,r));do try{A0();break}catch(y){_h(e,y)}while(!0);if(Va(),en=f,Uc.current=d,Gn!==null)throw Error(l(261));return ar=null,vr=0,Xn}function A0(){for(;Gn!==null;)Nh(Gn)}function D0(){for(;Gn!==null&&!Zs();)Nh(Gn)}function Nh(e){var r=Sh(e.alternate,e,ii);e.memoizedProps=e.pendingProps,r===null?Ch(e):Gn=r,ad.current=null}function Ch(e){var r=e;do{var f=r.alternate;if(e=r.return,r.flags&32768){if(f=j0(f,r),f!==null){f.flags&=32767,Gn=f;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Xn=6,Gn=null;return}}else if(f=I0(f,r,ii),f!==null){Gn=f;return}if(r=r.sibling,r!==null){Gn=r;return}Gn=r=e}while(r!==null);Xn===0&&(Xn=5)}function Is(e,r,f){var d=Ut,y=Ii.transition;try{Ii.transition=null,Ut=1,P0(e,r,f,d)}finally{Ii.transition=y,Ut=d}return null}function P0(e,r,f,d){do kl();while(Oo!==null);if(en&6)throw Error(l(327));f=e.finishedWork;var y=e.finishedLanes;if(f===null)return null;if(e.finishedWork=null,e.finishedLanes=0,f===e.current)throw Error(l(177));e.callbackNode=null,e.callbackPriority=0;var M=f.lanes|f.childLanes;if(kn(e,M),e===ar&&(Gn=ar=null,vr=0),!(f.subtreeFlags&2064)&&!(f.flags&2064)||Gc||(Gc=!0,Ih(Ho,function(){return kl(),null})),M=(f.flags&15990)!==0,f.subtreeFlags&15990||M){M=Ii.transition,Ii.transition=null;var D=Ut;Ut=1;var X=en;en|=4,ad.current=null,E0(e,f),rd(f,e),mi(pt),ns=!!Xe,pt=Xe=null,e.current=f,Fc(f),Ys(),en=X,Ut=D,Ii.transition=M}else e.current=f;if(Gc&&(Gc=!1,Oo=e,Dr=y),M=e.pendingLanes,M===0&&(Ro=null),qo(f.stateNode),Yr(e,hn()),r!==null)for(d=e.onRecoverableError,f=0;f<r.length;f++)y=r[f],d(y.value,{componentStack:y.stack,digest:y.digest});if(Yc)throw Yc=!1,e=sd,sd=null,e;return Dr&1&&e.tag!==0&&kl(),M=e.pendingLanes,M&1?e===ld?Ef++:(Ef=0,ld=e):Ef=0,Io(),null}function kl(){if(Oo!==null){var e=qr(Dr),r=Ii.transition,f=Ut;try{if(Ii.transition=null,Ut=16>e?16:e,Oo===null)var d=!1;else{if(e=Oo,Oo=null,Dr=0,en&6)throw Error(l(331));var y=en;for(en|=4,it=e.current;it!==null;){var M=it,D=M.child;if(it.flags&16){var X=M.deletions;if(X!==null){for(var me=0;me<X.length;me++){var Ee=X[me];for(it=Ee;it!==null;){var Ue=it;switch(Ue.tag){case 0:case 11:case 15:ro(8,Ue,M)}var Ge=Ue.child;if(Ge!==null)Ge.return=Ue,it=Ge;else for(;it!==null;){Ue=it;var Fe=Ue.sibling,rt=Ue.return;if(wh(Ue),Ue===Ee){it=null;break}if(Fe!==null){Fe.return=rt,it=Fe;break}it=rt}}}var ot=M.alternate;if(ot!==null){var ct=ot.child;if(ct!==null){ot.child=null;do{var zn=ct.sibling;ct.sibling=null,ct=zn}while(ct!==null)}}it=M}}if(M.subtreeFlags&2064&&D!==null)D.return=M,it=D;else e:for(;it!==null;){if(M=it,M.flags&2048)switch(M.tag){case 0:case 11:case 15:ro(9,M,M.return)}var ke=M.sibling;if(ke!==null){ke.return=M.return,it=ke;break e}it=M.return}}var ve=e.current;for(it=ve;it!==null;){D=it;var Se=D.child;if(D.subtreeFlags&2064&&Se!==null)Se.return=D,it=Se;else e:for(D=ve;it!==null;){if(X=it,X.flags&2048)try{switch(X.tag){case 0:case 11:case 15:kf(9,X)}}catch(ht){In(X,X.return,ht)}if(X===D){it=null;break e}var Qe=X.sibling;if(Qe!==null){Qe.return=X.return,it=Qe;break e}it=X.return}}if(en=y,Io(),Jr&&typeof Jr.onPostCommitFiberRoot=="function")try{Jr.onPostCommitFiberRoot(Vo,e)}catch{}d=!0}return d}finally{Ut=f,Ii.transition=r}}return!1}function $c(e,r,f){r=Ns(f,r),r=vf(e,r,1),e=Ci(e,r,1),r=Pr(),e!==null&&(Hr(e,1,r),Yr(e,r))}function In(e,r,f){if(e.tag===3)$c(e,e,f);else for(;r!==null;){if(r.tag===3){$c(r,e,f);break}else if(r.tag===1){var d=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(Ro===null||!Ro.has(d))){e=Ns(f,e),e=Ac(r,e,1),r=Ci(r,e,1),e=Pr(),r!==null&&(Hr(r,1,e),Yr(r,e));break}}r=r.return}}function z0(e,r,f){var d=e.pingCache;d!==null&&d.delete(r),r=Pr(),e.pingedLanes|=e.suspendedLanes&f,ar===e&&(vr&f)===f&&(Xn===4||Xn===3&&(vr&130023424)===vr&&500>hn()-od?Ss(e,0):Zc|=f),Yr(e,r)}function kh(e,r){r===0&&(e.mode&1?(r=uo,uo<<=1,!(uo&130023424)&&(uo=4194304)):r=1);var f=Pr();e=qa(e,r),e!==null&&(Hr(e,r,f),Yr(e,f))}function R0(e){var r=e.memoizedState,f=0;r!==null&&(f=r.retryLane),kh(e,f)}function O0(e,r){var f=0;switch(e.tag){case 13:var d=e.stateNode,y=e.memoizedState;y!==null&&(f=y.retryLane);break;case 19:d=e.stateNode;break;default:throw Error(l(314))}d!==null&&d.delete(r),kh(e,f)}var Sh;Sh=function(e,r,f){if(e!==null)if(e.memoizedProps!==r.pendingProps||Or.current)Tr=!0;else{if(!(e.lanes&f)&&!(r.flags&128))return Tr=!1,mh(e,r,f);Tr=!!(e.flags&131072)}else Tr=!1,bn&&r.flags&1048576&&Kd(r,mc,r.index);switch(r.lanes=0,r.tag){case 2:var d=r.type;zc(e,r),e=r.pendingProps;var y=ul(r,_r.current);Eo(r,f),y=_s(null,r,d,e,y,f);var M=_c();return r.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Br(d)?(M=!0,Li(r)):M=!1,r.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,vc(r),y.updater=Ec,r.stateNode=y,y._reactInternals=r,Qu(r,d,e,f),r=Ku(null,r,d,!0,M,f)):(r.tag=0,bn&&M&&lf(r),gr(null,r,y,f),r=r.child),r;case 16:d=r.elementType;e:{switch(zc(e,r),e=r.pendingProps,y=d._init,d=y(d._payload),r.type=d,y=r.tag=F0(d),e=Si(d,e),y){case 0:r=Vu(null,r,d,e,f);break e;case 1:r=qu(null,r,d,e,f);break e;case 11:r=dh(null,r,d,e,f);break e;case 14:r=Ju(null,r,d,Si(d.type,e),f);break e}throw Error(l(306,d,""))}return r;case 0:return d=r.type,y=r.pendingProps,y=r.elementType===d?y:Si(d,y),Vu(e,r,d,y,f);case 1:return d=r.type,y=r.pendingProps,y=r.elementType===d?y:Si(d,y),qu(e,r,d,y,f);case 3:e:{if(hh(r),e===null)throw Error(l(387));d=r.pendingProps,M=r.memoizedState,y=M.element,nh(e,r),ml(r,d,null,f);var D=r.memoizedState;if(d=D.element,M.isDehydrated)if(M={element:d,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},r.updateQueue.baseState=M,r.memoizedState=M,r.flags&256){y=Ns(Error(l(423)),r),r=ja(e,r,d,f,y);break e}else if(d!==y){y=Ns(Error(l(424)),r),r=ja(e,r,d,f,y);break e}else for(ti=ba(r.stateNode.containerInfo.firstChild),Nr=r,bn=!0,Hi=null,f=gc(r,null,d,f),r.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(Ma(),d===y){r=qi(e,r,f);break e}gr(e,r,d,f)}r=r.child}return r;case 5:return Tu(r),e===null&&Fr(r),d=r.type,y=r.pendingProps,M=e!==null?e.memoizedProps:null,D=y.children,Tt(d,y)?D=null:M!==null&&Tt(d,M)&&(r.flags|=32),Hu(e,r),gr(e,r,D,f),r.child;case 6:return e===null&&Fr(r),null;case 13:return Pc(e,r,f);case 4:return Eu(r,r.stateNode.containerInfo),d=r.pendingProps,e===null?r.child=Tn(r,null,d,f):gr(e,r,d,f),r.child;case 11:return d=r.type,y=r.pendingProps,y=r.elementType===d?y:Si(d,y),dh(e,r,d,y,f);case 7:return gr(e,r,r.pendingProps,f),r.child;case 8:return gr(e,r,r.pendingProps.children,f),r.child;case 12:return gr(e,r,r.pendingProps.children,f),r.child;case 10:e:{if(d=r.type._context,y=r.pendingProps,M=r.memoizedProps,D=y.value,wn(uf,d._currentValue),d._currentValue=D,M!==null)if(Ie(M.value,D)){if(M.children===y.children&&!Or.current){r=qi(e,r,f);break e}}else for(M=r.child,M!==null&&(M.return=r);M!==null;){var X=M.dependencies;if(X!==null){D=M.child;for(var me=X.firstContext;me!==null;){if(me.context===d){if(M.tag===1){me=Ka(-1,f&-f),me.tag=2;var Ee=M.updateQueue;if(Ee!==null){Ee=Ee.shared;var Ue=Ee.pending;Ue===null?me.next=me:(me.next=Ue.next,Ue.next=me),Ee.pending=me}}M.lanes|=f,me=M.alternate,me!==null&&(me.lanes|=f),pr(M.return,f,r),X.lanes|=f;break}me=me.next}}else if(M.tag===10)D=M.type===r.type?null:M.child;else if(M.tag===18){if(D=M.return,D===null)throw Error(l(341));D.lanes|=f,X=D.alternate,X!==null&&(X.lanes|=f),pr(D,f,r),D=M.sibling}else D=M.child;if(D!==null)D.return=M;else for(D=M;D!==null;){if(D===r){D=null;break}if(M=D.sibling,M!==null){M.return=D.return,D=M;break}D=D.return}M=D}gr(e,r,y.children,f),r=r.child}return r;case 9:return y=r.type,d=r.pendingProps.children,Eo(r,f),y=Mi(y),d=d(y),r.flags|=1,gr(e,r,d,f),r.child;case 14:return d=r.type,y=Si(d,r.pendingProps),y=Si(d.type,y),Ju(e,r,d,y,f);case 15:return Ia(e,r,r.type,r.pendingProps,f);case 17:return d=r.type,y=r.pendingProps,y=r.elementType===d?y:Si(d,y),zc(e,r),r.tag=1,Br(d)?(e=!0,Li(r)):e=!1,Eo(r,f),Ms(r,d,y),Qu(r,d,y,f),Ku(null,r,d,!0,e,f);case 19:return Do(e,r,f);case 22:return $u(e,r,f)}throw Error(l(156,r.tag))};function Ih(e,r){return ec(e,r)}function B0(e,r,f,d){this.tag=e,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ji(e,r,f,d){return new B0(e,r,f,d)}function Hc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function F0(e){if(typeof e=="function")return Hc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===F)return 11;if(e===ae)return 14}return 2}function na(e,r){var f=e.alternate;return f===null?(f=ji(e.tag,r,e.key,e.mode),f.elementType=e.elementType,f.type=e.type,f.stateNode=e.stateNode,f.alternate=e,e.alternate=f):(f.pendingProps=r,f.type=e.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=e.flags&14680064,f.childLanes=e.childLanes,f.lanes=e.lanes,f.child=e.child,f.memoizedProps=e.memoizedProps,f.memoizedState=e.memoizedState,f.updateQueue=e.updateQueue,r=e.dependencies,f.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},f.sibling=e.sibling,f.index=e.index,f.ref=e.ref,f}function Vc(e,r,f,d,y,M){var D=2;if(d=e,typeof e=="function")Hc(e)&&(D=1);else if(typeof e=="string")D=5;else e:switch(e){case Y:return js(f.children,y,M,r);case K:D=8,y|=8;break;case ee:return e=ji(12,f,r,y|2),e.elementType=ee,e.lanes=M,e;case ie:return e=ji(13,f,r,y),e.elementType=ie,e.lanes=M,e;case Q:return e=ji(19,f,r,y),e.elementType=Q,e.lanes=M,e;case ge:return qc(f,y,M,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case q:D=10;break e;case R:D=9;break e;case F:D=11;break e;case ae:D=14;break e;case Ne:D=16,d=null;break e}throw Error(l(130,e==null?e:typeof e,""))}return r=ji(D,f,r,y),r.elementType=e,r.type=d,r.lanes=M,r}function js(e,r,f,d){return e=ji(7,e,d,r),e.lanes=f,e}function qc(e,r,f,d){return e=ji(22,e,d,r),e.elementType=ge,e.lanes=f,e.stateNode={isHidden:!1},e}function md(e,r,f){return e=ji(6,e,null,r),e.lanes=f,e}function pd(e,r,f){return r=ji(4,e.children!==null?e.children:[],e.key,r),r.lanes=f,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function U0(e,r,f,d,y){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ha(0),this.expirationTimes=ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ha(0),this.identifierPrefix=d,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function gd(e,r,f,d,y,M,D,X,me){return e=new U0(e,r,f,X,me),r===1?(r=1,M===!0&&(r|=8)):r=0,M=ji(3,null,null,r),e.current=M,M.stateNode=e,M.memoizedState={element:d,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(M),e}function Z0(e,r,f){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:d==null?null:""+d,children:e,containerInfo:r,implementation:f}}function jh(e){if(!e)return So;e=e._reactInternals;e:{if(ua(e)!==e||e.tag!==1)throw Error(l(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Br(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(l(171))}if(e.tag===1){var f=e.type;if(Br(f))return Hd(e,f,r)}return r}function Eh(e,r,f,d,y,M,D,X,me){return e=gd(f,d,!0,e,y,M,D,X,me),e.context=jh(null),f=e.current,d=Pr(),y=Bo(f),M=Ka(d,y),M.callback=r??null,Ci(f,M,y),e.current.lanes=y,Hr(e,y,d),Yr(e,d),e}function Kc(e,r,f,d){var y=r.current,M=Pr(),D=Bo(y);return f=jh(f),r.context===null?r.context=f:r.pendingContext=f,r=Ka(M,D),r.payload={element:e},d=d===void 0?null:d,d!==null&&(r.callback=d),e=Ci(y,r,D),e!==null&&(ta(e,y,D,M),bc(e,y,D)),D}function Xc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Th(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var f=e.retryLane;e.retryLane=f!==0&&f<r?f:r}}function wd(e,r){Th(e,r),(e=e.alternate)&&Th(e,r)}function Y0(){return null}var Ah=typeof reportError=="function"?reportError:function(e){console.error(e)};function eu(e){this._internalRoot=e}Af.prototype.render=eu.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(l(409));Kc(e,r,null,null)},Af.prototype.unmount=eu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;ks(function(){Kc(null,e,null,null)}),r[Kt]=null}};function Af(e){this._internalRoot=e}Af.prototype.unstable_scheduleHydration=function(e){if(e){var r=es();e={blockedOn:null,target:e,priority:r};for(var f=0;f<Jn.length&&r!==0&&r<Jn[f].priority;f++);Jn.splice(f,0,e),f===0&&$s(e)}};function yd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function tu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dh(){}function G0(e,r,f,d,y){if(y){if(typeof d=="function"){var M=d;d=function(){var Ee=Xc(D);M.call(Ee)}}var D=Eh(r,d,e,0,null,!1,!1,"",Dh);return e._reactRootContainer=D,e[Kt]=D.current,Ji(e.nodeType===8?e.parentNode:e),ks(),D}for(;y=e.lastChild;)e.removeChild(y);if(typeof d=="function"){var X=d;d=function(){var Ee=Xc(me);X.call(Ee)}}var me=gd(e,0,!1,null,null,!1,!1,"",Dh);return e._reactRootContainer=me,e[Kt]=me.current,Ji(e.nodeType===8?e.parentNode:e),ks(function(){Kc(r,me,f,d)}),me}function Es(e,r,f,d,y){var M=f._reactRootContainer;if(M){var D=M;if(typeof y=="function"){var X=y;y=function(){var me=Xc(D);X.call(me)}}Kc(r,D,e,y)}else D=G0(f,r,e,y,d);return Xc(D)}Xo=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var f=Nt(r.pendingLanes);f!==0&&(Vr(r,f|1),Yr(r,hn()),!(en&6)&&(Cs=hn()+500,Io()))}break;case 13:ks(function(){var d=qa(e,1);if(d!==null){var y=Pr();ta(d,e,1,y)}}),wd(e,1)}},ma=function(e){if(e.tag===13){var r=qa(e,134217728);if(r!==null){var f=Pr();ta(r,e,134217728,f)}wd(e,134217728)}},Js=function(e){if(e.tag===13){var r=Bo(e),f=qa(e,r);if(f!==null){var d=Pr();ta(f,e,r,d)}wd(e,r)}},es=function(){return Ut},ho=function(e,r){var f=Ut;try{return Ut=e,r()}finally{Ut=f}},Ra=function(e,r,f){switch(r){case"input":if(Ve(e,f),r=f.name,f.type==="radio"&&r!=null){for(f=e;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<f.length;r++){var d=f[r];if(d!==e&&d.form===e.form){var y=fl(d);if(!y)throw Error(l(90));nt(d),Ve(d,y)}}}break;case"textarea":on(e,f);break;case"select":r=f.value,r!=null&&gt(e,!!f.multiple,r,!1)}},Hf=ud,zl=ks;var Q0={usingClientEntryPoint:!1,Events:[Yn,At,fl,Jf,$f,ud]},Df={findFiberByHostInstance:bi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},W0={bundleType:Df.bundleType,version:Df.version,rendererPackageName:Df.rendererPackageName,rendererConfig:Df.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kf(e),e===null?null:e.stateNode},findFiberByHostInstance:Df.findFiberByHostInstance||Y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{Vo=nu.inject(W0),Jr=nu}catch{}}return Di.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q0,Di.createPortal=function(e,r){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yd(r))throw Error(l(200));return Z0(e,r,null,f)},Di.createRoot=function(e,r){if(!yd(e))throw Error(l(299));var f=!1,d="",y=Ah;return r!=null&&(r.unstable_strictMode===!0&&(f=!0),r.identifierPrefix!==void 0&&(d=r.identifierPrefix),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=gd(e,1,!1,null,null,f,!1,d,y),e[Kt]=r.current,Ji(e.nodeType===8?e.parentNode:e),new eu(r)},Di.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=Kf(r),e=e===null?null:e.stateNode,e},Di.flushSync=function(e){return ks(e)},Di.hydrate=function(e,r,f){if(!tu(r))throw Error(l(200));return Es(null,e,r,!0,f)},Di.hydrateRoot=function(e,r,f){if(!yd(e))throw Error(l(405));var d=f!=null&&f.hydratedSources||null,y=!1,M="",D=Ah;if(f!=null&&(f.unstable_strictMode===!0&&(y=!0),f.identifierPrefix!==void 0&&(M=f.identifierPrefix),f.onRecoverableError!==void 0&&(D=f.onRecoverableError)),r=Eh(r,null,e,1,f??null,y,!1,M,D),e[Kt]=r.current,Ji(e),d)for(e=0;e<d.length;e++)f=d[e],y=f._getVersion,y=y(f._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[f,y]:r.mutableSourceEagerHydrationData.push(f,y);return new Af(r)},Di.render=function(e,r,f){if(!tu(r))throw Error(l(200));return Es(null,e,r,!1,f)},Di.unmountComponentAtNode=function(e){if(!tu(e))throw Error(l(40));return e._reactRootContainer?(ks(function(){Es(null,null,e,!1,function(){e._reactRootContainer=null,e[Kt]=null})}),!0):!1},Di.unstable_batchedUpdates=ud,Di.unstable_renderSubtreeIntoContainer=function(e,r,f,d){if(!tu(f))throw Error(l(200));if(e==null||e._reactInternals===void 0)throw Error(l(38));return Es(e,r,f,!1,d)},Di.version="18.3.1-next-f1338f8080-20240426",Di}var I1;function cp(){if(I1)return om.exports;I1=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(c){console.error(c)}}return n(),om.exports=Tv(),om.exports}var j1;function Av(){if(j1)return Bh;j1=1;var n=cp();return Bh.createRoot=n.createRoot,Bh.hydrateRoot=n.hydrateRoot,Bh}var Dv=Av();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),up=(...n)=>n.filter((c,l,g)=>!!c&&c.trim()!==""&&g.indexOf(c)===l).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=b.forwardRef(({color:n="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:g,className:x="",children:h,iconNode:v,..._},k)=>b.createElement("svg",{ref:k,...zv,width:c,height:c,stroke:n,strokeWidth:g?Number(l)*24/Number(c):l,className:up("lucide",x),..._},[...v.map(([S,A])=>b.createElement(S,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ut=(n,c)=>{const l=b.forwardRef(({className:g,...x},h)=>b.createElement(Rv,{ref:h,iconNode:c,className:up(`lucide-${Pv(n)}`,g),...x}));return l.displayName=`${n}`,l};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=ut("ArrowDownWideNarrow",[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"M11 4h10",key:"1w87gc"}],["path",{d:"M11 8h7",key:"djye34"}],["path",{d:"M11 12h4",key:"q8tih4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dp=ut("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ut("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=ut("ArrowUpNarrowWide",[["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}],["path",{d:"M11 12h4",key:"q8tih4"}],["path",{d:"M11 16h7",key:"uosisv"}],["path",{d:"M11 20h10",key:"jvxblo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=ut("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mp=ut("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=ut("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pp=ut("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yo=ut("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const du=ut("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=ut("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ut("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=ut("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gp=ut("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=ut("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=ut("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=ut("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=ut("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=ut("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=ut("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=ut("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=ut("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ut("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=ut("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=ut("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=ut("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ut("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=ut("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=ut("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=ut("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=ut("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=ut("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=ut("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=ut("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=ut("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=ut("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=ut("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=ut("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ut("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=ut("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=ut("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=ut("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=ut("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=ut("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=ut("Pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=ut("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vp=ut("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=ut("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=ut("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=ut("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bp=ut("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=ut("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=ut("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=ut("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=ut("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dm=ut("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=ut("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=ut("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=ut("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=ut("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=ut("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=ut("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=ut("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xp=ut("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=ut("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Te={API_URL:"http://10.0.0.57:5000/api",DEFAULT_AVATAR:"/images/default-avatar.png",UPLOAD_PATH:"/uploads",MAX_IMAGE_SIZE:100*1024*1024,MAX_VIDEO_SIZE:500*1024*1024,ALLOWED_IMAGE_TYPES:["image/jpeg","image/png","image/gif"],ALLOWED_VIDEO_TYPES:["video/mp4","video/webm","video/quicktime"],getBaseUrl:()=>{const n=Te.API_URL;return n.endsWith("/api/")?n.slice(0,-5):n.endsWith("/api")?n.slice(0,-4):n},getImageUrl:n=>{if(!n)return Te.DEFAULT_AVATAR;const c=Te.getBaseUrl();if(n.includes(":\\")||n.includes("/Users/")){const g=n.split(/[\/\\]/),x=g[g.length-2]==="news"?"news":"reviews",h=g[g.length-1];return`${c}/uploads/${x}/${h}`}let l=n.replace(/\/+/g,"/");return l.startsWith("/")||(l="/"+l),l.includes("/uploads/")?`${c}${l}`:`${c}/uploads${l}`},getUploadUrl:n=>{if(!n)return Te.DEFAULT_AVATAR;if(console.log("getUploadUrl input:",n),n.includes(":\\")||n.includes("/Users/")){const g=n.split(/[\/\\]/),x=g[g.length-1];let h="misc";g.includes("news")?h="news":g.includes("reviews")?h="reviews":g.includes("profiles")&&(h="profiles");const v=`${Te.getBaseUrl()}/uploads/${h}/${x}`;return console.log("getUploadUrl output (absolute path):",v),v}const c=n.split("/").filter(g=>!g.includes(":")).join("/").replace(/^uploads\//,"").replace(/^\/uploads\//,"").replace(/^\//,""),l=`${Te.getBaseUrl()}/uploads/${c}`;return console.log("getUploadUrl output:",{originalPath:n,cleanPath:c,baseUrl:Te.getBaseUrl(),fullUrl:l}),l},normalizeImagePath:n=>{if(!n)return null;let c=n.replace(/\\/g,"/");if(c.includes(":/")||c.includes("/Users/")){const l=c.split(/[\/\\]/),g=l[l.length-1];return l.includes("news")?`news/${g}`:l.includes("reviews")?`reviews/${g}`:g}return c.startsWith("/uploads/")?c.substring(9):c.startsWith("uploads/")?c.substring(8):c}};var fm={exports:{}},bd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A1;function n2(){if(A1)return bd;A1=1;var n=Tm(),c=Symbol.for("react.element"),l=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function v(_,k,S){var A,I={},E=null,j=null;S!==void 0&&(E=""+S),k.key!==void 0&&(E=""+k.key),k.ref!==void 0&&(j=k.ref);for(A in k)g.call(k,A)&&!h.hasOwnProperty(A)&&(I[A]=k[A]);if(_&&_.defaultProps)for(A in k=_.defaultProps,k)I[A]===void 0&&(I[A]=k[A]);return{$$typeof:c,type:_,key:E,ref:j,props:I,_owner:x.current}}return bd.Fragment=l,bd.jsx=v,bd.jsxs=v,bd}var D1;function r2(){return D1||(D1=1,fm.exports=n2()),fm.exports}var Pm=r2();const o=Pm.jsx,p=Pm.jsxs,jt=Pm.Fragment,_p=b.createContext(),i2=(n,c)=>{switch(c.type){case"SET_NOTIFICATIONS":return{...n,notifications:c.payload,loading:!1};case"ADD_NOTIFICATION":return{...n,notifications:[c.payload,...n.notifications],unreadCount:n.unreadCount+1};case"MARK_AS_READ":return{...n,notifications:n.notifications.map(l=>l._id===c.payload?{...l,read:!0}:l),unreadCount:n.unreadCount>0?n.unreadCount-1:0};case"MARK_ALL_READ":return{...n,notifications:n.notifications.map(l=>({...l,read:!0})),unreadCount:0};case"SET_UNREAD_COUNT":return{...n,unreadCount:c.payload};case"SET_LOADING":return{...n,loading:c.payload};case"SET_ERROR":return{...n,error:c.payload,loading:!1};default:return n}},a2={notifications:[],unreadCount:0,loading:!0,error:null},Mp=(n,c)=>{const g=`${Te.API_URL.replace(/^http/,"ws").replace(/\/api\/?$/,"")}/ws/notifications`;console.log("Connecting to WebSocket:",g);const x=new WebSocket(g);return x.onopen=()=>{console.log("WebSocket connection established"),x.send(JSON.stringify({type:"authenticate",token:n}))},x.onmessage=h=>{try{const v=JSON.parse(h.data);console.log("WebSocket message received:",v),v.type==="notification"?(c({type:"ADD_NOTIFICATION",payload:v.notification}),"Notification"in window&&document.visibilityState!=="visible"&&Notification.permission==="granted"&&new Notification("North Shore Beefs",{body:v.message||"You have a new notification",icon:"/logo192.png"})):v.type==="unread_count"&&c({type:"SET_UNREAD_COUNT",payload:v.count})}catch(v){console.error("Error processing WebSocket message:",v)}},x.onerror=h=>{console.error("WebSocket error:",h)},x.onclose=h=>{console.log("WebSocket connection closed:",h.code,h.reason),setTimeout(()=>{console.log("Attempting to reconnect WebSocket..."),Mp(n,c)},5e3)},x},o2=async()=>"Notification"in window?Notification.permission==="granted"?!0:Notification.permission!=="denied"?await Notification.requestPermission()==="granted":!1:(console.log("This browser does not support notifications"),!1),s2=({children:n})=>{const[c,l]=b.useReducer(i2,a2),[g,x]=b.useState(null);b.useEffect(()=>{o2()},[]),b.useEffect(()=>{const j=localStorage.getItem("token");if(!j)return;const Z=Mp(j,l);return x(Z),h(),v(),()=>{Z&&Z.readyState===WebSocket.OPEN&&Z.close()}},[]),b.useEffect(()=>{localStorage.getItem("token")&&(h(),v())},[]),b.useEffect(()=>{const j=()=>{document.visibilityState==="visible"&&v()};return document.addEventListener("visibilitychange",j),()=>document.removeEventListener("visibilitychange",j)},[]);const h=async(j=1,Z=20)=>{try{l({type:"SET_LOADING",payload:!0});const J=localStorage.getItem("token");if(!J)throw new Error("Authentication token not found");const $=await fetch(`${Te.API_URL}/notifications?page=${j}&limit=${Z}`,{headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"}});if(!$.ok)throw new Error("Failed to fetch notifications");const V=await $.json();l({type:"SET_NOTIFICATIONS",payload:V.notifications}),l({type:"SET_UNREAD_COUNT",payload:V.unreadCount})}catch(J){console.error("Failed to fetch notifications:",J),l({type:"SET_ERROR",payload:J.message})}finally{l({type:"SET_LOADING",payload:!1})}},v=async()=>{try{const j=localStorage.getItem("token");if(!j)return;const Z=await fetch(`${Te.API_URL}/notifications/unread-count`,{headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}});if(!Z.ok)throw new Error("Failed to fetch unread count");const J=await Z.json();l({type:"SET_UNREAD_COUNT",payload:J.count})}catch(j){console.error("Failed to fetch unread count:",j)}},E={...c,fetchNotifications:h,fetchUnreadCount:v,markAsRead:async j=>{try{const Z=localStorage.getItem("token");if(!Z)throw new Error("Authentication token not found");if(!(await fetch(`${Te.API_URL}/notifications/${j}/read`,{method:"PUT",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to mark notification as read");l({type:"MARK_AS_READ",payload:j})}catch(Z){console.error("Failed to mark notification as read:",Z)}},markAllAsRead:async()=>{try{const j=localStorage.getItem("token");if(!j)throw new Error("Authentication token not found");if(!(await fetch(`${Te.API_URL}/notifications/mark-all-read`,{method:"PUT",headers:{Authorization:`Bearer ${j}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to mark all notifications as read");l({type:"MARK_ALL_READ"})}catch(j){console.error("Failed to mark all notifications as read:",j)}},deleteNotification:async j=>{try{const Z=localStorage.getItem("token");if(!Z)throw new Error("Authentication token not found");if(!(await fetch(`${Te.API_URL}/notifications/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete notification");l({type:"SET_NOTIFICATIONS",payload:c.notifications.filter($=>$._id!==j)})}catch(Z){console.error("Failed to delete notification:",Z)}},registerDeviceToken:async(j,Z)=>{try{const J=localStorage.getItem("token");if(!J)throw new Error("Authentication token not found");const $=await fetch(`${Te.API_URL}/notifications/register-device`,{method:"POST",headers:{Authorization:`Bearer ${J}`,"Content-Type":"application/json"},body:JSON.stringify({token:j,platform:Z})});if(!$.ok)throw new Error("Failed to register device token");return await $.json()}catch(J){throw console.error("Failed to register device token:",J),J}},showNotification:(j,Z)=>{window.toast?window.toast({title:Z,type:j}):alert(Z)}};return o(_p.Provider,{value:E,children:n})},Ud=()=>{const n=b.useContext(_p);if(!n)throw new Error("useNotifications must be used within a NotificationProvider");return n},lt=b.forwardRef(({className:n,...c},l)=>o("div",{ref:l,className:`rounded-lg border bg-card text-card-foreground shadow-sm ${n}`,...c}));lt.displayName="Card";const l2=b.forwardRef(({className:n,...c},l)=>o("div",{ref:l,className:`flex flex-col space-y-1.5 p-6 ${n}`,...c}));l2.displayName="CardHeader";const f2=b.forwardRef(({className:n,...c},l)=>o("h3",{ref:l,className:`text-2xl font-semibold leading-none tracking-tight ${n}`,...c}));f2.displayName="CardTitle";const c2=b.forwardRef(({className:n,...c},l)=>o("p",{ref:l,className:`text-sm text-muted-foreground ${n}`,...c}));c2.displayName="CardDescription";const u2=b.forwardRef(({className:n,...c},l)=>o("div",{ref:l,className:`p-6 pt-0 ${n}`,...c}));u2.displayName="CardContent";const d2=b.forwardRef(({className:n,...c},l)=>o("div",{ref:l,className:`flex items-center p-6 pt-0 ${n}`,...c}));d2.displayName="CardFooter";var h2=cp();const P1=zd(h2),m2={getModalContainer(){let n=document.getElementById("profile-modal-container");return n||(n=document.createElement("div"),n.id="profile-modal-container",Object.assign(n.style,{position:"fixed",top:"0",left:"0",width:"100vw",height:"100vh",zIndex:"9999",display:"none",backgroundColor:"rgba(0, 0, 0, 0.5)",backdropFilter:"blur(4px)",alignItems:"center",justifyContent:"center",padding:"1rem"}),document.body.appendChild(n)),n},openModal(n){if(!n)return;const c=this.getModalContainer(),l=document.createElement("div");l.style.width="100%",l.style.maxWidth="36rem",c.innerHTML="",c.appendChild(l),c.style.display="flex",P1.render(o(p2,{user:n,onClose:()=>{c.style.display="none",P1.unmountComponentAtNode(l)}}),l)},closeModal(){const n=this.getModalContainer();n.style.display="none",n.innerHTML=""}},p2=({user:n,onClose:c})=>{const[l,g]=Gr.useState(!0),[x,h]=Gr.useState(null),[v,_]=Gr.useState(n),[k,S]=Gr.useState({reviews:[],reviewCount:0,avgRating:0,totalLikes:0,totalComments:0});Gr.useEffect(()=>{(async()=>{if(!(n!=null&&n._id)){h("Invalid user data"),g(!1);return}let E=n._id;if(typeof E=="object"&&E!==null&&(E=E.id||E._id||E.userId),!E||typeof E!="string"){console.error("Invalid user ID:",E),h("Invalid user ID"),g(!1);return}try{g(!0);const j=localStorage.getItem("token"),Z=await fetch(`${Te.API_URL}/users/profile/${E}`,{headers:{Authorization:`Bearer ${j}`,Accept:"application/json"}});if(!Z.ok)throw new Error("Failed to fetch user profile");const J=await Z.json();_(J.user);const $={reviews:J.reviews,reviewCount:J.reviews.length,avgRating:J.reviews.reduce((V,re)=>V+re.rating,0)/J.reviews.length||0,totalLikes:J.reviews.reduce((V,re)=>{var we;return V+(((we=re.likes)==null?void 0:we.length)||0)},0),totalComments:J.reviews.reduce((V,re)=>{var we;return V+(((we=re.comments)==null?void 0:we.length)||0)},0)};S($)}catch(j){console.error("Error fetching user profile:",j),h(j.message)}finally{g(!1)}})()},[n]);const A=I=>new Date(I).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return o(lt,{className:"w-full max-w-2xl bg-card max-h-[90vh] overflow-y-auto",children:p("div",{className:"p-6 relative",children:[o("button",{onClick:c,className:"absolute top-2 right-2 p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-6 w-6 text-muted-foreground"})}),l?o("div",{className:"flex items-center justify-center h-40",children:o("div",{className:"animate-spin h-8 w-8 border-4 border-primary border-t-transparent rounded-full"})}):x?o("div",{className:"text-center text-red-500 p-4",children:x}):p(jt,{children:[p("div",{className:"flex items-center space-x-4 mb-6",children:[o("div",{className:"flex-shrink-0",children:o(la,{user:v,size:"2xl",className:"w-24 h-24",clickable:!1,showModal:!1})}),p("div",{children:[o("h2",{className:"text-2xl font-bold text-foreground",children:v.displayName}),p("p",{className:"text-muted-foreground",children:["@",v.username]}),p("div",{className:"flex items-center mt-2 text-sm text-muted-foreground",children:[o(Yo,{className:"h-4 w-4 mr-1"}),"Joined ",A(v.joinDate)]}),v.role==="admin"&&o("span",{className:"mt-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary text-white",children:"Admin"})]})]}),p("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[p("div",{className:"bg-secondary p-4 rounded-lg text-center",children:[o("div",{className:"text-2xl font-bold text-foreground",children:k.reviewCount}),o("div",{className:"text-sm text-muted-foreground",children:"Reviews"})]}),p("div",{className:"bg-secondary p-4 rounded-lg text-center",children:[o("div",{className:"text-2xl font-bold text-foreground",children:k.avgRating.toFixed(1)}),o("div",{className:"text-sm text-muted-foreground",children:"Avg Rating"})]}),p("div",{className:"bg-secondary p-4 rounded-lg text-center",children:[o("div",{className:"text-2xl font-bold text-foreground",children:k.totalLikes}),o("div",{className:"text-sm text-muted-foreground",children:"Total Likes"})]}),p("div",{className:"bg-secondary p-4 rounded-lg text-center",children:[o("div",{className:"text-2xl font-bold text-foreground",children:k.totalComments}),o("div",{className:"text-sm text-muted-foreground",children:"Total Comments"})]})]}),p("div",{children:[o("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Reviews"}),o("div",{className:"space-y-4",children:k.reviews.length>0?k.reviews.map(I=>{var E,j;return p("div",{className:"border border-border rounded-lg p-4 hover:bg-secondary/50 transition-colors",children:[p("div",{className:"flex justify-between items-start mb-2",children:[p("div",{children:[o("h4",{className:"font-semibold text-foreground",children:I.beefery}),p("div",{className:"flex items-center text-sm text-muted-foreground",children:[o(Go,{className:"h-4 w-4 mr-1"}),I.location]})]}),p("div",{className:"flex items-center bg-primary text-white px-2 py-1 rounded-full",children:[o("span",{className:"font-bold mr-1",children:I.rating.toFixed(1)}),o(Bn,{className:"h-4 w-4 fill-current"})]})]}),I.introComments&&o("p",{className:"text-muted-foreground text-sm line-clamp-2 mt-2",children:I.introComments}),p("div",{className:"flex items-center space-x-4 mt-2 text-sm text-muted-foreground",children:[p("div",{className:"flex items-center",children:[o(sa,{className:"h-4 w-4 mr-1"}),((E=I.likes)==null?void 0:E.length)||0]}),p("div",{className:"flex items-center",children:[o(pu,{className:"h-4 w-4 mr-1"}),((j=I.comments)==null?void 0:j.length)||0]}),p("div",{className:"flex items-center",children:[o(Yo,{className:"h-4 w-4 mr-1"}),A(I.date)]})]})]},I._id)}):o("div",{className:"text-center text-muted-foreground p-4",children:"No reviews yet"})})]})]})]})})},la=({user:n,size:c="md",className:l="",clickable:g=!0,showModal:x=!0})=>{const[h,v]=b.useState(!1),k=`
    ${{sm:"w-6 h-6",md:"w-8 h-8",lg:"w-10 h-10",xl:"w-12 h-12","2xl":"w-16 h-16"}[c]} 
    rounded-full 
    overflow-hidden
    ${g?"cursor-pointer hover:ring-2 hover:ring-primary transition-all":""}
    ${l}
  `.trim(),S=()=>{!g||!x||(n&&(typeof n._id=="string"||typeof n._id=="object"&&n._id!==null&&(n._id.id||n._id._id||n._id.userId))?m2.openModal(n):console.warn("Cannot show profile - invalid user ID:",n==null?void 0:n._id))},A=n||{displayName:"User"};return o("div",{className:k,onClick:S,role:g?"button":void 0,tabIndex:g?0:void 0,children:h?o("img",{src:"/images/default-avatar.png",alt:A.displayName||"User profile",className:"w-full h-full object-cover"}):o("img",{src:(E=>{if(!E||!E.profileImage)return"/images/default-avatar.png";let j=E.profileImage;return(j.includes(":\\")||j.startsWith("C:/")||j.startsWith("/C:/"))&&(console.log("Converting absolute path to relative for user profile:",E.displayName),j=`/uploads/profiles/${j.split(/[/\\]/).pop()}`),j.startsWith("http")?j:(j.startsWith("/api/")&&(j=j.slice(4)),j.startsWith("/uploads/")||(j=`/uploads/${j}`),j=j.replace(/\/uploads\/uploads\//,"/uploads/"),`${Te.API_URL.endsWith("/api/")?Te.API_URL.slice(0,-5):Te.API_URL.endsWith("/api")?Te.API_URL.slice(0,-4):Te.API_URL}${j}`)})(A),alt:A.displayName||"User profile",className:"w-full h-full object-cover",onError:E=>{console.error("ProfileImage error loading:",A.displayName,"Source:",E.target.src),v(!0),E.target.onerror=null}})})},g2=({currentUser:n,onClose:c})=>{const[l,g]=b.useState(1),[x,h]=b.useState(!0),[v,_]=b.useState(!1),k=b.useRef(null),{notifications:S,loading:A,unreadCount:I,fetchNotifications:E,markAsRead:j,markAllAsRead:Z,deleteNotification:J}=Ud();b.useEffect(()=>{const Y=K=>{k.current&&!k.current.contains(K.target)&&c()};return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[c]);const $=async()=>{if(!v)try{_(!0),await E(l+1,10),g(Y=>Y+1),S.length<(l+1)*10&&h(!1)}catch(Y){console.error("Failed to load more notifications:",Y)}finally{_(!1)}},V=async()=>{await Z()},re=async Y=>{Y.read||await j(Y._id),Y.target.type==="review"?window.location.href=`/reviews/${Y.target.id}`:Y.target.type==="comment"&&(window.location.href=`/reviews/${Y.target.id}#comment-${Y.target.id}`),c()},we=async(Y,K)=>{Y.stopPropagation(),await J(K)},xe=Y=>{switch(Y){case"review_like":return o(sa,{className:"h-5 w-5 text-primary"});case"comment_like":return o(sa,{className:"h-5 w-5 text-primary"});case"review_comment":case"comment_reply":return o(pu,{className:"h-5 w-5 text-primary"});case"new_user":return o(zs,{className:"h-5 w-5 text-primary"});case"news_like":return o(sa,{className:"h-5 w-5 text-primary"});default:return o(pp,{className:"h-5 w-5 text-primary"})}},fe=Y=>{const{type:K,sender:ee,target:q}=Y;switch(K){case"review_like":return p(jt,{children:[o("span",{className:"font-semibold",children:ee.displayName})," liked your review of ",o("span",{className:"font-semibold",children:q.beefery})]});case"comment_like":return p(jt,{children:[o("span",{className:"font-semibold",children:ee.displayName})," liked your comment on ",o("span",{className:"font-semibold",children:q.beefery})," review"]});case"review_comment":return p(jt,{children:[o("span",{className:"font-semibold",children:ee.displayName})," commented on your review of ",o("span",{className:"font-semibold",children:q.beefery})]});case"comment_reply":return p(jt,{children:[o("span",{className:"font-semibold",children:ee.displayName})," replied to your comment on ",o("span",{className:"font-semibold",children:q.beefery})," review"]});case"news_like":return p(jt,{children:[o("span",{className:"font-semibold",children:ee.displayName})," liked your news post",q.title&&p(jt,{children:[": ",o("span",{className:"font-semibold",children:q.title})]})]});case"poll_vote":return p(jt,{children:[o("span",{className:"font-semibold",children:ee.displayName})," voted on your poll",q.title&&p(jt,{children:[": ",o("span",{className:"font-semibold",children:q.title})]})]});default:return p(jt,{children:[o("span",{className:"font-semibold",children:ee.displayName})," interacted with your content"]})}},U=Y=>{const K=new Date,ee=new Date(Y),q=Math.floor((K-ee)/(1e3*60)),R=Math.floor(q/60),F=Math.floor(R/24);return q<60?`${q}m ago`:R<24?`${R}h ago`:F<7?`${F}d ago`:ee.toLocaleDateString()};return p(lt,{ref:k,className:"absolute right-0 top-full mt-2 w-96 max-h-[80vh] bg-card shadow-xl z-50 overflow-hidden",children:[p("div",{className:"flex justify-between items-center p-4 border-b",children:[o("h2",{className:"text-lg font-semibold text-foreground",children:"Notifications"}),p("div",{className:"flex items-center space-x-2",children:[I>0&&o("button",{onClick:V,className:"p-2 text-xs text-primary hover:underline transition-colors",children:"Mark all as read"}),o("button",{onClick:c,className:"p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-5 w-5 text-slate-500"})})]})]}),o("div",{className:"overflow-y-auto max-h-[calc(80vh-64px)]",children:A&&!S.length?o("div",{className:"flex items-center justify-center p-8",children:o(Rt,{className:"h-6 w-6 text-primary animate-spin"})}):S.length===0?o("div",{className:"p-8 text-center text-slate-500",children:"No notifications yet"}):p("div",{className:"divide-y",children:[S.map(Y=>{var K;return o("div",{onClick:()=>re(Y),className:`p-4 hover:bg-slate-50 transition-colors cursor-pointer ${Y.read?"":"bg-purple-50"}`,children:p("div",{className:"flex items-start space-x-3",children:[o("div",{className:"flex-shrink-0",children:(K=Y.sender)!=null&&K.profileImage?o("img",{src:Y.sender.profileImage,alt:Y.sender.displayName,className:"w-10 h-10 rounded-full object-cover",onError:ee=>{ee.target.onerror=null,ee.target.src="/images/default-avatar.png"}}):o("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center",children:xe(Y.type)})}),p("div",{className:"flex-1 min-w-0",children:[o("div",{className:"flex items-center space-x-2 mb-1",children:o("div",{className:"text-sm text-foreground",children:fe(Y)})}),Y.target.content&&o("p",{className:"text-sm text-slate-500 mt-1 line-clamp-2",children:Y.target.content}),p("div",{className:"flex items-center justify-between text-sm text-slate-500 mt-1",children:[o("span",{children:U(Y.date)}),p("div",{className:"flex items-center space-x-2",children:[!Y.read&&o("span",{className:"inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"New"}),o("button",{onClick:ee=>we(ee,Y._id),className:"p-1 hover:bg-slate-200 rounded-full transition-colors",children:o(Bf,{className:"h-4 w-4 text-slate-500"})})]})]})]})]})},Y._id)}),x&&o("button",{onClick:$,disabled:v,className:"w-full p-4 text-center text-primary hover:bg-purple-50 transition-colors",children:v?o(Rt,{className:"h-5 w-5 animate-spin mx-auto"}):p("div",{className:"flex items-center justify-center",children:[o("span",{children:"Load more"}),o(Os,{className:"h-4 w-4 ml-1"})]})})]})})]})},w2=({currentUser:n})=>{const{unreadCount:c,fetchUnreadCount:l,loading:g}=Ud(),[x,h]=b.useState(!1);b.useEffect(()=>{if(n!=null&&n.id){l();const k=setInterval(l,3e4);return()=>clearInterval(k)}},[n,l]),b.useEffect(()=>{const k=()=>{document.visibilityState==="visible"&&(n!=null&&n.id)&&l()};return document.addEventListener("visibilitychange",k),()=>document.removeEventListener("visibilitychange",k)},[n,l]),b.useEffect(()=>{const k=S=>{S.detail&&S.detail.type==="new_notification"&&l()};return window.addEventListener("notification",k),()=>window.removeEventListener("notification",k)},[l]);const v=()=>{h(!x)};b.useEffect(()=>{(()=>{window.ReactNativeWebView&&document.addEventListener("message",S=>{try{const A=JSON.parse(S.data);A.type==="notification_clicked"&&_(A.notification)}catch(A){console.error("Error parsing notification data:",A)}}),window.handleNotificationClick=S=>{try{const A=JSON.parse(S);_(A)}catch(A){console.error("Error parsing iOS notification data:",A)}}})()},[]);const _=k=>{k.targetType==="review"?window.location.href=`/reviews/${k.targetId}`:k.targetType==="comment"?window.location.href=`/reviews/${k.reviewId}#comment-${k.targetId}`:k.type==="news_like"&&(window.location.href=`/news/${k.targetId}`)};return p("div",{className:"relative",children:[o("button",{onClick:v,className:"p-2 rounded-full hover:bg-secondary transition-colors","aria-label":`Notifications ${c>0?`${c} unread`:""}`,disabled:g,children:g?o(Rt,{className:"h-6 w-6 text-muted-foreground animate-spin"}):p(jt,{children:[o(pp,{className:"h-6 w-6 text-muted-foreground"}),c>0&&o("span",{className:"absolute -top-1 -right-1 flex items-center justify-center min-w-[20px] h-5 text-xs font-medium text-white bg-primary rounded-full px-1",children:c>99?"99+":c})]})}),x&&o(g2,{currentUser:n,onClose:()=>h(!1)})]})},y2=({onClose:n})=>o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-2xl bg-card p-6 relative",children:[o("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full",children:o(Yt,{className:"w-5 h-5"})}),p("div",{className:"space-y-6",children:[p("section",{children:[o("h2",{className:"text-2xl font-bold text-primary/90 mb-3",children:"About North Shore Beefs"}),o("p",{className:"text-muted-foreground leading-relaxed",children:"North Shore Beefs started in 2018 as a community-driven platform for food enthusiasts to share their experiences with glorious beefs across the North Shore. What began as a small group of passionate foodies has grown into a vibrant community dedicated to discovering and sharing the best beef experiences in our area."})]}),p("section",{className:"pt-4 border-t",children:[o("h2",{className:"text-2xl font-bold text-primary/90 mb-3",children:"About the Developer"}),o("p",{className:"text-muted-foreground leading-relaxed mb-6",children:"Hi! I'm CJ, the developer behind North Shore Beefs app. As both a software engineer and a food enthusiast, I created this platform to help our community discover and share great beef experiences. If you enjoy using the app and would like to support its continued development, you can buy me a coffee using the links below! I made this out of my love of beefing for our community. GFY!"}),p("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p("a",{href:"https://venmo.com/xcessv",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center px-6 py-3 bg-[#008CFF] text-white rounded-lg hover:bg-[#0074D4] transition-colors",children:[o(T1,{className:"w-5 h-5 mr-2"}),"Tip on Venmo"]}),p("a",{href:"https://cash.app/$xcessv",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center px-6 py-3 bg-[#00D632] text-white rounded-lg hover:bg-[#00B82A] transition-colors",children:[o(T1,{className:"w-5 h-5 mr-2"}),"Tip on Cash App"]})]}),o("p",{className:"text-sm text-muted-foreground text-center mt-3",children:"Last 4 # : 3959"})]})]})]})}),v2=({onClose:n})=>o("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:p(lt,{className:"w-full max-w-lg bg-card p-6 relative",children:[o("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-[#333333] rounded-full",children:o(Yt,{className:"w-5 h-5 text-white"})}),o("h2",{className:"text-2xl font-bold mb-6 text-white",children:"Contact Us"}),p("div",{className:"space-y-6",children:[p("a",{href:"https://www.facebook.com/groups/1178870578918525",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 p-4 bg-[#1b2937] hover:bg-[#243447] rounded-lg transition-colors",children:[o(Wv,{className:"w-6 h-6 text-[#4267B2]"}),p("div",{children:[o("div",{className:"font-medium text-white",children:"Join Our Facebook Group"}),o("div",{className:"text-sm text-gray-400",children:"Connect with the North Shore Beefs community"})]})]}),p("a",{href:"mailto:fergsemail",className:"flex items-center space-x-3 p-4 bg-[#333333] hover:bg-[#444444] rounded-lg transition-colors",children:[o(Xh,{className:"w-6 h-6 text-[#8b0000]"}),p("div",{children:[o("div",{className:"font-medium text-white",children:"Contact Ferg (Admin)"}),o("div",{className:"text-sm text-gray-400",children:"Need to enter fergs email"})]})]}),p("a",{href:"mailto:racki.cj@gmail.com",className:"flex items-center space-x-3 p-4 bg-[#333333] hover:bg-[#444444] rounded-lg transition-colors",children:[o(Xh,{className:"w-6 h-6 text-[#8b0000]"}),p("div",{children:[o("div",{className:"font-medium text-white",children:"Contact Developer"}),o("div",{className:"text-sm text-gray-400",children:"racki.cj@gmail.com"})]})]}),p("div",{className:"grid grid-cols-2 gap-4",children:[p("a",{href:"https://northshorebeefs.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 p-4 bg-[#333333] hover:bg-[#444444] rounded-lg transition-colors",children:[o(Jv,{className:"w-5 h-5 text-gray-400"}),o("span",{className:"font-medium text-white",children:"Website"})]}),p("a",{href:"https://www.northshorebeefsmerch.com",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center space-x-2 p-4 bg-[#333333] hover:bg-[#444444] rounded-lg transition-colors",children:[o(e2,{className:"w-5 h-5 text-gray-400"}),o("span",{className:"font-medium text-white",children:"Merch Store"})]})]})]})]})});var Md={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var b2=Md.exports,z1;function L2(){return z1||(z1=1,function(n,c){(function(){var l,g="4.17.21",x=200,h="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",v="Expected a function",_="Invalid `variable` option passed into `_.template`",k="__lodash_hash_undefined__",S=500,A="__lodash_placeholder__",I=1,E=2,j=4,Z=1,J=2,$=1,V=2,re=4,we=8,xe=16,fe=32,U=64,Y=128,K=256,ee=512,q=30,R="...",F=800,ie=16,Q=1,ae=2,Ne=3,ge=1/0,H=9007199254740991,ue=17976931348623157e292,W=NaN,B=4294967295,ye=B-1,de=B>>>1,te=[["ary",Y],["bind",$],["bindKey",V],["curry",we],["curryRight",xe],["flip",ee],["partial",fe],["partialRight",U],["rearg",K]],oe="[object Arguments]",z="[object Array]",ce="[object AsyncFunction]",be="[object Boolean]",he="[object Date]",ze="[object DOMException]",He="[object Error]",nt="[object Function]",De="[object GeneratorFunction]",$e="[object Map]",We="[object Number]",et="[object Null]",Ve="[object Object]",It="[object Promise]",Gt="[object Proxy]",ft="[object RegExp]",gt="[object Set]",$t="[object String]",qt="[object Symbol]",on="[object Undefined]",xn="[object WeakMap]",jn="[object WeakSet]",Dn="[object ArrayBuffer]",Zn="[object DataView]",Pi="[object Float32Array]",Je="[object Float64Array]",_e="[object Int8Array]",Ae="[object Int16Array]",Ye="[object Int32Array]",qe="[object Uint8Array]",at="[object Uint8ClampedArray]",st="[object Uint16Array]",bt="[object Uint32Array]",dn=/\b__p \+= '';/g,li=/\b(__p \+=) '' \+/g,Ra=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wr=/&(?:amp|lt|gt|quot|#39);/g,ca=/[&<>"']/g,Wf=RegExp(Wr.source),Jf=RegExp(ca.source),$f=/<%-([\s\S]+?)%>/g,Hf=/<%([\s\S]+?)%>/g,zl=/<%=([\s\S]+?)%>/g,Rl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fs=/^\w*$/,Qo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Wo=/[\\^$.*+?()[\]{}|]/g,Jo=RegExp(Wo.source),Ol=/^\s+/,br=/\s/,dt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,$o=/\{\n\/\* \[wrapped with (.+)\] \*/,Us=/,? & /,Vf=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qf=/[()=,{}\[\]\/\s]/,Bl=/\\(\\)?/g,ua=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,da=/\w*$/,Fl=/^[-+]0x[0-9a-f]+$/i,yu=/^0b[01]+$/i,Kf=/^\[object .+?Constructor\]$/,Xf=/^0o[0-7]+$/i,ec=/^(?:0|[1-9]\d*)$/,Ul=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Zs=/($^)/,Ys=/['\n\r\u2028\u2029\\]/g,hn="\\ud800-\\udfff",vu="\\u0300-\\u036f",Zl="\\ufe20-\\ufe2f",tc="\\u20d0-\\u20ff",Ho=vu+Zl+tc,Gs="\\u2700-\\u27bf",Oa="a-z\\xdf-\\xf6\\xf8-\\xff",Vo="\\xac\\xb1\\xd7\\xf7",Jr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",qo="\\u2000-\\u206f",Et=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",mn="A-Z\\xc0-\\xd6\\xd8-\\xde",Ko="\\ufe0e\\ufe0f",Ba=Vo+Jr+qo+Et,$r="[']",uo="["+hn+"]",Nt="["+Ba+"]",sn="["+Ho+"]",Qs="\\d+",Ws="["+Gs+"]",cr="["+Oa+"]",Yl="[^"+hn+Ba+Qs+Gs+Oa+mn+"]",ha="\\ud83c[\\udffb-\\udfff]",Hr="(?:"+sn+"|"+ha+")",kn="[^"+hn+"]",Vr="(?:\\ud83c[\\udde6-\\uddff]){2}",Ut="[\\ud800-\\udbff][\\udc00-\\udfff]",qr="["+mn+"]",Xo="\\u200d",ma="(?:"+cr+"|"+Yl+")",Js="(?:"+qr+"|"+Yl+")",es="(?:"+$r+"(?:d|ll|m|re|s|t|ve))?",ho="(?:"+$r+"(?:D|LL|M|RE|S|T|VE))?",mo=Hr+"?",Fa="["+Ko+"]?",Kr="(?:"+Xo+"(?:"+[kn,Vr,Ut].join("|")+")"+Fa+mo+")*",zi="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",fi="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",po=Fa+mo+Kr,Lt="(?:"+[Ws,Vr,Ut].join("|")+")"+po,Jn="(?:"+[kn+sn+"?",sn,Vr,Ut,uo].join("|")+")",fn=RegExp($r,"g"),Gl=RegExp(sn,"g"),Ri=RegExp(ha+"(?="+ha+")|"+Jn+po,"g"),Ql=RegExp([qr+"?"+cr+"+"+es+"(?="+[Nt,qr,"$"].join("|")+")",Js+"+"+ho+"(?="+[Nt,qr+ma,"$"].join("|")+")",qr+"?"+ma+"+"+es,qr+"+"+ho,fi,zi,Qs,Lt].join("|"),"g"),$s=RegExp("["+Xo+hn+Ho+Ko+"]"),ci=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Hs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ts=-1,Ct={};Ct[Pi]=Ct[Je]=Ct[_e]=Ct[Ae]=Ct[Ye]=Ct[qe]=Ct[at]=Ct[st]=Ct[bt]=!0,Ct[oe]=Ct[z]=Ct[Dn]=Ct[be]=Ct[Zn]=Ct[he]=Ct[He]=Ct[nt]=Ct[$e]=Ct[We]=Ct[Ve]=Ct[ft]=Ct[gt]=Ct[$t]=Ct[xn]=!1;var Ot={};Ot[oe]=Ot[z]=Ot[Dn]=Ot[Zn]=Ot[be]=Ot[he]=Ot[Pi]=Ot[Je]=Ot[_e]=Ot[Ae]=Ot[Ye]=Ot[$e]=Ot[We]=Ot[Ve]=Ot[ft]=Ot[gt]=Ot[$t]=Ot[qt]=Ot[qe]=Ot[at]=Ot[st]=Ot[bt]=!0,Ot[He]=Ot[nt]=Ot[xn]=!1;var Ua={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},ns={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bu={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},nc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},rs=parseFloat,Vs=parseInt,is=typeof Oh=="object"&&Oh&&Oh.Object===Object&&Oh,Zt=typeof self=="object"&&self&&self.Object===Object&&self,pn=is||Zt||Function("return this")(),ur=c&&!c.nodeType&&c,Lr=ur&&!0&&n&&!n.nodeType&&n,qs=Lr&&Lr.exports===ur,go=qs&&is.process,$n=function(){try{var Le=Lr&&Lr.require&&Lr.require("util").types;return Le||go&&go.binding&&go.binding("util")}catch{}}(),Wl=$n&&$n.isArrayBuffer,dr=$n&&$n.isDate,Za=$n&&$n.isMap,Ks=$n&&$n.isRegExp,pa=$n&&$n.isSet,rc=$n&&$n.isTypedArray;function gn(Le,Pe,Ie){switch(Ie.length){case 0:return Le.call(Pe);case 1:return Le.call(Pe,Ie[0]);case 2:return Le.call(Pe,Ie[0],Ie[1]);case 3:return Le.call(Pe,Ie[0],Ie[1],Ie[2])}return Le.apply(Pe,Ie)}function Jl(Le,Pe,Ie,Ke){for(var kt=-1,Ht=Le==null?0:Le.length;++kt<Ht;){var En=Le[kt];Pe(Ke,En,Ie(En),Le)}return Ke}function Hn(Le,Pe){for(var Ie=-1,Ke=Le==null?0:Le.length;++Ie<Ke&&Pe(Le[Ie],Ie,Le)!==!1;);return Le}function Xr(Le,Pe){for(var Ie=Le==null?0:Le.length;Ie--&&Pe(Le[Ie],Ie,Le)!==!1;);return Le}function Xs(Le,Pe){for(var Ie=-1,Ke=Le==null?0:Le.length;++Ie<Ke;)if(!Pe(Le[Ie],Ie,Le))return!1;return!0}function Oi(Le,Pe){for(var Ie=-1,Ke=Le==null?0:Le.length,kt=0,Ht=[];++Ie<Ke;){var En=Le[Ie];Pe(En,Ie,Le)&&(Ht[kt++]=En)}return Ht}function wo(Le,Pe){var Ie=Le==null?0:Le.length;return!!Ie&&yo(Le,Pe,0)>-1}function $l(Le,Pe,Ie){for(var Ke=-1,kt=Le==null?0:Le.length;++Ke<kt;)if(Ie(Pe,Le[Ke]))return!0;return!1}function ln(Le,Pe){for(var Ie=-1,Ke=Le==null?0:Le.length,kt=Array(Ke);++Ie<Ke;)kt[Ie]=Pe(Le[Ie],Ie,Le);return kt}function Bi(Le,Pe){for(var Ie=-1,Ke=Pe.length,kt=Le.length;++Ie<Ke;)Le[kt+Ie]=Pe[Ie];return Le}function Hl(Le,Pe,Ie,Ke){var kt=-1,Ht=Le==null?0:Le.length;for(Ke&&Ht&&(Ie=Le[++kt]);++kt<Ht;)Ie=Pe(Ie,Le[kt],kt,Le);return Ie}function Lu(Le,Pe,Ie,Ke){var kt=Le==null?0:Le.length;for(Ke&&kt&&(Ie=Le[--kt]);kt--;)Ie=Pe(Ie,Le[kt],kt,Le);return Ie}function as(Le,Pe){for(var Ie=-1,Ke=Le==null?0:Le.length;++Ie<Ke;)if(Pe(Le[Ie],Ie,Le))return!0;return!1}var xu=el("length");function Vl(Le){return Le.split("")}function ic(Le){return Le.match(Vf)||[]}function os(Le,Pe,Ie){var Ke;return Ie(Le,function(kt,Ht,En){if(Pe(kt,Ht,En))return Ke=Ht,!1}),Ke}function ui(Le,Pe,Ie,Ke){for(var kt=Le.length,Ht=Ie+(Ke?1:-1);Ke?Ht--:++Ht<kt;)if(Pe(Le[Ht],Ht,Le))return Ht;return-1}function yo(Le,Pe,Ie){return Pe===Pe?Zi(Le,Pe,Ie):ui(Le,Ir,Ie)}function Ya(Le,Pe,Ie,Ke){for(var kt=Ie-1,Ht=Le.length;++kt<Ht;)if(Ke(Le[kt],Pe))return kt;return-1}function Ir(Le){return Le!==Le}function ql(Le,Pe){var Ie=Le==null?0:Le.length;return Ie?Xl(Le,Pe)/Ie:W}function el(Le){return function(Pe){return Pe==null?l:Pe[Le]}}function tl(Le){return function(Pe){return Le==null?l:Le[Pe]}}function nl(Le,Pe,Ie,Ke,kt){return kt(Le,function(Ht,En,rn){Ie=Ke?(Ke=!1,Ht):Pe(Ie,Ht,En,rn)}),Ie}function Kl(Le,Pe){var Ie=Le.length;for(Le.sort(Pe);Ie--;)Le[Ie]=Le[Ie].value;return Le}function Xl(Le,Pe){for(var Ie,Ke=-1,kt=Le.length;++Ke<kt;){var Ht=Pe(Le[Ke]);Ht!==l&&(Ie=Ie===l?Ht:Ie+Ht)}return Ie}function ef(Le,Pe){for(var Ie=-1,Ke=Array(Le);++Ie<Le;)Ke[Ie]=Pe(Ie);return Ke}function ac(Le,Pe){return ln(Pe,function(Ie){return[Ie,Le[Ie]]})}function oc(Le){return Le&&Le.slice(0,ls(Le)+1).replace(Ol,"")}function yn(Le){return function(Pe){return Le(Pe)}}function di(Le,Pe){return ln(Pe,function(Ie){return Le[Ie]})}function Fi(Le,Pe){return Le.has(Pe)}function hi(Le,Pe){for(var Ie=-1,Ke=Le.length;++Ie<Ke&&yo(Pe,Le[Ie],0)>-1;);return Ie}function tf(Le,Pe){for(var Ie=Le.length;Ie--&&yo(Pe,Le[Ie],0)>-1;);return Ie}function Ga(Le,Pe){for(var Ie=Le.length,Ke=0;Ie--;)Le[Ie]===Pe&&++Ke;return Ke}var sc=tl(Ua),vo=tl(ns);function nf(Le){return"\\"+nc[Le]}function Ui(Le,Pe){return Le==null?l:Le[Pe]}function bo(Le){return $s.test(Le)}function ga(Le){return ci.test(Le)}function rl(Le){for(var Pe,Ie=[];!(Pe=Le.next()).done;)Ie.push(Pe.value);return Ie}function il(Le){var Pe=-1,Ie=Array(Le.size);return Le.forEach(function(Ke,kt){Ie[++Pe]=[kt,Ke]}),Ie}function ss(Le,Pe){return function(Ie){return Le(Pe(Ie))}}function zr(Le,Pe){for(var Ie=-1,Ke=Le.length,kt=0,Ht=[];++Ie<Ke;){var En=Le[Ie];(En===Pe||En===A)&&(Le[Ie]=A,Ht[kt++]=Ie)}return Ht}function nr(Le){var Pe=-1,Ie=Array(Le.size);return Le.forEach(function(Ke){Ie[++Pe]=Ke}),Ie}function _u(Le){var Pe=-1,Ie=Array(Le.size);return Le.forEach(function(Ke){Ie[++Pe]=[Ke,Ke]}),Ie}function Zi(Le,Pe,Ie){for(var Ke=Ie-1,kt=Le.length;++Ke<kt;)if(Le[Ke]===Pe)return Ke;return-1}function Mu(Le,Pe,Ie){for(var Ke=Ie+1;Ke--;)if(Le[Ke]===Pe)return Ke;return Ke}function hr(Le){return bo(Le)?fs(Le):xu(Le)}function rr(Le){return bo(Le)?ol(Le):Vl(Le)}function ls(Le){for(var Pe=Le.length;Pe--&&br.test(Le.charAt(Pe)););return Pe}var al=tl(bu);function fs(Le){for(var Pe=Ri.lastIndex=0;Ri.test(Le);)++Pe;return Pe}function ol(Le){return Le.match(Ri)||[]}function sl(Le){return Le.match(Ql)||[]}var Lo=function Le(Pe){Pe=Pe==null?pn:Yi.defaults(pn.Object(),Pe,Yi.pick(pn,Hs));var Ie=Pe.Array,Ke=Pe.Date,kt=Pe.Error,Ht=Pe.Function,En=Pe.Math,rn=Pe.Object,cs=Pe.RegExp,mi=Pe.String,mr=Pe.TypeError,Gi=Ie.prototype,xo=Ht.prototype,pi=rn.prototype,Qa=Pe["__core-js_shared__"],us=xo.toString,Bt=pi.hasOwnProperty,_o=0,Qi=function(){var i=/[^.]+$/.exec(Qa&&Qa.keys&&Qa.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}(),Mo=pi.toString,ds=us.call(rn),lc=pn._,gi=cs("^"+us.call(Bt).replace(Wo,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),No=qs?Pe.Buffer:l,wi=Pe.Symbol,Wi=Pe.Uint8Array,rf=No?No.allocUnsafe:l,xr=ss(rn.getPrototypeOf,rn),wa=rn.create,hs=pi.propertyIsEnumerable,ms=Gi.splice,fc=wi?wi.isConcatSpreadable:l,yi=wi?wi.iterator:l,ya=wi?wi.toStringTag:l,Co=function(){try{var i=Do(rn,"defineProperty");return i({},"",{}),i}catch{}}(),af=Pe.clearTimeout!==pn.clearTimeout&&Pe.clearTimeout,cn=Ke&&Ke.now!==pn.Date.now&&Ke.now,of=Pe.setTimeout!==pn.setTimeout&&Pe.setTimeout,va=En.ceil,Ji=En.floor,ll=rn.getOwnPropertySymbols,t=No?No.isBuffer:l,a=Pe.isFinite,u=Gi.join,w=ss(rn.keys,rn),C=En.max,P=En.min,le=Ke.now,Ce=Pe.parseInt,je=En.random,Be=Gi.reverse,Xe=Do(Pe,"DataView"),pt=Do(Pe,"Map"),Tt=Do(Pe,"Promise"),_n=Do(Pe,"Set"),Mn=Do(Pe,"WeakMap"),Vn=Do(rn,"create"),qn=Mn&&new Mn,ei={},sf=Po(Xe),ba=Po(pt),cc=Po(Tt),Wa=Po(_n),vi=Po(Mn),$i=wi?wi.prototype:l,Kt=$i?$i.valueOf:l,Ja=$i?$i.toString:l;function O(i){if(Qn(i)&&!Dt(i)&&!(i instanceof At)){if(i instanceof Yn)return i;if(Bt.call(i,"__wrapped__"))return Lh(i)}return new Yn(i)}var ko=function(){function i(){}return function(s){if(!Rn(s))return{};if(wa)return wa(s);i.prototype=s;var m=new i;return i.prototype=l,m}}();function bi(){}function Yn(i,s){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=l}O.templateSettings={escape:$f,evaluate:Hf,interpolate:zl,variable:"",imports:{_:O}},O.prototype=bi.prototype,O.prototype.constructor=O,Yn.prototype=ko(bi.prototype),Yn.prototype.constructor=Yn;function At(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function fl(){var i=new At(this.__wrapped__);return i.__actions__=Er(this.__actions__),i.__dir__=this.__dir__,i.__filtered__=this.__filtered__,i.__iteratees__=Er(this.__iteratees__),i.__takeCount__=this.__takeCount__,i.__views__=Er(this.__views__),i}function Nu(){if(this.__filtered__){var i=new At(this);i.__dir__=-1,i.__filtered__=!0}else i=this.clone(),i.__dir__*=-1;return i}function cl(){var i=this.__wrapped__.value(),s=this.__dir__,m=Dt(i),N=s<0,T=m?i.length:0,G=Xu(0,T,this.__views__),ne=G.start,pe=G.end,Me=pe-ne,Re=N?pe:ne-1,Oe=this.__iteratees__,Ze=Oe.length,tt=0,mt=P(Me,this.__takeCount__);if(!m||!N&&T==Me&&mt==Me)return yl(i,this.__actions__);var _t=[];e:for(;Me--&&tt<mt;){Re+=s;for(var Ft=-1,Mt=i[Re];++Ft<Ze;){var Vt=Oe[Ft],tn=Vt.iteratee,ia=Vt.type,ai=tn(Mt);if(ia==ae)Mt=ai;else if(!ai){if(ia==Q)continue e;break e}}_t[tt++]=Mt}return _t}At.prototype=ko(bi.prototype),At.prototype.constructor=At;function Rr(i){var s=-1,m=i==null?0:i.length;for(this.clear();++s<m;){var N=i[s];this.set(N[0],N[1])}}function vn(){this.__data__=Vn?Vn(null):{},this.size=0}function wn(i){var s=this.has(i)&&delete this.__data__[i];return this.size-=s?1:0,s}function So(i){var s=this.__data__;if(Vn){var m=s[i];return m===k?l:m}return Bt.call(s,i)?s[i]:l}function _r(i){var s=this.__data__;return Vn?s[i]!==l:Bt.call(s,i)}function Or(i,s){var m=this.__data__;return this.size+=this.has(i)?0:1,m[i]=Vn&&s===l?k:s,this}Rr.prototype.clear=vn,Rr.prototype.delete=wn,Rr.prototype.get=So,Rr.prototype.has=_r,Rr.prototype.set=Or;function jr(i){var s=-1,m=i==null?0:i.length;for(this.clear();++s<m;){var N=i[s];this.set(N[0],N[1])}}function ul(){this.__data__=[],this.size=0}function Br(i){var s=this.__data__,m=Nr(s,i);if(m<0)return!1;var N=s.length-1;return m==N?s.pop():ms.call(s,m,1),--this.size,!0}function uc(i){var s=this.__data__,m=Nr(s,i);return m<0?l:s[m][1]}function $d(i){return Nr(this.__data__,i)>-1}function Hd(i,s){var m=this.__data__,N=Nr(m,i);return N<0?(++this.size,m.push([i,s])):m[N][1]=s,this}jr.prototype.clear=ul,jr.prototype.delete=Br,jr.prototype.get=uc,jr.prototype.has=$d,jr.prototype.set=Hd;function Li(i){var s=-1,m=i==null?0:i.length;for(this.clear();++s<m;){var N=i[s];this.set(N[0],N[1])}}function Vd(){this.size=0,this.__data__={hash:new Rr,map:new(pt||jr),string:new Rr}}function $a(i){var s=_f(this,i).delete(i);return this.size-=s?1:0,s}function dc(i){return _f(this,i).get(i)}function Cu(i){return _f(this,i).has(i)}function qd(i,s){var m=_f(this,i),N=m.size;return m.set(i,s),this.size+=m.size==N?0:1,this}Li.prototype.clear=Vd,Li.prototype.delete=$a,Li.prototype.get=dc,Li.prototype.has=Cu,Li.prototype.set=qd;function ps(i){var s=-1,m=i==null?0:i.length;for(this.__data__=new Li;++s<m;)this.add(i[s])}function Io(i){return this.__data__.set(i,k),this}function dl(i){return this.__data__.has(i)}ps.prototype.add=ps.prototype.push=Io,ps.prototype.has=dl;function Mr(i){var s=this.__data__=new jr(i);this.size=s.size}function hc(){this.__data__=new jr,this.size=0}function mc(i){var s=this.__data__,m=s.delete(i);return this.size=s.size,m}function xi(i){return this.__data__.get(i)}function _i(i){return this.__data__.has(i)}function gs(i,s){var m=this.__data__;if(m instanceof jr){var N=m.__data__;if(!pt||N.length<x-1)return N.push([i,s]),this.size=++m.size,this;m=this.__data__=new Li(N)}return m.set(i,s),this.size=m.size,this}Mr.prototype.clear=hc,Mr.prototype.delete=mc,Mr.prototype.get=xi,Mr.prototype.has=_i,Mr.prototype.set=gs;function La(i,s){var m=Dt(i),N=!m&&Pf(i),T=!m&&!N&&Sl(i),G=!m&&!N&&!T&&ru(i),ne=m||N||T||G,pe=ne?ef(i.length,mi):[],Me=pe.length;for(var Re in i)(s||Bt.call(i,Re))&&!(ne&&(Re=="length"||T&&(Re=="offset"||Re=="parent")||G&&(Re=="buffer"||Re=="byteLength"||Re=="byteOffset")||Cn(Re,Me)))&&pe.push(Re);return pe}function xa(i){var s=i.length;return s?i[gl(0,s-1)]:l}function ws(i,s){return Fc(Er(i),Ha(s,0,i.length))}function Kd(i){return Fc(Er(i))}function lf(i,s,m){(m!==l&&!ao(i[s],m)||m===l&&!(s in i))&&_a(i,s,m)}function ys(i,s,m){var N=i[s];(!(Bt.call(i,s)&&ao(N,m))||m===l&&!(s in i))&&_a(i,s,m)}function Nr(i,s){for(var m=i.length;m--;)if(ao(i[m][0],s))return m;return-1}function ti(i,s,m,N){return Na(i,function(T,G,ne){s(N,T,m(T),ne)}),N}function bn(i,s){return i&&Vi(s,Sr(s),i)}function Hi(i,s){return i&&Vi(s,Ti(s),i)}function _a(i,s,m){s=="__proto__"&&Co?Co(i,s,{configurable:!0,enumerable:!0,value:m,writable:!0}):i[s]=m}function pc(i,s){for(var m=-1,N=s.length,T=Ie(N),G=i==null;++m<N;)T[m]=G?l:V0(i,s[m]);return T}function Ha(i,s,m){return i===i&&(m!==l&&(i=i<=m?i:m),s!==l&&(i=i>=s?i:s)),i}function Fr(i,s,m,N,T,G){var ne,pe=s&I,Me=s&E,Re=s&j;if(m&&(ne=T?m(i,N,T,G):m(i)),ne!==l)return ne;if(!Rn(i))return i;var Oe=Dt(i);if(Oe){if(ne=Nf(i),!pe)return Er(i,ne)}else{var Ze=wr(i),tt=Ze==nt||Ze==De;if(Sl(i))return Uu(i,pe);if(Ze==Ve||Ze==oe||tt&&!T){if(ne=Me||tt?{}:yr(i),!pe)return Me?S0(i,Hi(ne,i)):Sc(i,bn(ne,i))}else{if(!Ot[Ze])return T?i:{};ne=I0(i,Ze,pe)}}G||(G=new Mr);var mt=G.get(i);if(mt)return mt;G.set(i,ne),f1(i)?i.forEach(function(Mt){ne.add(Fr(Mt,s,m,Mt,i,G))}):s1(i)&&i.forEach(function(Mt,Vt){ne.set(Vt,Fr(Mt,s,m,Vt,i,G))});var _t=Re?Me?xf:Lf:Me?Ti:Sr,Ft=Oe?l:_t(i);return Hn(Ft||i,function(Mt,Vt){Ft&&(Vt=Mt,Mt=i[Vt]),ys(ne,Vt,Fr(Mt,s,m,Vt,i,G))}),ne}function Xd(i){var s=Sr(i);return function(m){return ff(m,i,s)}}function ff(i,s,m){var N=m.length;if(i==null)return!N;for(i=rn(i);N--;){var T=m[N],G=s[T],ne=i[T];if(ne===l&&!(T in i)||!G(ne))return!1}return!0}function ku(i,s,m){if(typeof i!="function")throw new mr(v);return Nl(function(){i.apply(l,m)},s)}function Ma(i,s,m,N){var T=-1,G=wo,ne=!0,pe=i.length,Me=[],Re=s.length;if(!pe)return Me;m&&(s=ln(s,yn(m))),N?(G=$l,ne=!1):s.length>=x&&(G=Fi,ne=!1,s=new ps(s));e:for(;++T<pe;){var Oe=i[T],Ze=m==null?Oe:m(Oe);if(Oe=N||Oe!==0?Oe:0,ne&&Ze===Ze){for(var tt=Re;tt--;)if(s[tt]===Ze)continue e;Me.push(Oe)}else G(s,Ze,N)||Me.push(Oe)}return Me}var Na=Si(ni),eh=Si(jo,!0);function cf(i,s){var m=!0;return Na(i,function(N,T,G){return m=!!s(N,T,G),m}),m}function vs(i,s,m){for(var N=-1,T=i.length;++N<T;){var G=i[N],ne=s(G);if(ne!=null&&(pe===l?ne===ne&&!ra(ne):m(ne,pe)))var pe=ne,Me=G}return Me}function th(i,s,m,N){var T=i.length;for(m=zt(m),m<0&&(m=-m>T?0:T+m),N=N===l||N>T?T:zt(N),N<0&&(N+=T),N=m>N?0:u1(N);m<N;)i[m++]=s;return i}function Su(i,s){var m=[];return Na(i,function(N,T,G){s(N,T,G)&&m.push(N)}),m}function Tn(i,s,m,N,T){var G=-1,ne=i.length;for(m||(m=Rc),T||(T=[]);++G<ne;){var pe=i[G];s>0&&m(pe)?s>1?Tn(pe,s-1,m,N,T):Bi(T,pe):N||(T[T.length]=pe)}return T}var gc=jc(),uf=jc(!0);function ni(i,s){return i&&gc(i,s,Sr)}function jo(i,s){return i&&uf(i,s,Sr)}function hl(i,s){return Oi(s,function(m){return Ts(i[m])})}function Va(i,s){s=Sa(s,i);for(var m=0,N=s.length;i!=null&&m<N;)i=i[ea(s[m++])];return m&&m==N?i:l}function wc(i,s,m){var N=s(i);return Dt(i)?N:Bi(N,m(i))}function pr(i){return i==null?i===l?on:et:ya&&ya in rn(i)?zc(i):td(i)}function Eo(i,s){return i>s}function Mi(i,s){return i!=null&&Bt.call(i,s)}function bs(i,s){return i!=null&&s in rn(i)}function Iu(i,s,m){return i>=P(s,m)&&i<C(s,m)}function yc(i,s,m){for(var N=m?$l:wo,T=i[0].length,G=i.length,ne=G,pe=Ie(G),Me=1/0,Re=[];ne--;){var Oe=i[ne];ne&&s&&(Oe=ln(Oe,yn(s))),Me=P(Oe.length,Me),pe[ne]=!m&&(s||T>=120&&Oe.length>=120)?new ps(ne&&Oe):l}Oe=i[0];var Ze=-1,tt=pe[0];e:for(;++Ze<T&&Re.length<Me;){var mt=Oe[Ze],_t=s?s(mt):mt;if(mt=m||mt!==0?mt:0,!(tt?Fi(tt,_t):N(Re,_t,m))){for(ne=G;--ne;){var Ft=pe[ne];if(!(Ft?Fi(Ft,_t):N(i[ne],_t,m)))continue e}tt&&tt.push(_t),Re.push(mt)}}return Re}function qa(i,s,m,N){return ni(i,function(T,G,ne){s(N,m(T),G,ne)}),N}function Ni(i,s,m){s=Sa(s,i),i=ir(i,s);var N=i==null?i:i[ea(Dr(s))];return N==null?l:gn(N,i,m)}function vc(i){return Qn(i)&&pr(i)==oe}function nh(i){return Qn(i)&&pr(i)==Dn}function Ka(i){return Qn(i)&&pr(i)==he}function Ci(i,s,m,N,T){return i===s?!0:i==null||s==null||!Qn(i)&&!Qn(s)?i!==i&&s!==s:bc(i,s,m,N,Ci,T)}function bc(i,s,m,N,T,G){var ne=Dt(i),pe=Dt(s),Me=ne?z:wr(i),Re=pe?z:wr(s);Me=Me==oe?Ve:Me,Re=Re==oe?Ve:Re;var Oe=Me==Ve,Ze=Re==Ve,tt=Me==Re;if(tt&&Sl(i)){if(!Sl(s))return!1;ne=!0,Oe=!1}if(tt&&!Oe)return G||(G=new Mr),ne||ru(i)?qu(i,s,m,N,T,G):Ku(i,s,Me,m,N,T,G);if(!(m&Z)){var mt=Oe&&Bt.call(i,"__wrapped__"),_t=Ze&&Bt.call(s,"__wrapped__");if(mt||_t){var Ft=mt?i.value():i,Mt=_t?s.value():s;return G||(G=new Mr),T(Ft,Mt,m,N,G)}}return tt?(G||(G=new Mr),hh(i,s,m,N,T,G)):!1}function rh(i){return Qn(i)&&wr(i)==$e}function ml(i,s,m,N){var T=m.length,G=T,ne=!N;if(i==null)return!G;for(i=rn(i);T--;){var pe=m[T];if(ne&&pe[2]?pe[1]!==i[pe[0]]:!(pe[0]in i))return!1}for(;++T<G;){pe=m[T];var Me=pe[0],Re=i[Me],Oe=pe[1];if(ne&&pe[2]){if(Re===l&&!(Me in i))return!1}else{var Ze=new Mr;if(N)var tt=N(Re,Oe,Me,i,s,Ze);if(!(tt===l?Ci(Oe,Re,Z|J,N,Ze):tt))return!1}}return!0}function ju(i){if(!Rn(i)||gh(i))return!1;var s=Ts(i)?gi:Kf;return s.test(Po(i))}function df(i){return Qn(i)&&pr(i)==ft}function Ca(i){return Qn(i)&&wr(i)==gt}function hf(i){return Qn(i)&&Ph(i.length)&&!!Ct[pr(i)]}function pl(i){return typeof i=="function"?i:i==null?Ai:typeof i=="object"?Dt(i)?Nn(i[0],i[1]):Lc(i):x1(i)}function Xa(i){if(!ro(i))return w(i);var s=[];for(var m in rn(i))Bt.call(i,m)&&m!="constructor"&&s.push(m);return s}function Eu(i){if(!Rn(i))return vh(i);var s=ro(i),m=[];for(var N in i)N=="constructor"&&(s||!Bt.call(i,N))||m.push(N);return m}function To(i,s){return i<s}function Tu(i,s){var m=-1,N=Ei(i)?Ie(i.length):[];return Na(i,function(T,G,ne){N[++m]=s(T,G,ne)}),N}function Lc(i){var s=Mf(i);return s.length==1&&s[0][2]?Oc(s[0][0],s[0][1]):function(m){return m===i||ml(m,i,s)}}function Nn(i,s){return it(i)&&kf(s)?Oc(ea(i),s):function(m){var N=V0(m,i);return N===l&&N===s?q0(m,i):Ci(s,N,Z|J)}}function Ls(i,s,m,N,T){i!==s&&gc(s,function(G,ne){if(T||(T=new Mr),Rn(G))Au(i,s,ne,m,Ls,N,T);else{var pe=N?N(Ea(i,ne),G,ne+"",i,s,T):l;pe===l&&(pe=G),lf(i,ne,pe)}},Ti)}function Au(i,s,m,N,T,G,ne){var pe=Ea(i,m),Me=Ea(s,m),Re=ne.get(Me);if(Re){lf(i,m,Re);return}var Oe=G?G(pe,Me,m+"",i,s,ne):l,Ze=Oe===l;if(Ze){var tt=Dt(Me),mt=!tt&&Sl(Me),_t=!tt&&!mt&&ru(Me);Oe=Me,tt||mt||_t?Dt(pe)?Oe=pe:er(pe)?Oe=Er(pe):mt?(Ze=!1,Oe=Uu(Me,!0)):_t?(Ze=!1,Oe=lh(Me,!0)):Oe=[]:vd(Me)||Pf(Me)?(Oe=pe,Pf(pe)?Oe=d1(pe):(!Rn(pe)||Ts(pe))&&(Oe=yr(Me))):Ze=!1}Ze&&(ne.set(Me,Oe),T(Oe,Me,N,G,ne),ne.delete(Me)),lf(i,m,Oe)}function xc(i,s){var m=i.length;if(m)return s+=s<0?m:0,Cn(s,m)?i[s]:l}function mf(i,s,m){s.length?s=ln(s,function(G){return Dt(G)?function(ne){return Va(ne,G.length===1?G[0]:G)}:G}):s=[Ai];var N=-1;s=ln(s,yn(vt()));var T=Tu(i,function(G,ne,pe){var Me=ln(s,function(Re){return Re(G)});return{criteria:Me,index:++N,value:G}});return Kl(T,function(G,ne){return k0(G,ne,m)})}function Du(i,s){return Ao(i,s,function(m,N){return q0(i,N)})}function Ao(i,s,m){for(var N=-1,T=s.length,G={};++N<T;){var ne=s[N],pe=Va(i,ne);m(pe,ne)&&_s(G,Sa(ne,i),pe)}return G}function Sn(i){return function(s){return Va(s,i)}}function Pn(i,s,m,N){var T=N?Ya:yo,G=-1,ne=s.length,pe=i;for(i===s&&(s=Er(s)),m&&(pe=ln(i,yn(m)));++G<ne;)for(var Me=0,Re=s[G],Oe=m?m(Re):Re;(Me=T(pe,Oe,Me,N))>-1;)pe!==i&&ms.call(pe,Me,1),ms.call(i,Me,1);return i}function Kn(i,s){for(var m=i?s.length:0,N=m-1;m--;){var T=s[m];if(m==N||T!==G){var G=T;Cn(T)?ms.call(i,T,1):Nc(i,T)}}return i}function gl(i,s){return i+Ji(je()*(s-i+1))}function pf(i,s,m,N){for(var T=-1,G=C(va((s-i)/(m||1)),0),ne=Ie(G);G--;)ne[N?G:++T]=i,i+=m;return ne}function xs(i,s){var m="";if(!i||s<1||s>H)return m;do s%2&&(m+=i),s=Ji(s/2),s&&(i+=i);while(s);return m}function Pt(i,s){return ri(Bc(i,s,Ai),i+"")}function Cr(i){return xa(iu(i))}function Pu(i,s){var m=iu(i);return Fc(m,Ha(s,0,m.length))}function _s(i,s,m,N){if(!Rn(i))return i;s=Sa(s,i);for(var T=-1,G=s.length,ne=G-1,pe=i;pe!=null&&++T<G;){var Me=ea(s[T]),Re=m;if(Me==="__proto__"||Me==="constructor"||Me==="prototype")return i;if(T!=ne){var Oe=pe[Me];Re=N?N(Oe,Me,pe):l,Re===l&&(Re=Rn(Oe)?Oe:Cn(s[T+1])?[]:{})}ys(pe,Me,Re),pe=pe[Me]}return i}var _c=qn?function(i,s){return qn.set(i,s),i}:Ai,ka=Co?function(i,s){return Co(i,"toString",{configurable:!0,enumerable:!1,value:X0(s),writable:!0})}:Ai;function ki(i){return Fc(iu(i))}function kr(i,s,m){var N=-1,T=i.length;s<0&&(s=-s>T?0:T+s),m=m>T?T:m,m<0&&(m+=T),T=s>m?0:m-s>>>0,s>>>=0;for(var G=Ie(T);++N<T;)G[N]=i[N+s];return G}function zu(i,s){var m;return Na(i,function(N,T,G){return m=s(N,T,G),!m}),!!m}function wl(i,s,m){var N=0,T=i==null?N:i.length;if(typeof s=="number"&&s===s&&T<=de){for(;N<T;){var G=N+T>>>1,ne=i[G];ne!==null&&!ra(ne)&&(m?ne<=s:ne<s)?N=G+1:T=G}return T}return Mc(i,s,Ai,m)}function Mc(i,s,m,N){var T=0,G=i==null?0:i.length;if(G===0)return 0;s=m(s);for(var ne=s!==s,pe=s===null,Me=ra(s),Re=s===l;T<G;){var Oe=Ji((T+G)/2),Ze=m(i[Oe]),tt=Ze!==l,mt=Ze===null,_t=Ze===Ze,Ft=ra(Ze);if(ne)var Mt=N||_t;else Re?Mt=_t&&(N||tt):pe?Mt=_t&&tt&&(N||!mt):Me?Mt=_t&&tt&&!mt&&(N||!Ft):mt||Ft?Mt=!1:Mt=N?Ze<=s:Ze<s;Mt?T=Oe+1:G=Oe}return P(G,ye)}function Ru(i,s){for(var m=-1,N=i.length,T=0,G=[];++m<N;){var ne=i[m],pe=s?s(ne):ne;if(!m||!ao(pe,Me)){var Me=pe;G[T++]=ne===0?0:ne}}return G}function Ou(i){return typeof i=="number"?i:ra(i)?W:+i}function Ur(i){if(typeof i=="string")return i;if(Dt(i))return ln(i,Ur)+"";if(ra(i))return Ja?Ja.call(i):"";var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function eo(i,s,m){var N=-1,T=wo,G=i.length,ne=!0,pe=[],Me=pe;if(m)ne=!1,T=$l;else if(G>=x){var Re=s?null:dh(i);if(Re)return nr(Re);ne=!1,T=Fi,Me=new ps}else Me=s?[]:pe;e:for(;++N<G;){var Oe=i[N],Ze=s?s(Oe):Oe;if(Oe=m||Oe!==0?Oe:0,ne&&Ze===Ze){for(var tt=Me.length;tt--;)if(Me[tt]===Ze)continue e;s&&Me.push(Ze),pe.push(Oe)}else T(Me,Ze,m)||(Me!==pe&&Me.push(Ze),pe.push(Oe))}return pe}function Nc(i,s){return s=Sa(s,i),i=ir(i,s),i==null||delete i[ea(Dr(s))]}function Bu(i,s,m,N){return _s(i,s,m(Va(i,s)),N)}function gf(i,s,m,N){for(var T=i.length,G=N?T:-1;(N?G--:++G<T)&&s(i[G],G,i););return m?kr(i,N?0:G,N?G+1:T):kr(i,N?G+1:0,N?T:G)}function yl(i,s){var m=i;return m instanceof At&&(m=m.value()),Hl(s,function(N,T){return T.func.apply(T.thisArg,Bi([N],T.args))},m)}function Cc(i,s,m){var N=i.length;if(N<2)return N?eo(i[0]):[];for(var T=-1,G=Ie(N);++T<N;)for(var ne=i[T],pe=-1;++pe<N;)pe!=T&&(G[T]=Ma(G[T]||ne,i[pe],s,m));return eo(Tn(G,1),s,m)}function wf(i,s,m){for(var N=-1,T=i.length,G=s.length,ne={};++N<T;){var pe=N<G?s[N]:l;m(ne,i[N],pe)}return ne}function vl(i){return er(i)?i:[]}function kc(i){return typeof i=="function"?i:Ai}function Sa(i,s){return Dt(i)?i:it(i,s)?[i]:id(un(i))}var ih=Pt;function to(i,s,m){var N=i.length;return m=m===l?N:m,!s&&m>=N?i:kr(i,s,m)}var Fu=af||function(i){return pn.clearTimeout(i)};function Uu(i,s){if(s)return i.slice();var m=i.length,N=rf?rf(m):new i.constructor(m);return i.copy(N),N}function yf(i){var s=new i.constructor(i.byteLength);return new Wi(s).set(new Wi(i)),s}function ah(i,s){var m=s?yf(i.buffer):i.buffer;return new i.constructor(m,i.byteOffset,i.byteLength)}function oh(i){var s=new i.constructor(i.source,da.exec(i));return s.lastIndex=i.lastIndex,s}function sh(i){return Kt?rn(Kt.call(i)):{}}function lh(i,s){var m=s?yf(i.buffer):i.buffer;return new i.constructor(m,i.byteOffset,i.length)}function Zu(i,s){if(i!==s){var m=i!==l,N=i===null,T=i===i,G=ra(i),ne=s!==l,pe=s===null,Me=s===s,Re=ra(s);if(!pe&&!Re&&!G&&i>s||G&&ne&&Me&&!pe&&!Re||N&&ne&&Me||!m&&Me||!T)return 1;if(!N&&!G&&!Re&&i<s||Re&&m&&T&&!N&&!G||pe&&m&&T||!ne&&T||!Me)return-1}return 0}function k0(i,s,m){for(var N=-1,T=i.criteria,G=s.criteria,ne=T.length,pe=m.length;++N<ne;){var Me=Zu(T[N],G[N]);if(Me){if(N>=pe)return Me;var Re=m[N];return Me*(Re=="desc"?-1:1)}}return i.index-s.index}function fh(i,s,m,N){for(var T=-1,G=i.length,ne=m.length,pe=-1,Me=s.length,Re=C(G-ne,0),Oe=Ie(Me+Re),Ze=!N;++pe<Me;)Oe[pe]=s[pe];for(;++T<ne;)(Ze||T<G)&&(Oe[m[T]]=i[T]);for(;Re--;)Oe[pe++]=i[T++];return Oe}function Yu(i,s,m,N){for(var T=-1,G=i.length,ne=-1,pe=m.length,Me=-1,Re=s.length,Oe=C(G-pe,0),Ze=Ie(Oe+Re),tt=!N;++T<Oe;)Ze[T]=i[T];for(var mt=T;++Me<Re;)Ze[mt+Me]=s[Me];for(;++ne<pe;)(tt||T<G)&&(Ze[mt+m[ne]]=i[T++]);return Ze}function Er(i,s){var m=-1,N=i.length;for(s||(s=Ie(N));++m<N;)s[m]=i[m];return s}function Vi(i,s,m,N){var T=!m;m||(m={});for(var G=-1,ne=s.length;++G<ne;){var pe=s[G],Me=N?N(m[pe],i[pe],pe,m,i):l;Me===l&&(Me=i[pe]),T?_a(m,pe,Me):ys(m,pe,Me)}return m}function Sc(i,s){return Vi(i,qi(i),s)}function S0(i,s){return Vi(i,mh(i),s)}function Ic(i,s){return function(m,N){var T=Dt(m)?Jl:ti,G=s?s():{};return T(m,i,vt(N,2),G)}}function bl(i){return Pt(function(s,m){var N=-1,T=m.length,G=T>1?m[T-1]:l,ne=T>2?m[2]:l;for(G=i.length>3&&typeof G=="function"?(T--,G):l,ne&&Ar(m[0],m[1],ne)&&(G=T<3?l:G,T=1),s=rn(s);++N<T;){var pe=m[N];pe&&i(s,pe,N,G)}return s})}function Si(i,s){return function(m,N){if(m==null)return m;if(!Ei(m))return i(m,N);for(var T=m.length,G=s?T:-1,ne=rn(m);(s?G--:++G<T)&&N(ne[G],G,ne)!==!1;);return m}}function jc(i){return function(s,m,N){for(var T=-1,G=rn(s),ne=N(s),pe=ne.length;pe--;){var Me=ne[i?pe:++T];if(m(G[Me],Me,G)===!1)break}return s}}function Ec(i,s,m){var N=s&$,T=Ll(i);function G(){var ne=this&&this!==pn&&this instanceof G?T:i;return ne.apply(N?m:this,arguments)}return G}function Gu(i){return function(s){s=un(s);var m=bo(s)?rr(s):l,N=m?m[0]:s.charAt(0),T=m?to(m,1).join(""):s.slice(1);return N[i]()+T}}function Ms(i){return function(s){return Hl(b1(v1(s).replace(fn,"")),i,"")}}function Ll(i){return function(){var s=arguments;switch(s.length){case 0:return new i;case 1:return new i(s[0]);case 2:return new i(s[0],s[1]);case 3:return new i(s[0],s[1],s[2]);case 4:return new i(s[0],s[1],s[2],s[3]);case 5:return new i(s[0],s[1],s[2],s[3],s[4]);case 6:return new i(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new i(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var m=ko(i.prototype),N=i.apply(m,s);return Rn(N)?N:m}}function Qu(i,s,m){var N=Ll(i);function T(){for(var G=arguments.length,ne=Ie(G),pe=G,Me=no(T);pe--;)ne[pe]=arguments[pe];var Re=G<3&&ne[0]!==Me&&ne[G-1]!==Me?[]:zr(ne,Me);if(G-=Re.length,G<m)return Tr(i,s,xl,T.placeholder,l,ne,Re,l,l,m-G);var Oe=this&&this!==pn&&this instanceof T?N:i;return gn(Oe,this,ne)}return T}function Ns(i){return function(s,m,N){var T=rn(s);if(!Ei(s)){var G=vt(m,3);s=Sr(s),m=function(pe){return G(T[pe],pe,T)}}var ne=i(s,m,N);return ne>-1?T[G?s[ne]:ne]:l}}function Tc(i){return ja(function(s){var m=s.length,N=m,T=Yn.prototype.thru;for(i&&s.reverse();N--;){var G=s[N];if(typeof G!="function")throw new mr(v);if(T&&!ne&&_l(G)=="wrapper")var ne=new Yn([],!0)}for(N=ne?N:m;++N<m;){G=s[N];var pe=_l(G),Me=pe=="wrapper"?Pc(G):l;Me&&Cf(Me[0])&&Me[1]==(Y|we|fe|K)&&!Me[4].length&&Me[9]==1?ne=ne[_l(Me[0])].apply(ne,Me[3]):ne=G.length==1&&Cf(G)?ne[pe]():ne.thru(G)}return function(){var Re=arguments,Oe=Re[0];if(ne&&Re.length==1&&Dt(Oe))return ne.plant(Oe).value();for(var Ze=0,tt=m?s[Ze].apply(this,Re):Oe;++Ze<m;)tt=s[Ze].call(this,tt);return tt}})}function xl(i,s,m,N,T,G,ne,pe,Me,Re){var Oe=s&Y,Ze=s&$,tt=s&V,mt=s&(we|xe),_t=s&ee,Ft=tt?l:Ll(i);function Mt(){for(var Vt=arguments.length,tn=Ie(Vt),ia=Vt;ia--;)tn[ia]=arguments[ia];if(mt)var ai=no(Mt),aa=Ga(tn,ai);if(N&&(tn=fh(tn,N,T,mt)),G&&(tn=Yu(tn,G,ne,mt)),Vt-=aa,mt&&Vt<Re){var tr=zr(tn,ai);return Tr(i,s,xl,Mt.placeholder,m,tn,tr,pe,Me,Re-Vt)}var oo=Ze?m:this,Ds=tt?oo[i]:i;return Vt=tn.length,pe?tn=Ki(tn,pe):_t&&Vt>1&&tn.reverse(),Oe&&Me<Vt&&(tn.length=Me),this&&this!==pn&&this instanceof Mt&&(Ds=Ft||Ll(Ds)),Ds.apply(oo,tn)}return Mt}function ch(i,s){return function(m,N){return qa(m,i,s(N),{})}}function vf(i,s){return function(m,N){var T;if(m===l&&N===l)return s;if(m!==l&&(T=m),N!==l){if(T===l)return N;typeof m=="string"||typeof N=="string"?(m=Ur(m),N=Ur(N)):(m=Ou(m),N=Ou(N)),T=i(m,N)}return T}}function Ac(i){return ja(function(s){return s=ln(s,yn(vt())),Pt(function(m){var N=this;return i(s,function(T){return gn(T,N,m)})})})}function bf(i,s){s=s===l?" ":Ur(s);var m=s.length;if(m<2)return m?xs(s,i):s;var N=xs(s,va(i/hr(s)));return bo(s)?to(rr(N),0,i).join(""):N.slice(0,i)}function uh(i,s,m,N){var T=s&$,G=Ll(i);function ne(){for(var pe=-1,Me=arguments.length,Re=-1,Oe=N.length,Ze=Ie(Oe+Me),tt=this&&this!==pn&&this instanceof ne?G:i;++Re<Oe;)Ze[Re]=N[Re];for(;Me--;)Ze[Re++]=arguments[++pe];return gn(tt,T?m:this,Ze)}return ne}function Wu(i){return function(s,m,N){return N&&typeof N!="number"&&Ar(s,m,N)&&(m=N=l),s=As(s),m===l?(m=s,s=0):m=As(m),N=N===l?s<m?1:-1:As(N),pf(s,m,N,i)}}function Dc(i){return function(s,m){return typeof s=="string"&&typeof m=="string"||(s=Ta(s),m=Ta(m)),i(s,m)}}function Tr(i,s,m,N,T,G,ne,pe,Me,Re){var Oe=s&we,Ze=Oe?ne:l,tt=Oe?l:ne,mt=Oe?G:l,_t=Oe?l:G;s|=Oe?fe:U,s&=~(Oe?U:fe),s&re||(s&=-4);var Ft=[i,s,T,mt,Ze,_t,tt,pe,Me,Re],Mt=m.apply(l,Ft);return Cf(i)&&nd(Mt,Ft),Mt.placeholder=N,rd(Mt,i,s)}function gr(i){var s=En[i];return function(m,N){if(m=Ta(m),N=N==null?0:P(zt(N),292),N&&a(m)){var T=(un(m)+"e").split("e"),G=s(T[0]+"e"+(+T[1]+N));return T=(un(G)+"e").split("e"),+(T[0]+"e"+(+T[1]-N))}return s(m)}}var dh=_n&&1/nr(new _n([,-0]))[1]==ge?function(i){return new _n(i)}:nm;function Ju(i){return function(s){var m=wr(s);return m==$e?il(s):m==gt?_u(s):ac(s,i(s))}}function Ia(i,s,m,N,T,G,ne,pe){var Me=s&V;if(!Me&&typeof i!="function")throw new mr(v);var Re=N?N.length:0;if(Re||(s&=-97,N=T=l),ne=ne===l?ne:C(zt(ne),0),pe=pe===l?pe:zt(pe),Re-=T?T.length:0,s&U){var Oe=N,Ze=T;N=T=l}var tt=Me?l:Pc(i),mt=[i,s,m,N,T,Oe,Ze,G,ne,pe];if(tt&&yh(mt,tt),i=mt[0],s=mt[1],m=mt[2],N=mt[3],T=mt[4],pe=mt[9]=mt[9]===l?Me?0:i.length:C(mt[9]-Re,0),!pe&&s&(we|xe)&&(s&=-25),!s||s==$)var _t=Ec(i,s,m);else s==we||s==xe?_t=Qu(i,s,pe):(s==fe||s==($|fe))&&!T.length?_t=uh(i,s,m,N):_t=xl.apply(l,mt);var Ft=tt?_c:nd;return rd(Ft(_t,mt),i,s)}function $u(i,s,m,N){return i===l||ao(i,pi[m])&&!Bt.call(N,m)?s:i}function Hu(i,s,m,N,T,G){return Rn(i)&&Rn(s)&&(G.set(s,i),Ls(i,s,l,Hu,G),G.delete(s)),i}function Vu(i){return vd(i)?l:i}function qu(i,s,m,N,T,G){var ne=m&Z,pe=i.length,Me=s.length;if(pe!=Me&&!(ne&&Me>pe))return!1;var Re=G.get(i),Oe=G.get(s);if(Re&&Oe)return Re==s&&Oe==i;var Ze=-1,tt=!0,mt=m&J?new ps:l;for(G.set(i,s),G.set(s,i);++Ze<pe;){var _t=i[Ze],Ft=s[Ze];if(N)var Mt=ne?N(Ft,_t,Ze,s,i,G):N(_t,Ft,Ze,i,s,G);if(Mt!==l){if(Mt)continue;tt=!1;break}if(mt){if(!as(s,function(Vt,tn){if(!Fi(mt,tn)&&(_t===Vt||T(_t,Vt,m,N,G)))return mt.push(tn)})){tt=!1;break}}else if(!(_t===Ft||T(_t,Ft,m,N,G))){tt=!1;break}}return G.delete(i),G.delete(s),tt}function Ku(i,s,m,N,T,G,ne){switch(m){case Zn:if(i.byteLength!=s.byteLength||i.byteOffset!=s.byteOffset)return!1;i=i.buffer,s=s.buffer;case Dn:return!(i.byteLength!=s.byteLength||!G(new Wi(i),new Wi(s)));case be:case he:case We:return ao(+i,+s);case He:return i.name==s.name&&i.message==s.message;case ft:case $t:return i==s+"";case $e:var pe=il;case gt:var Me=N&Z;if(pe||(pe=nr),i.size!=s.size&&!Me)return!1;var Re=ne.get(i);if(Re)return Re==s;N|=J,ne.set(i,s);var Oe=qu(pe(i),pe(s),N,T,G,ne);return ne.delete(i),Oe;case qt:if(Kt)return Kt.call(i)==Kt.call(s)}return!1}function hh(i,s,m,N,T,G){var ne=m&Z,pe=Lf(i),Me=pe.length,Re=Lf(s),Oe=Re.length;if(Me!=Oe&&!ne)return!1;for(var Ze=Me;Ze--;){var tt=pe[Ze];if(!(ne?tt in s:Bt.call(s,tt)))return!1}var mt=G.get(i),_t=G.get(s);if(mt&&_t)return mt==s&&_t==i;var Ft=!0;G.set(i,s),G.set(s,i);for(var Mt=ne;++Ze<Me;){tt=pe[Ze];var Vt=i[tt],tn=s[tt];if(N)var ia=ne?N(tn,Vt,tt,s,i,G):N(Vt,tn,tt,i,s,G);if(!(ia===l?Vt===tn||T(Vt,tn,m,N,G):ia)){Ft=!1;break}Mt||(Mt=tt=="constructor")}if(Ft&&!Mt){var ai=i.constructor,aa=s.constructor;ai!=aa&&"constructor"in i&&"constructor"in s&&!(typeof ai=="function"&&ai instanceof ai&&typeof aa=="function"&&aa instanceof aa)&&(Ft=!1)}return G.delete(i),G.delete(s),Ft}function ja(i){return ri(Bc(i,l,Zc),i+"")}function Lf(i){return wc(i,Sr,qi)}function xf(i){return wc(i,Ti,mh)}var Pc=qn?function(i){return qn.get(i)}:nm;function _l(i){for(var s=i.name+"",m=ei[s],N=Bt.call(ei,s)?m.length:0;N--;){var T=m[N],G=T.func;if(G==null||G==i)return T.name}return s}function no(i){var s=Bt.call(O,"placeholder")?O:i;return s.placeholder}function vt(){var i=O.iteratee||em;return i=i===em?pl:i,arguments.length?i(arguments[0],arguments[1]):i}function _f(i,s){var m=i.__data__;return Ml(s)?m[typeof s=="string"?"string":"hash"]:m.map}function Mf(i){for(var s=Sr(i),m=s.length;m--;){var N=s[m],T=i[N];s[m]=[N,T,kf(T)]}return s}function Do(i,s){var m=Ui(i,s);return ju(m)?m:l}function zc(i){var s=Bt.call(i,ya),m=i[ya];try{i[ya]=l;var N=!0}catch{}var T=Mo.call(i);return N&&(s?i[ya]=m:delete i[ya]),T}var qi=ll?function(i){return i==null?[]:(i=rn(i),Oi(ll(i),function(s){return hs.call(i,s)}))}:rm,mh=ll?function(i){for(var s=[];i;)Bi(s,qi(i)),i=xr(i);return s}:rm,wr=pr;(Xe&&wr(new Xe(new ArrayBuffer(1)))!=Zn||pt&&wr(new pt)!=$e||Tt&&wr(Tt.resolve())!=It||_n&&wr(new _n)!=gt||Mn&&wr(new Mn)!=xn)&&(wr=function(i){var s=pr(i),m=s==Ve?i.constructor:l,N=m?Po(m):"";if(N)switch(N){case sf:return Zn;case ba:return $e;case cc:return It;case Wa:return gt;case vi:return xn}return s});function Xu(i,s,m){for(var N=-1,T=m.length;++N<T;){var G=m[N],ne=G.size;switch(G.type){case"drop":i+=ne;break;case"dropRight":s-=ne;break;case"take":s=P(s,i+ne);break;case"takeRight":i=C(i,s-ne);break}}return{start:i,end:s}}function ph(i){var s=i.match($o);return s?s[1].split(Us):[]}function ed(i,s,m){s=Sa(s,i);for(var N=-1,T=s.length,G=!1;++N<T;){var ne=ea(s[N]);if(!(G=i!=null&&m(i,ne)))break;i=i[ne]}return G||++N!=T?G:(T=i==null?0:i.length,!!T&&Ph(T)&&Cn(ne,T)&&(Dt(i)||Pf(i)))}function Nf(i){var s=i.length,m=new i.constructor(s);return s&&typeof i[0]=="string"&&Bt.call(i,"index")&&(m.index=i.index,m.input=i.input),m}function yr(i){return typeof i.constructor=="function"&&!ro(i)?ko(xr(i)):{}}function I0(i,s,m){var N=i.constructor;switch(s){case Dn:return yf(i);case be:case he:return new N(+i);case Zn:return ah(i,m);case Pi:case Je:case _e:case Ae:case Ye:case qe:case at:case st:case bt:return lh(i,m);case $e:return new N;case We:case $t:return new N(i);case ft:return oh(i);case gt:return new N;case qt:return sh(i)}}function j0(i,s){var m=s.length;if(!m)return i;var N=m-1;return s[N]=(m>1?"& ":"")+s[N],s=s.join(m>2?", ":" "),i.replace(dt,`{
/* [wrapped with `+s+`] */
`)}function Rc(i){return Dt(i)||Pf(i)||!!(fc&&i&&i[fc])}function Cn(i,s){var m=typeof i;return s=s??H,!!s&&(m=="number"||m!="symbol"&&ec.test(i))&&i>-1&&i%1==0&&i<s}function Ar(i,s,m){if(!Rn(m))return!1;var N=typeof s;return(N=="number"?Ei(m)&&Cn(s,m.length):N=="string"&&s in m)?ao(m[s],i):!1}function it(i,s){if(Dt(i))return!1;var m=typeof i;return m=="number"||m=="symbol"||m=="boolean"||i==null||ra(i)?!0:Fs.test(i)||!Rl.test(i)||s!=null&&i in rn(s)}function Ml(i){var s=typeof i;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?i!=="__proto__":i===null}function Cf(i){var s=_l(i),m=O[s];if(typeof m!="function"||!(s in At.prototype))return!1;if(i===m)return!0;var N=Pc(m);return!!N&&i===N[0]}function gh(i){return!!Qi&&Qi in i}var E0=Qa?Ts:im;function ro(i){var s=i&&i.constructor,m=typeof s=="function"&&s.prototype||pi;return i===m}function kf(i){return i===i&&!Rn(i)}function Oc(i,s){return function(m){return m==null?!1:m[i]===s&&(s!==l||i in rn(m))}}function wh(i){var s=Se(i,function(N){return m.size===S&&m.clear(),N}),m=s.cache;return s}function yh(i,s){var m=i[1],N=s[1],T=m|N,G=T<($|V|Y),ne=N==Y&&m==we||N==Y&&m==K&&i[7].length<=s[8]||N==(Y|K)&&s[7].length<=s[8]&&m==we;if(!(G||ne))return i;N&$&&(i[2]=s[2],T|=m&$?0:re);var pe=s[3];if(pe){var Me=i[3];i[3]=Me?fh(Me,pe,s[4]):pe,i[4]=Me?zr(i[3],A):s[4]}return pe=s[5],pe&&(Me=i[5],i[5]=Me?Yu(Me,pe,s[6]):pe,i[6]=Me?zr(i[5],A):s[6]),pe=s[7],pe&&(i[7]=pe),N&Y&&(i[8]=i[8]==null?s[8]:P(i[8],s[8])),i[9]==null&&(i[9]=s[9]),i[0]=s[0],i[1]=T,i}function vh(i){var s=[];if(i!=null)for(var m in rn(i))s.push(m);return s}function td(i){return Mo.call(i)}function Bc(i,s,m){return s=C(s===l?i.length-1:s,0),function(){for(var N=arguments,T=-1,G=C(N.length-s,0),ne=Ie(G);++T<G;)ne[T]=N[s+T];T=-1;for(var pe=Ie(s+1);++T<s;)pe[T]=N[T];return pe[s]=m(ne),gn(i,this,pe)}}function ir(i,s){return s.length<2?i:Va(i,kr(s,0,-1))}function Ki(i,s){for(var m=i.length,N=P(s.length,m),T=Er(i);N--;){var G=s[N];i[N]=Cn(G,m)?T[G]:l}return i}function Ea(i,s){if(!(s==="constructor"&&typeof i[s]=="function")&&s!="__proto__")return i[s]}var nd=Xi(_c),Nl=of||function(i,s){return pn.setTimeout(i,s)},ri=Xi(ka);function rd(i,s,m){var N=s+"";return ri(i,j0(N,bh(ph(N),m)))}function Xi(i){var s=0,m=0;return function(){var N=le(),T=ie-(N-m);if(m=N,T>0){if(++s>=F)return arguments[0]}else s=0;return i.apply(l,arguments)}}function Fc(i,s){var m=-1,N=i.length,T=N-1;for(s=s===l?N:s;++m<s;){var G=gl(m,T),ne=i[G];i[G]=i[m],i[m]=ne}return i.length=s,i}var id=wh(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(Qo,function(m,N,T,G){s.push(T?G.replace(Bl,"$1"):N||m)}),s});function ea(i){if(typeof i=="string"||ra(i))return i;var s=i+"";return s=="0"&&1/i==-1/0?"-0":s}function Po(i){if(i!=null){try{return us.call(i)}catch{}try{return i+""}catch{}}return""}function bh(i,s){return Hn(te,function(m){var N="_."+m[0];s&m[1]&&!wo(i,N)&&i.push(N)}),i.sort()}function Lh(i){if(i instanceof At)return i.clone();var s=new Yn(i.__wrapped__,i.__chain__);return s.__actions__=Er(i.__actions__),s.__index__=i.__index__,s.__values__=i.__values__,s}function Uc(i,s,m){(m?Ar(i,s,m):s===l)?s=1:s=C(zt(s),0);var N=i==null?0:i.length;if(!N||s<1)return[];for(var T=0,G=0,ne=Ie(va(N/s));T<N;)ne[G++]=kr(i,T,T+=s);return ne}function ad(i){for(var s=-1,m=i==null?0:i.length,N=0,T=[];++s<m;){var G=i[s];G&&(T[N++]=G)}return T}function Ii(){var i=arguments.length;if(!i)return[];for(var s=Ie(i-1),m=arguments[0],N=i;N--;)s[N-1]=arguments[N];return Bi(Dt(m)?Er(m):[m],Tn(s,1))}var en=Pt(function(i,s){return er(i)?Ma(i,Tn(s,1,er,!0)):[]}),ar=Pt(function(i,s){var m=Dr(s);return er(m)&&(m=l),er(i)?Ma(i,Tn(s,1,er,!0),vt(m,2)):[]}),Gn=Pt(function(i,s){var m=Dr(s);return er(m)&&(m=l),er(i)?Ma(i,Tn(s,1,er,!0),l,m):[]});function vr(i,s,m){var N=i==null?0:i.length;return N?(s=m||s===l?1:zt(s),kr(i,s<0?0:s,N)):[]}function ii(i,s,m){var N=i==null?0:i.length;return N?(s=m||s===l?1:zt(s),s=N-s,kr(i,0,s<0?0:s)):[]}function Cl(i,s){return i&&i.length?gf(i,vt(s,3),!0,!0):[]}function Xn(i,s){return i&&i.length?gf(i,vt(s,3),!0):[]}function Sf(i,s,m,N){var T=i==null?0:i.length;return T?(m&&typeof m!="number"&&Ar(i,s,m)&&(m=0,N=T),th(i,s,m,N)):[]}function zo(i,s,m){var N=i==null?0:i.length;if(!N)return-1;var T=m==null?0:zt(m);return T<0&&(T=C(N+T,0)),ui(i,vt(s,3),T)}function If(i,s,m){var N=i==null?0:i.length;if(!N)return-1;var T=N-1;return m!==l&&(T=zt(m),T=m<0?C(N+T,0):P(T,N-1)),ui(i,vt(s,3),T,!0)}function Zc(i){var s=i==null?0:i.length;return s?Tn(i,1):[]}function jf(i){var s=i==null?0:i.length;return s?Tn(i,ge):[]}function Zr(i,s){var m=i==null?0:i.length;return m?(s=s===l?1:zt(s),Tn(i,s)):[]}function od(i){for(var s=-1,m=i==null?0:i.length,N={};++s<m;){var T=i[s];N[T[0]]=T[1]}return N}function Cs(i){return i&&i.length?i[0]:l}function io(i,s,m){var N=i==null?0:i.length;if(!N)return-1;var T=m==null?0:zt(m);return T<0&&(T=C(N+T,0)),yo(i,s,T)}function Yc(i){var s=i==null?0:i.length;return s?kr(i,0,-1):[]}var sd=Pt(function(i){var s=ln(i,vl);return s.length&&s[0]===i[0]?yc(s):[]}),Ro=Pt(function(i){var s=Dr(i),m=ln(i,vl);return s===Dr(m)?s=l:m.pop(),m.length&&m[0]===i[0]?yc(m,vt(s,2)):[]}),Gc=Pt(function(i){var s=Dr(i),m=ln(i,vl);return s=typeof s=="function"?s:l,s&&m.pop(),m.length&&m[0]===i[0]?yc(m,l,s):[]});function Oo(i,s){return i==null?"":u.call(i,s)}function Dr(i){var s=i==null?0:i.length;return s?i[s-1]:l}function Ef(i,s,m){var N=i==null?0:i.length;if(!N)return-1;var T=N;return m!==l&&(T=zt(m),T=T<0?C(N+T,0):P(T,N-1)),s===s?Mu(i,s,T):ui(i,Ir,T,!0)}function ld(i,s){return i&&i.length?xc(i,zt(s)):l}var Qc=Pt(Tf);function Tf(i,s){return i&&i.length&&s&&s.length?Pn(i,s):i}function Pr(i,s,m){return i&&i.length&&s&&s.length?Pn(i,s,vt(m,2)):i}function Bo(i,s,m){return i&&i.length&&s&&s.length?Pn(i,s,l,m):i}var ta=ja(function(i,s){var m=i==null?0:i.length,N=pc(i,s);return Kn(i,ln(s,function(T){return Cn(T,m)?+T:T}).sort(Zu)),N});function Yr(i,s){var m=[];if(!(i&&i.length))return m;var N=-1,T=[],G=i.length;for(s=vt(s,3);++N<G;){var ne=i[N];s(ne,N,i)&&(m.push(ne),T.push(N))}return Kn(i,T),m}function Wc(i){return i==null?i:Be.call(i)}function fd(i,s,m){var N=i==null?0:i.length;return N?(m&&typeof m!="number"&&Ar(i,s,m)?(s=0,m=N):(s=s==null?0:zt(s),m=m===l?N:zt(m)),kr(i,s,m)):[]}function cd(i,s){return wl(i,s)}function T0(i,s,m){return Mc(i,s,vt(m,2))}function Fo(i,s){var m=i==null?0:i.length;if(m){var N=wl(i,s);if(N<m&&ao(i[N],s))return N}return-1}function xh(i,s){return wl(i,s,!0)}function ud(i,s,m){return Mc(i,s,vt(m,2),!0)}function ks(i,s){var m=i==null?0:i.length;if(m){var N=wl(i,s,!0)-1;if(ao(i[N],s))return N}return-1}function dd(i){return i&&i.length?Ru(i):[]}function Ss(i,s){return i&&i.length?Ru(i,vt(s,2)):[]}function _h(i){var s=i==null?0:i.length;return s?kr(i,1,s):[]}function Mh(i,s,m){return i&&i.length?(s=m||s===l?1:zt(s),kr(i,0,s<0?0:s)):[]}function hd(i,s,m){var N=i==null?0:i.length;return N?(s=m||s===l?1:zt(s),s=N-s,kr(i,s<0?0:s,N)):[]}function Jc(i,s){return i&&i.length?gf(i,vt(s,3),!1,!0):[]}function A0(i,s){return i&&i.length?gf(i,vt(s,3)):[]}var D0=Pt(function(i){return eo(Tn(i,1,er,!0))}),Nh=Pt(function(i){var s=Dr(i);return er(s)&&(s=l),eo(Tn(i,1,er,!0),vt(s,2))}),Ch=Pt(function(i){var s=Dr(i);return s=typeof s=="function"?s:l,eo(Tn(i,1,er,!0),l,s)});function Is(i){return i&&i.length?eo(i):[]}function P0(i,s){return i&&i.length?eo(i,vt(s,2)):[]}function kl(i,s){return s=typeof s=="function"?s:l,i&&i.length?eo(i,l,s):[]}function $c(i){if(!(i&&i.length))return[];var s=0;return i=Oi(i,function(m){if(er(m))return s=C(m.length,s),!0}),ef(s,function(m){return ln(i,el(m))})}function In(i,s){if(!(i&&i.length))return[];var m=$c(i);return s==null?m:ln(m,function(N){return gn(s,l,N)})}var z0=Pt(function(i,s){return er(i)?Ma(i,s):[]}),kh=Pt(function(i){return Cc(Oi(i,er))}),R0=Pt(function(i){var s=Dr(i);return er(s)&&(s=l),Cc(Oi(i,er),vt(s,2))}),O0=Pt(function(i){var s=Dr(i);return s=typeof s=="function"?s:l,Cc(Oi(i,er),l,s)}),Sh=Pt($c);function Ih(i,s){return wf(i||[],s||[],ys)}function B0(i,s){return wf(i||[],s||[],_s)}var ji=Pt(function(i){var s=i.length,m=s>1?i[s-1]:l;return m=typeof m=="function"?(i.pop(),m):l,In(i,m)});function Hc(i){var s=O(i);return s.__chain__=!0,s}function F0(i,s){return s(i),i}function na(i,s){return s(i)}var Vc=ja(function(i){var s=i.length,m=s?i[0]:0,N=this.__wrapped__,T=function(G){return pc(G,i)};return s>1||this.__actions__.length||!(N instanceof At)||!Cn(m)?this.thru(T):(N=N.slice(m,+m+(s?1:0)),N.__actions__.push({func:na,args:[T],thisArg:l}),new Yn(N,this.__chain__).thru(function(G){return s&&!G.length&&G.push(l),G}))});function js(){return Hc(this)}function qc(){return new Yn(this.value(),this.__chain__)}function md(){this.__values__===l&&(this.__values__=c1(this.value()));var i=this.__index__>=this.__values__.length,s=i?l:this.__values__[this.__index__++];return{done:i,value:s}}function pd(){return this}function U0(i){for(var s,m=this;m instanceof bi;){var N=Lh(m);N.__index__=0,N.__values__=l,s?T.__wrapped__=N:s=N;var T=N;m=m.__wrapped__}return T.__wrapped__=i,s}function gd(){var i=this.__wrapped__;if(i instanceof At){var s=i;return this.__actions__.length&&(s=new At(this)),s=s.reverse(),s.__actions__.push({func:na,args:[Wc],thisArg:l}),new Yn(s,this.__chain__)}return this.thru(Wc)}function Z0(){return yl(this.__wrapped__,this.__actions__)}var jh=Ic(function(i,s,m){Bt.call(i,m)?++i[m]:_a(i,m,1)});function Eh(i,s,m){var N=Dt(i)?Xs:cf;return m&&Ar(i,s,m)&&(s=l),N(i,vt(s,3))}function Kc(i,s){var m=Dt(i)?Oi:Su;return m(i,vt(s,3))}var Xc=Ns(zo),Th=Ns(If);function wd(i,s){return Tn(Es(i,s),1)}function Y0(i,s){return Tn(Es(i,s),ge)}function Ah(i,s,m){return m=m===l?1:zt(m),Tn(Es(i,s),m)}function eu(i,s){var m=Dt(i)?Hn:Na;return m(i,vt(s,3))}function Af(i,s){var m=Dt(i)?Xr:eh;return m(i,vt(s,3))}var yd=Ic(function(i,s,m){Bt.call(i,m)?i[m].push(s):_a(i,m,[s])});function tu(i,s,m,N){i=Ei(i)?i:iu(i),m=m&&!N?zt(m):0;var T=i.length;return m<0&&(m=C(T+m,0)),zh(i)?m<=T&&i.indexOf(s,m)>-1:!!T&&yo(i,s,m)>-1}var Dh=Pt(function(i,s,m){var N=-1,T=typeof s=="function",G=Ei(i)?Ie(i.length):[];return Na(i,function(ne){G[++N]=T?gn(s,ne,m):Ni(ne,s,m)}),G}),G0=Ic(function(i,s,m){_a(i,m,s)});function Es(i,s){var m=Dt(i)?ln:Tu;return m(i,vt(s,3))}function Q0(i,s,m,N){return i==null?[]:(Dt(s)||(s=s==null?[]:[s]),m=N?l:m,Dt(m)||(m=m==null?[]:[m]),mf(i,s,m))}var Df=Ic(function(i,s,m){i[m?0:1].push(s)},function(){return[[],[]]});function W0(i,s,m){var N=Dt(i)?Hl:nl,T=arguments.length<3;return N(i,vt(s,4),m,T,Na)}function nu(i,s,m){var N=Dt(i)?Lu:nl,T=arguments.length<3;return N(i,vt(s,4),m,T,eh)}function e(i,s){var m=Dt(i)?Oi:Su;return m(i,Qe(vt(s,3)))}function r(i){var s=Dt(i)?xa:Cr;return s(i)}function f(i,s,m){(m?Ar(i,s,m):s===l)?s=1:s=zt(s);var N=Dt(i)?ws:Pu;return N(i,s)}function d(i){var s=Dt(i)?Kd:ki;return s(i)}function y(i){if(i==null)return 0;if(Ei(i))return zh(i)?hr(i):i.length;var s=wr(i);return s==$e||s==gt?i.size:Xa(i).length}function M(i,s,m){var N=Dt(i)?as:zu;return m&&Ar(i,s,m)&&(s=l),N(i,vt(s,3))}var D=Pt(function(i,s){if(i==null)return[];var m=s.length;return m>1&&Ar(i,s[0],s[1])?s=[]:m>2&&Ar(s[0],s[1],s[2])&&(s=[s[0]]),mf(i,Tn(s,1),[])}),X=cn||function(){return pn.Date.now()};function me(i,s){if(typeof s!="function")throw new mr(v);return i=zt(i),function(){if(--i<1)return s.apply(this,arguments)}}function Ee(i,s,m){return s=m?l:s,s=i&&s==null?i.length:s,Ia(i,Y,l,l,l,l,s)}function Ue(i,s){var m;if(typeof s!="function")throw new mr(v);return i=zt(i),function(){return--i>0&&(m=s.apply(this,arguments)),i<=1&&(s=l),m}}var Ge=Pt(function(i,s,m){var N=$;if(m.length){var T=zr(m,no(Ge));N|=fe}return Ia(i,N,s,m,T)}),Fe=Pt(function(i,s,m){var N=$|V;if(m.length){var T=zr(m,no(Fe));N|=fe}return Ia(s,N,i,m,T)});function rt(i,s,m){s=m?l:s;var N=Ia(i,we,l,l,l,l,l,s);return N.placeholder=rt.placeholder,N}function ot(i,s,m){s=m?l:s;var N=Ia(i,xe,l,l,l,l,l,s);return N.placeholder=ot.placeholder,N}function ct(i,s,m){var N,T,G,ne,pe,Me,Re=0,Oe=!1,Ze=!1,tt=!0;if(typeof i!="function")throw new mr(v);s=Ta(s)||0,Rn(m)&&(Oe=!!m.leading,Ze="maxWait"in m,G=Ze?C(Ta(m.maxWait)||0,s):G,tt="trailing"in m?!!m.trailing:tt);function mt(tr){var oo=N,Ds=T;return N=T=l,Re=tr,ne=i.apply(Ds,oo),ne}function _t(tr){return Re=tr,pe=Nl(Vt,s),Oe?mt(tr):ne}function Ft(tr){var oo=tr-Me,Ds=tr-Re,_1=s-oo;return Ze?P(_1,G-Ds):_1}function Mt(tr){var oo=tr-Me,Ds=tr-Re;return Me===l||oo>=s||oo<0||Ze&&Ds>=G}function Vt(){var tr=X();if(Mt(tr))return tn(tr);pe=Nl(Vt,Ft(tr))}function tn(tr){return pe=l,tt&&N?mt(tr):(N=T=l,ne)}function ia(){pe!==l&&Fu(pe),Re=0,N=Me=T=pe=l}function ai(){return pe===l?ne:tn(X())}function aa(){var tr=X(),oo=Mt(tr);if(N=arguments,T=this,Me=tr,oo){if(pe===l)return _t(Me);if(Ze)return Fu(pe),pe=Nl(Vt,s),mt(Me)}return pe===l&&(pe=Nl(Vt,s)),ne}return aa.cancel=ia,aa.flush=ai,aa}var zn=Pt(function(i,s){return ku(i,1,s)}),ke=Pt(function(i,s,m){return ku(i,Ta(s)||0,m)});function ve(i){return Ia(i,ee)}function Se(i,s){if(typeof i!="function"||s!=null&&typeof s!="function")throw new mr(v);var m=function(){var N=arguments,T=s?s.apply(this,N):N[0],G=m.cache;if(G.has(T))return G.get(T);var ne=i.apply(this,N);return m.cache=G.set(T,ne)||G,ne};return m.cache=new(Se.Cache||Li),m}Se.Cache=Li;function Qe(i){if(typeof i!="function")throw new mr(v);return function(){var s=arguments;switch(s.length){case 0:return!i.call(this);case 1:return!i.call(this,s[0]);case 2:return!i.call(this,s[0],s[1]);case 3:return!i.call(this,s[0],s[1],s[2])}return!i.apply(this,s)}}function ht(i){return Ue(2,i)}var yt=ih(function(i,s){s=s.length==1&&Dt(s[0])?ln(s[0],yn(vt())):ln(Tn(s,1),yn(vt()));var m=s.length;return Pt(function(N){for(var T=-1,G=P(N.length,m);++T<G;)N[T]=s[T].call(this,N[T]);return gn(i,this,N)})}),wt=Pt(function(i,s){var m=zr(s,no(wt));return Ia(i,fe,l,s,m)}),xt=Pt(function(i,s){var m=zr(s,no(xt));return Ia(i,U,l,s,m)}),or=ja(function(i,s){return Ia(i,K,l,l,l,s)});function nn(i,s){if(typeof i!="function")throw new mr(v);return s=s===l?s:zt(s),Pt(i,s)}function Uo(i,s){if(typeof i!="function")throw new mr(v);return s=s==null?0:C(zt(s),0),Pt(function(m){var N=m[s],T=to(m,0,s);return N&&Bi(T,N),gn(i,this,T)})}function J0(i,s,m){var N=!0,T=!0;if(typeof i!="function")throw new mr(v);return Rn(m)&&(N="leading"in m?!!m.leading:N,T="trailing"in m?!!m.trailing:T),ct(i,s,{leading:N,maxWait:s,trailing:T})}function aw(i){return Ee(i,1)}function ow(i,s){return wt(kc(s),i)}function sw(){if(!arguments.length)return[];var i=arguments[0];return Dt(i)?i:[i]}function lw(i){return Fr(i,j)}function fw(i,s){return s=typeof s=="function"?s:l,Fr(i,j,s)}function cw(i){return Fr(i,I|j)}function uw(i,s){return s=typeof s=="function"?s:l,Fr(i,I|j,s)}function dw(i,s){return s==null||ff(i,s,Sr(s))}function ao(i,s){return i===s||i!==i&&s!==s}var hw=Dc(Eo),mw=Dc(function(i,s){return i>=s}),Pf=vc(function(){return arguments}())?vc:function(i){return Qn(i)&&Bt.call(i,"callee")&&!hs.call(i,"callee")},Dt=Ie.isArray,pw=Wl?yn(Wl):nh;function Ei(i){return i!=null&&Ph(i.length)&&!Ts(i)}function er(i){return Qn(i)&&Ei(i)}function gw(i){return i===!0||i===!1||Qn(i)&&pr(i)==be}var Sl=t||im,ww=dr?yn(dr):Ka;function yw(i){return Qn(i)&&i.nodeType===1&&!vd(i)}function vw(i){if(i==null)return!0;if(Ei(i)&&(Dt(i)||typeof i=="string"||typeof i.splice=="function"||Sl(i)||ru(i)||Pf(i)))return!i.length;var s=wr(i);if(s==$e||s==gt)return!i.size;if(ro(i))return!Xa(i).length;for(var m in i)if(Bt.call(i,m))return!1;return!0}function bw(i,s){return Ci(i,s)}function Lw(i,s,m){m=typeof m=="function"?m:l;var N=m?m(i,s):l;return N===l?Ci(i,s,l,m):!!N}function $0(i){if(!Qn(i))return!1;var s=pr(i);return s==He||s==ze||typeof i.message=="string"&&typeof i.name=="string"&&!vd(i)}function xw(i){return typeof i=="number"&&a(i)}function Ts(i){if(!Rn(i))return!1;var s=pr(i);return s==nt||s==De||s==ce||s==Gt}function o1(i){return typeof i=="number"&&i==zt(i)}function Ph(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=H}function Rn(i){var s=typeof i;return i!=null&&(s=="object"||s=="function")}function Qn(i){return i!=null&&typeof i=="object"}var s1=Za?yn(Za):rh;function _w(i,s){return i===s||ml(i,s,Mf(s))}function Mw(i,s,m){return m=typeof m=="function"?m:l,ml(i,s,Mf(s),m)}function Nw(i){return l1(i)&&i!=+i}function Cw(i){if(E0(i))throw new kt(h);return ju(i)}function kw(i){return i===null}function Sw(i){return i==null}function l1(i){return typeof i=="number"||Qn(i)&&pr(i)==We}function vd(i){if(!Qn(i)||pr(i)!=Ve)return!1;var s=xr(i);if(s===null)return!0;var m=Bt.call(s,"constructor")&&s.constructor;return typeof m=="function"&&m instanceof m&&us.call(m)==ds}var H0=Ks?yn(Ks):df;function Iw(i){return o1(i)&&i>=-9007199254740991&&i<=H}var f1=pa?yn(pa):Ca;function zh(i){return typeof i=="string"||!Dt(i)&&Qn(i)&&pr(i)==$t}function ra(i){return typeof i=="symbol"||Qn(i)&&pr(i)==qt}var ru=rc?yn(rc):hf;function jw(i){return i===l}function Ew(i){return Qn(i)&&wr(i)==xn}function Tw(i){return Qn(i)&&pr(i)==jn}var Aw=Dc(To),Dw=Dc(function(i,s){return i<=s});function c1(i){if(!i)return[];if(Ei(i))return zh(i)?rr(i):Er(i);if(yi&&i[yi])return rl(i[yi]());var s=wr(i),m=s==$e?il:s==gt?nr:iu;return m(i)}function As(i){if(!i)return i===0?i:0;if(i=Ta(i),i===ge||i===-1/0){var s=i<0?-1:1;return s*ue}return i===i?i:0}function zt(i){var s=As(i),m=s%1;return s===s?m?s-m:s:0}function u1(i){return i?Ha(zt(i),0,B):0}function Ta(i){if(typeof i=="number")return i;if(ra(i))return W;if(Rn(i)){var s=typeof i.valueOf=="function"?i.valueOf():i;i=Rn(s)?s+"":s}if(typeof i!="string")return i===0?i:+i;i=oc(i);var m=yu.test(i);return m||Xf.test(i)?Vs(i.slice(2),m?2:8):Fl.test(i)?W:+i}function d1(i){return Vi(i,Ti(i))}function Pw(i){return i?Ha(zt(i),-9007199254740991,H):i===0?i:0}function un(i){return i==null?"":Ur(i)}var zw=bl(function(i,s){if(ro(s)||Ei(s)){Vi(s,Sr(s),i);return}for(var m in s)Bt.call(s,m)&&ys(i,m,s[m])}),h1=bl(function(i,s){Vi(s,Ti(s),i)}),Rh=bl(function(i,s,m,N){Vi(s,Ti(s),i,N)}),Rw=bl(function(i,s,m,N){Vi(s,Sr(s),i,N)}),Ow=ja(pc);function Bw(i,s){var m=ko(i);return s==null?m:bn(m,s)}var Fw=Pt(function(i,s){i=rn(i);var m=-1,N=s.length,T=N>2?s[2]:l;for(T&&Ar(s[0],s[1],T)&&(N=1);++m<N;)for(var G=s[m],ne=Ti(G),pe=-1,Me=ne.length;++pe<Me;){var Re=ne[pe],Oe=i[Re];(Oe===l||ao(Oe,pi[Re])&&!Bt.call(i,Re))&&(i[Re]=G[Re])}return i}),Uw=Pt(function(i){return i.push(l,Hu),gn(m1,l,i)});function Zw(i,s){return os(i,vt(s,3),ni)}function Yw(i,s){return os(i,vt(s,3),jo)}function Gw(i,s){return i==null?i:gc(i,vt(s,3),Ti)}function Qw(i,s){return i==null?i:uf(i,vt(s,3),Ti)}function Ww(i,s){return i&&ni(i,vt(s,3))}function Jw(i,s){return i&&jo(i,vt(s,3))}function $w(i){return i==null?[]:hl(i,Sr(i))}function Hw(i){return i==null?[]:hl(i,Ti(i))}function V0(i,s,m){var N=i==null?l:Va(i,s);return N===l?m:N}function Vw(i,s){return i!=null&&ed(i,s,Mi)}function q0(i,s){return i!=null&&ed(i,s,bs)}var qw=ch(function(i,s,m){s!=null&&typeof s.toString!="function"&&(s=Mo.call(s)),i[s]=m},X0(Ai)),Kw=ch(function(i,s,m){s!=null&&typeof s.toString!="function"&&(s=Mo.call(s)),Bt.call(i,s)?i[s].push(m):i[s]=[m]},vt),Xw=Pt(Ni);function Sr(i){return Ei(i)?La(i):Xa(i)}function Ti(i){return Ei(i)?La(i,!0):Eu(i)}function ey(i,s){var m={};return s=vt(s,3),ni(i,function(N,T,G){_a(m,s(N,T,G),N)}),m}function ty(i,s){var m={};return s=vt(s,3),ni(i,function(N,T,G){_a(m,T,s(N,T,G))}),m}var ny=bl(function(i,s,m){Ls(i,s,m)}),m1=bl(function(i,s,m,N){Ls(i,s,m,N)}),ry=ja(function(i,s){var m={};if(i==null)return m;var N=!1;s=ln(s,function(G){return G=Sa(G,i),N||(N=G.length>1),G}),Vi(i,xf(i),m),N&&(m=Fr(m,I|E|j,Vu));for(var T=s.length;T--;)Nc(m,s[T]);return m});function iy(i,s){return p1(i,Qe(vt(s)))}var ay=ja(function(i,s){return i==null?{}:Du(i,s)});function p1(i,s){if(i==null)return{};var m=ln(xf(i),function(N){return[N]});return s=vt(s),Ao(i,m,function(N,T){return s(N,T[0])})}function oy(i,s,m){s=Sa(s,i);var N=-1,T=s.length;for(T||(T=1,i=l);++N<T;){var G=i==null?l:i[ea(s[N])];G===l&&(N=T,G=m),i=Ts(G)?G.call(i):G}return i}function sy(i,s,m){return i==null?i:_s(i,s,m)}function ly(i,s,m,N){return N=typeof N=="function"?N:l,i==null?i:_s(i,s,m,N)}var g1=Ju(Sr),w1=Ju(Ti);function fy(i,s,m){var N=Dt(i),T=N||Sl(i)||ru(i);if(s=vt(s,4),m==null){var G=i&&i.constructor;T?m=N?new G:[]:Rn(i)?m=Ts(G)?ko(xr(i)):{}:m={}}return(T?Hn:ni)(i,function(ne,pe,Me){return s(m,ne,pe,Me)}),m}function cy(i,s){return i==null?!0:Nc(i,s)}function uy(i,s,m){return i==null?i:Bu(i,s,kc(m))}function dy(i,s,m,N){return N=typeof N=="function"?N:l,i==null?i:Bu(i,s,kc(m),N)}function iu(i){return i==null?[]:di(i,Sr(i))}function hy(i){return i==null?[]:di(i,Ti(i))}function my(i,s,m){return m===l&&(m=s,s=l),m!==l&&(m=Ta(m),m=m===m?m:0),s!==l&&(s=Ta(s),s=s===s?s:0),Ha(Ta(i),s,m)}function py(i,s,m){return s=As(s),m===l?(m=s,s=0):m=As(m),i=Ta(i),Iu(i,s,m)}function gy(i,s,m){if(m&&typeof m!="boolean"&&Ar(i,s,m)&&(s=m=l),m===l&&(typeof s=="boolean"?(m=s,s=l):typeof i=="boolean"&&(m=i,i=l)),i===l&&s===l?(i=0,s=1):(i=As(i),s===l?(s=i,i=0):s=As(s)),i>s){var N=i;i=s,s=N}if(m||i%1||s%1){var T=je();return P(i+T*(s-i+rs("1e-"+((T+"").length-1))),s)}return gl(i,s)}var wy=Ms(function(i,s,m){return s=s.toLowerCase(),i+(m?y1(s):s)});function y1(i){return K0(un(i).toLowerCase())}function v1(i){return i=un(i),i&&i.replace(Ul,sc).replace(Gl,"")}function yy(i,s,m){i=un(i),s=Ur(s);var N=i.length;m=m===l?N:Ha(zt(m),0,N);var T=m;return m-=s.length,m>=0&&i.slice(m,T)==s}function vy(i){return i=un(i),i&&Jf.test(i)?i.replace(ca,vo):i}function by(i){return i=un(i),i&&Jo.test(i)?i.replace(Wo,"\\$&"):i}var Ly=Ms(function(i,s,m){return i+(m?"-":"")+s.toLowerCase()}),xy=Ms(function(i,s,m){return i+(m?" ":"")+s.toLowerCase()}),_y=Gu("toLowerCase");function My(i,s,m){i=un(i),s=zt(s);var N=s?hr(i):0;if(!s||N>=s)return i;var T=(s-N)/2;return bf(Ji(T),m)+i+bf(va(T),m)}function Ny(i,s,m){i=un(i),s=zt(s);var N=s?hr(i):0;return s&&N<s?i+bf(s-N,m):i}function Cy(i,s,m){i=un(i),s=zt(s);var N=s?hr(i):0;return s&&N<s?bf(s-N,m)+i:i}function ky(i,s,m){return m||s==null?s=0:s&&(s=+s),Ce(un(i).replace(Ol,""),s||0)}function Sy(i,s,m){return(m?Ar(i,s,m):s===l)?s=1:s=zt(s),xs(un(i),s)}function Iy(){var i=arguments,s=un(i[0]);return i.length<3?s:s.replace(i[1],i[2])}var jy=Ms(function(i,s,m){return i+(m?"_":"")+s.toLowerCase()});function Ey(i,s,m){return m&&typeof m!="number"&&Ar(i,s,m)&&(s=m=l),m=m===l?B:m>>>0,m?(i=un(i),i&&(typeof s=="string"||s!=null&&!H0(s))&&(s=Ur(s),!s&&bo(i))?to(rr(i),0,m):i.split(s,m)):[]}var Ty=Ms(function(i,s,m){return i+(m?" ":"")+K0(s)});function Ay(i,s,m){return i=un(i),m=m==null?0:Ha(zt(m),0,i.length),s=Ur(s),i.slice(m,m+s.length)==s}function Dy(i,s,m){var N=O.templateSettings;m&&Ar(i,s,m)&&(s=l),i=un(i),s=Rh({},s,N,$u);var T=Rh({},s.imports,N.imports,$u),G=Sr(T),ne=di(T,G),pe,Me,Re=0,Oe=s.interpolate||Zs,Ze="__p += '",tt=cs((s.escape||Zs).source+"|"+Oe.source+"|"+(Oe===zl?ua:Zs).source+"|"+(s.evaluate||Zs).source+"|$","g"),mt="//# sourceURL="+(Bt.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ts+"]")+`
`;i.replace(tt,function(Mt,Vt,tn,ia,ai,aa){return tn||(tn=ia),Ze+=i.slice(Re,aa).replace(Ys,nf),Vt&&(pe=!0,Ze+=`' +
__e(`+Vt+`) +
'`),ai&&(Me=!0,Ze+=`';
`+ai+`;
__p += '`),tn&&(Ze+=`' +
((__t = (`+tn+`)) == null ? '' : __t) +
'`),Re=aa+Mt.length,Mt}),Ze+=`';
`;var _t=Bt.call(s,"variable")&&s.variable;if(!_t)Ze=`with (obj) {
`+Ze+`
}
`;else if(qf.test(_t))throw new kt(_);Ze=(Me?Ze.replace(dn,""):Ze).replace(li,"$1").replace(Ra,"$1;"),Ze="function("+(_t||"obj")+`) {
`+(_t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pe?", __e = _.escape":"")+(Me?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ze+`return __p
}`;var Ft=L1(function(){return Ht(G,mt+"return "+Ze).apply(l,ne)});if(Ft.source=Ze,$0(Ft))throw Ft;return Ft}function Py(i){return un(i).toLowerCase()}function zy(i){return un(i).toUpperCase()}function Ry(i,s,m){if(i=un(i),i&&(m||s===l))return oc(i);if(!i||!(s=Ur(s)))return i;var N=rr(i),T=rr(s),G=hi(N,T),ne=tf(N,T)+1;return to(N,G,ne).join("")}function Oy(i,s,m){if(i=un(i),i&&(m||s===l))return i.slice(0,ls(i)+1);if(!i||!(s=Ur(s)))return i;var N=rr(i),T=tf(N,rr(s))+1;return to(N,0,T).join("")}function By(i,s,m){if(i=un(i),i&&(m||s===l))return i.replace(Ol,"");if(!i||!(s=Ur(s)))return i;var N=rr(i),T=hi(N,rr(s));return to(N,T).join("")}function Fy(i,s){var m=q,N=R;if(Rn(s)){var T="separator"in s?s.separator:T;m="length"in s?zt(s.length):m,N="omission"in s?Ur(s.omission):N}i=un(i);var G=i.length;if(bo(i)){var ne=rr(i);G=ne.length}if(m>=G)return i;var pe=m-hr(N);if(pe<1)return N;var Me=ne?to(ne,0,pe).join(""):i.slice(0,pe);if(T===l)return Me+N;if(ne&&(pe+=Me.length-pe),H0(T)){if(i.slice(pe).search(T)){var Re,Oe=Me;for(T.global||(T=cs(T.source,un(da.exec(T))+"g")),T.lastIndex=0;Re=T.exec(Oe);)var Ze=Re.index;Me=Me.slice(0,Ze===l?pe:Ze)}}else if(i.indexOf(Ur(T),pe)!=pe){var tt=Me.lastIndexOf(T);tt>-1&&(Me=Me.slice(0,tt))}return Me+N}function Uy(i){return i=un(i),i&&Wf.test(i)?i.replace(Wr,al):i}var Zy=Ms(function(i,s,m){return i+(m?" ":"")+s.toUpperCase()}),K0=Gu("toUpperCase");function b1(i,s,m){return i=un(i),s=m?l:s,s===l?ga(i)?sl(i):ic(i):i.match(s)||[]}var L1=Pt(function(i,s){try{return gn(i,l,s)}catch(m){return $0(m)?m:new kt(m)}}),Yy=ja(function(i,s){return Hn(s,function(m){m=ea(m),_a(i,m,Ge(i[m],i))}),i});function Gy(i){var s=i==null?0:i.length,m=vt();return i=s?ln(i,function(N){if(typeof N[1]!="function")throw new mr(v);return[m(N[0]),N[1]]}):[],Pt(function(N){for(var T=-1;++T<s;){var G=i[T];if(gn(G[0],this,N))return gn(G[1],this,N)}})}function Qy(i){return Xd(Fr(i,I))}function X0(i){return function(){return i}}function Wy(i,s){return i==null||i!==i?s:i}var Jy=Tc(),$y=Tc(!0);function Ai(i){return i}function em(i){return pl(typeof i=="function"?i:Fr(i,I))}function Hy(i){return Lc(Fr(i,I))}function Vy(i,s){return Nn(i,Fr(s,I))}var qy=Pt(function(i,s){return function(m){return Ni(m,i,s)}}),Ky=Pt(function(i,s){return function(m){return Ni(i,m,s)}});function tm(i,s,m){var N=Sr(s),T=hl(s,N);m==null&&!(Rn(s)&&(T.length||!N.length))&&(m=s,s=i,i=this,T=hl(s,Sr(s)));var G=!(Rn(m)&&"chain"in m)||!!m.chain,ne=Ts(i);return Hn(T,function(pe){var Me=s[pe];i[pe]=Me,ne&&(i.prototype[pe]=function(){var Re=this.__chain__;if(G||Re){var Oe=i(this.__wrapped__),Ze=Oe.__actions__=Er(this.__actions__);return Ze.push({func:Me,args:arguments,thisArg:i}),Oe.__chain__=Re,Oe}return Me.apply(i,Bi([this.value()],arguments))})}),i}function Xy(){return pn._===this&&(pn._=lc),this}function nm(){}function ev(i){return i=zt(i),Pt(function(s){return xc(s,i)})}var tv=Ac(ln),nv=Ac(Xs),rv=Ac(as);function x1(i){return it(i)?el(ea(i)):Sn(i)}function iv(i){return function(s){return i==null?l:Va(i,s)}}var av=Wu(),ov=Wu(!0);function rm(){return[]}function im(){return!1}function sv(){return{}}function lv(){return""}function fv(){return!0}function cv(i,s){if(i=zt(i),i<1||i>H)return[];var m=B,N=P(i,B);s=vt(s),i-=B;for(var T=ef(N,s);++m<i;)s(m);return T}function uv(i){return Dt(i)?ln(i,ea):ra(i)?[i]:Er(id(un(i)))}function dv(i){var s=++_o;return un(i)+s}var hv=vf(function(i,s){return i+s},0),mv=gr("ceil"),pv=vf(function(i,s){return i/s},1),gv=gr("floor");function wv(i){return i&&i.length?vs(i,Ai,Eo):l}function yv(i,s){return i&&i.length?vs(i,vt(s,2),Eo):l}function vv(i){return ql(i,Ai)}function bv(i,s){return ql(i,vt(s,2))}function Lv(i){return i&&i.length?vs(i,Ai,To):l}function xv(i,s){return i&&i.length?vs(i,vt(s,2),To):l}var _v=vf(function(i,s){return i*s},1),Mv=gr("round"),Nv=vf(function(i,s){return i-s},0);function Cv(i){return i&&i.length?Xl(i,Ai):0}function kv(i,s){return i&&i.length?Xl(i,vt(s,2)):0}return O.after=me,O.ary=Ee,O.assign=zw,O.assignIn=h1,O.assignInWith=Rh,O.assignWith=Rw,O.at=Ow,O.before=Ue,O.bind=Ge,O.bindAll=Yy,O.bindKey=Fe,O.castArray=sw,O.chain=Hc,O.chunk=Uc,O.compact=ad,O.concat=Ii,O.cond=Gy,O.conforms=Qy,O.constant=X0,O.countBy=jh,O.create=Bw,O.curry=rt,O.curryRight=ot,O.debounce=ct,O.defaults=Fw,O.defaultsDeep=Uw,O.defer=zn,O.delay=ke,O.difference=en,O.differenceBy=ar,O.differenceWith=Gn,O.drop=vr,O.dropRight=ii,O.dropRightWhile=Cl,O.dropWhile=Xn,O.fill=Sf,O.filter=Kc,O.flatMap=wd,O.flatMapDeep=Y0,O.flatMapDepth=Ah,O.flatten=Zc,O.flattenDeep=jf,O.flattenDepth=Zr,O.flip=ve,O.flow=Jy,O.flowRight=$y,O.fromPairs=od,O.functions=$w,O.functionsIn=Hw,O.groupBy=yd,O.initial=Yc,O.intersection=sd,O.intersectionBy=Ro,O.intersectionWith=Gc,O.invert=qw,O.invertBy=Kw,O.invokeMap=Dh,O.iteratee=em,O.keyBy=G0,O.keys=Sr,O.keysIn=Ti,O.map=Es,O.mapKeys=ey,O.mapValues=ty,O.matches=Hy,O.matchesProperty=Vy,O.memoize=Se,O.merge=ny,O.mergeWith=m1,O.method=qy,O.methodOf=Ky,O.mixin=tm,O.negate=Qe,O.nthArg=ev,O.omit=ry,O.omitBy=iy,O.once=ht,O.orderBy=Q0,O.over=tv,O.overArgs=yt,O.overEvery=nv,O.overSome=rv,O.partial=wt,O.partialRight=xt,O.partition=Df,O.pick=ay,O.pickBy=p1,O.property=x1,O.propertyOf=iv,O.pull=Qc,O.pullAll=Tf,O.pullAllBy=Pr,O.pullAllWith=Bo,O.pullAt=ta,O.range=av,O.rangeRight=ov,O.rearg=or,O.reject=e,O.remove=Yr,O.rest=nn,O.reverse=Wc,O.sampleSize=f,O.set=sy,O.setWith=ly,O.shuffle=d,O.slice=fd,O.sortBy=D,O.sortedUniq=dd,O.sortedUniqBy=Ss,O.split=Ey,O.spread=Uo,O.tail=_h,O.take=Mh,O.takeRight=hd,O.takeRightWhile=Jc,O.takeWhile=A0,O.tap=F0,O.throttle=J0,O.thru=na,O.toArray=c1,O.toPairs=g1,O.toPairsIn=w1,O.toPath=uv,O.toPlainObject=d1,O.transform=fy,O.unary=aw,O.union=D0,O.unionBy=Nh,O.unionWith=Ch,O.uniq=Is,O.uniqBy=P0,O.uniqWith=kl,O.unset=cy,O.unzip=$c,O.unzipWith=In,O.update=uy,O.updateWith=dy,O.values=iu,O.valuesIn=hy,O.without=z0,O.words=b1,O.wrap=ow,O.xor=kh,O.xorBy=R0,O.xorWith=O0,O.zip=Sh,O.zipObject=Ih,O.zipObjectDeep=B0,O.zipWith=ji,O.entries=g1,O.entriesIn=w1,O.extend=h1,O.extendWith=Rh,tm(O,O),O.add=hv,O.attempt=L1,O.camelCase=wy,O.capitalize=y1,O.ceil=mv,O.clamp=my,O.clone=lw,O.cloneDeep=cw,O.cloneDeepWith=uw,O.cloneWith=fw,O.conformsTo=dw,O.deburr=v1,O.defaultTo=Wy,O.divide=pv,O.endsWith=yy,O.eq=ao,O.escape=vy,O.escapeRegExp=by,O.every=Eh,O.find=Xc,O.findIndex=zo,O.findKey=Zw,O.findLast=Th,O.findLastIndex=If,O.findLastKey=Yw,O.floor=gv,O.forEach=eu,O.forEachRight=Af,O.forIn=Gw,O.forInRight=Qw,O.forOwn=Ww,O.forOwnRight=Jw,O.get=V0,O.gt=hw,O.gte=mw,O.has=Vw,O.hasIn=q0,O.head=Cs,O.identity=Ai,O.includes=tu,O.indexOf=io,O.inRange=py,O.invoke=Xw,O.isArguments=Pf,O.isArray=Dt,O.isArrayBuffer=pw,O.isArrayLike=Ei,O.isArrayLikeObject=er,O.isBoolean=gw,O.isBuffer=Sl,O.isDate=ww,O.isElement=yw,O.isEmpty=vw,O.isEqual=bw,O.isEqualWith=Lw,O.isError=$0,O.isFinite=xw,O.isFunction=Ts,O.isInteger=o1,O.isLength=Ph,O.isMap=s1,O.isMatch=_w,O.isMatchWith=Mw,O.isNaN=Nw,O.isNative=Cw,O.isNil=Sw,O.isNull=kw,O.isNumber=l1,O.isObject=Rn,O.isObjectLike=Qn,O.isPlainObject=vd,O.isRegExp=H0,O.isSafeInteger=Iw,O.isSet=f1,O.isString=zh,O.isSymbol=ra,O.isTypedArray=ru,O.isUndefined=jw,O.isWeakMap=Ew,O.isWeakSet=Tw,O.join=Oo,O.kebabCase=Ly,O.last=Dr,O.lastIndexOf=Ef,O.lowerCase=xy,O.lowerFirst=_y,O.lt=Aw,O.lte=Dw,O.max=wv,O.maxBy=yv,O.mean=vv,O.meanBy=bv,O.min=Lv,O.minBy=xv,O.stubArray=rm,O.stubFalse=im,O.stubObject=sv,O.stubString=lv,O.stubTrue=fv,O.multiply=_v,O.nth=ld,O.noConflict=Xy,O.noop=nm,O.now=X,O.pad=My,O.padEnd=Ny,O.padStart=Cy,O.parseInt=ky,O.random=gy,O.reduce=W0,O.reduceRight=nu,O.repeat=Sy,O.replace=Iy,O.result=oy,O.round=Mv,O.runInContext=Le,O.sample=r,O.size=y,O.snakeCase=jy,O.some=M,O.sortedIndex=cd,O.sortedIndexBy=T0,O.sortedIndexOf=Fo,O.sortedLastIndex=xh,O.sortedLastIndexBy=ud,O.sortedLastIndexOf=ks,O.startCase=Ty,O.startsWith=Ay,O.subtract=Nv,O.sum=Cv,O.sumBy=kv,O.template=Dy,O.times=cv,O.toFinite=As,O.toInteger=zt,O.toLength=u1,O.toLower=Py,O.toNumber=Ta,O.toSafeInteger=Pw,O.toString=un,O.toUpper=zy,O.trim=Ry,O.trimEnd=Oy,O.trimStart=By,O.truncate=Fy,O.unescape=Uy,O.uniqueId=dv,O.upperCase=Zy,O.upperFirst=K0,O.each=eu,O.eachRight=Af,O.first=Cs,tm(O,function(){var i={};return ni(O,function(s,m){Bt.call(O.prototype,m)||(i[m]=s)}),i}(),{chain:!1}),O.VERSION=g,Hn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(i){O[i].placeholder=O}),Hn(["drop","take"],function(i,s){At.prototype[i]=function(m){m=m===l?1:C(zt(m),0);var N=this.__filtered__&&!s?new At(this):this.clone();return N.__filtered__?N.__takeCount__=P(m,N.__takeCount__):N.__views__.push({size:P(m,B),type:i+(N.__dir__<0?"Right":"")}),N},At.prototype[i+"Right"]=function(m){return this.reverse()[i](m).reverse()}}),Hn(["filter","map","takeWhile"],function(i,s){var m=s+1,N=m==Q||m==Ne;At.prototype[i]=function(T){var G=this.clone();return G.__iteratees__.push({iteratee:vt(T,3),type:m}),G.__filtered__=G.__filtered__||N,G}}),Hn(["head","last"],function(i,s){var m="take"+(s?"Right":"");At.prototype[i]=function(){return this[m](1).value()[0]}}),Hn(["initial","tail"],function(i,s){var m="drop"+(s?"":"Right");At.prototype[i]=function(){return this.__filtered__?new At(this):this[m](1)}}),At.prototype.compact=function(){return this.filter(Ai)},At.prototype.find=function(i){return this.filter(i).head()},At.prototype.findLast=function(i){return this.reverse().find(i)},At.prototype.invokeMap=Pt(function(i,s){return typeof i=="function"?new At(this):this.map(function(m){return Ni(m,i,s)})}),At.prototype.reject=function(i){return this.filter(Qe(vt(i)))},At.prototype.slice=function(i,s){i=zt(i);var m=this;return m.__filtered__&&(i>0||s<0)?new At(m):(i<0?m=m.takeRight(-i):i&&(m=m.drop(i)),s!==l&&(s=zt(s),m=s<0?m.dropRight(-s):m.take(s-i)),m)},At.prototype.takeRightWhile=function(i){return this.reverse().takeWhile(i).reverse()},At.prototype.toArray=function(){return this.take(B)},ni(At.prototype,function(i,s){var m=/^(?:filter|find|map|reject)|While$/.test(s),N=/^(?:head|last)$/.test(s),T=O[N?"take"+(s=="last"?"Right":""):s],G=N||/^find/.test(s);T&&(O.prototype[s]=function(){var ne=this.__wrapped__,pe=N?[1]:arguments,Me=ne instanceof At,Re=pe[0],Oe=Me||Dt(ne),Ze=function(Vt){var tn=T.apply(O,Bi([Vt],pe));return N&&tt?tn[0]:tn};Oe&&m&&typeof Re=="function"&&Re.length!=1&&(Me=Oe=!1);var tt=this.__chain__,mt=!!this.__actions__.length,_t=G&&!tt,Ft=Me&&!mt;if(!G&&Oe){ne=Ft?ne:new At(this);var Mt=i.apply(ne,pe);return Mt.__actions__.push({func:na,args:[Ze],thisArg:l}),new Yn(Mt,tt)}return _t&&Ft?i.apply(this,pe):(Mt=this.thru(Ze),_t?N?Mt.value()[0]:Mt.value():Mt)})}),Hn(["pop","push","shift","sort","splice","unshift"],function(i){var s=Gi[i],m=/^(?:push|sort|unshift)$/.test(i)?"tap":"thru",N=/^(?:pop|shift)$/.test(i);O.prototype[i]=function(){var T=arguments;if(N&&!this.__chain__){var G=this.value();return s.apply(Dt(G)?G:[],T)}return this[m](function(ne){return s.apply(Dt(ne)?ne:[],T)})}}),ni(At.prototype,function(i,s){var m=O[s];if(m){var N=m.name+"";Bt.call(ei,N)||(ei[N]=[]),ei[N].push({name:s,func:m})}}),ei[xl(l,V).name]=[{name:"wrapper",func:l}],At.prototype.clone=fl,At.prototype.reverse=Nu,At.prototype.value=cl,O.prototype.at=Vc,O.prototype.chain=js,O.prototype.commit=qc,O.prototype.next=md,O.prototype.plant=U0,O.prototype.reverse=gd,O.prototype.toJSON=O.prototype.valueOf=O.prototype.value=Z0,O.prototype.first=O.prototype.head,yi&&(O.prototype[yi]=pd),O},Yi=Lo();Lr?((Lr.exports=Yi)._=Yi,ur._=Yi):pn._=Yi}).call(b2)}(Md,Md.exports)),Md.exports}var Qh=L2();const oi=zd(Qh),an=oi.debounce(async()=>{try{console.log("Refreshing activities...");const n=parseInt(sessionStorage.getItem("lastActivitiesRefresh")||"0"),c=Date.now();return c-n<5e3?(console.log("Skipping activities refresh - refreshed too recently"),!0):(St.clearAll("activities-"),sessionStorage.setItem("lastActivitiesRefresh",c.toString()),await Wh.getActivities(),console.log("Activities refreshed successfully"),window.eventBus&&window.eventBus.emit("activities-refreshed",{timestamp:c}),!0)}catch(n){return console.error("Failed to refresh activities:",n),!1}},3e3,{leading:!1,trailing:!0}),St={set:(n,c,l=3e5)=>{try{const g={value:c,timestamp:Date.now(),expiry:Date.now()+l};return localStorage.setItem(n,JSON.stringify(g)),!0}catch(g){return console.error(`Error caching ${n}:`,g),!1}},get:n=>{try{const c=localStorage.getItem(n);if(!c)return null;const l=JSON.parse(c);return Date.now()>l.expiry?(localStorage.removeItem(n),null):l.value}catch(c){return console.error(`Error retrieving ${n} from cache:`,c),null}},clear:n=>{localStorage.removeItem(n)},clearAll:n=>{for(let c=0;c<localStorage.length;c++){const l=localStorage.key(c);l&&l.startsWith(n)&&localStorage.removeItem(l)}}},so={login:async n=>{try{if(console.log("authService login received:",n),!n.login&&!n.identifier)throw new Error("Username or email is required");const c={login:(n.login||n.identifier).toLowerCase(),password:n.password};console.log("Sending to API:",c);const l=await fetch(`${Te.API_URL}/users/login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(c)});if(!l.ok){const x=await l.json();throw console.log("Error response:",x),new Error(x.message||"Invalid credentials")}const g=await l.json();console.log("Success response:",g),g.token&&localStorage.setItem("token",g.token),g.user&&localStorage.setItem("user",JSON.stringify(g.user)),St.clearAll("reviews-"),St.clearAll("activities-"),St.clearAll("comments-");try{await an()}catch(x){console.error("Failed to load initial activities:",x)}return g.user}catch(c){throw console.error("Login error details:",c),c}},register:async n=>{try{const c=n.get("username"),l=n.get("email");c&&n.set("username",c.toLowerCase()),l&&n.set("email",l.toLowerCase());const g=await fetch(`${Te.API_URL}/users/register`,{method:"POST",body:n});if(!g.ok){const h=await g.json();throw new Error(h.message||"Registration failed")}const x=await g.json();if(x.token&&localStorage.setItem("token",x.token),x.user&&localStorage.setItem("user",JSON.stringify(x.user)),St.clearAll("reviews-"),St.clearAll("activities-"),x.user&&x.user.role==="admin")try{await an()}catch(h){console.error("Failed to create new user activity:",h)}return x.user}catch(c){throw console.error("Registration error:",c),c}},getCurrentUser:()=>{try{const n=localStorage.getItem("user");if(!n)return null;const c=JSON.parse(n);return c?localStorage.getItem("token")?c:(localStorage.removeItem("user"),null):null}catch(n){return console.error("Get current user error:",n),localStorage.removeItem("user"),localStorage.removeItem("token"),null}},logout:()=>{try{localStorage.removeItem("token"),localStorage.removeItem("user"),St.clearAll("reviews-"),St.clearAll("activities-"),St.clearAll("comments-"),St.clearAll("news-")}catch(n){console.error("Logout error:",n)}},validateSession:async()=>{try{const n=localStorage.getItem("token");if(!n)return!1;const c="session-validation";if(St.get(c))return!0;const g=await fetch(`${Te.API_URL}/users/validate-session`,{headers:{Authorization:`Bearer ${n}`}});if(!g.ok)throw new Error("Invalid session");const x=await g.json();return x.valid&&x.user?(localStorage.setItem("user",JSON.stringify(x.user)),window.dispatchEvent(new Event("userDataUpdated")),St.set(c,!0,10*60*1e3),!0):!1}catch(n){return console.error("Session validation error:",n),localStorage.removeItem("token"),localStorage.removeItem("user"),!1}},changePassword:async(n,c)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");const g=await fetch(`${Te.API_URL}/users/change-password`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({currentPassword:n,newPassword:c})});if(!g.ok){const x=await g.json();throw new Error(x.message||"Failed to change password")}return St.clear("session-validation"),!0}catch(l){throw console.error("Change password error:",l),l}}},Mm={updateProfile:async n=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Not authenticated");console.log("Sending profile update with data:");for(let x of n.entries())console.log(x[0]+": "+(x[1]instanceof File?`File: ${x[1].name}`:x[1]));const l=await fetch(`${Te.API_URL}/users/profile`,{method:"PUT",headers:{Authorization:`Bearer ${c}`},body:n});if(!l.ok){const x=await l.json();throw new Error(x.message||"Failed to update profile")}const g=await l.json();console.log("Received updated user data:",g),localStorage.setItem("user",JSON.stringify(g.user||g)),St.clear(`user-${g._id||g.id}`),window.dispatchEvent(new Event("userDataUpdated")),window.eventBus&&window.eventBus.emit("user-updated",{userId:g._id||g.id,timestamp:Date.now()});try{await an()}catch(x){console.error("Failed to refresh activities after profile update:",x)}return g.user||g}catch(c){throw console.error("Update profile error:",c),c}},getProfileImage:n=>{if(!n)return console.warn("getProfileImage called with null/undefined user"),Te.DEFAULT_AVATAR;if(!n.profileImage)return Te.DEFAULT_AVATAR;const c=new Date().getTime();let l=n.profileImage;if(l.startsWith("http://")||l.startsWith("https://"))return`${l}?t=${c}`;const g=Te.API_URL.endsWith("/api/")?Te.API_URL.slice(0,-5):Te.API_URL.endsWith("/api")?Te.API_URL.slice(0,-4):Te.API_URL;return l=l.replace(/\/uploads\/uploads\//,"/uploads/"),l.startsWith("/api/")&&(l=l.slice(4)),l.startsWith("/")||(l="/"+l),`${g}${l}?t=${c}`},getCurrentUser:()=>{try{const n=localStorage.getItem("user");if(!n)return null;const c=JSON.parse(n);return c?localStorage.getItem("token")?c:(localStorage.removeItem("user"),null):null}catch(n){return console.error("Get current user error:",n),localStorage.removeItem("user"),localStorage.removeItem("token"),null}}};let cm=!1,R1=parseInt(localStorage.getItem("reviewCount")||"0");const fo={clearCache:()=>{if(cm){console.log("Already refreshing review cache, skipping duplicate call");return}cm=!0,console.log("Clearing all review caches...");try{St.clearAll("reviews-"),R1++,localStorage.setItem("reviewCount",R1.toString()),localStorage.setItem("reviewTimestamp",Date.now().toString()),console.log("Review caches cleared successfully")}catch(n){console.error("Error clearing review caches:",n)}finally{cm=!1}},getReviews:async(n={})=>{try{const c=n.filters||{},l=n.forceRefresh||!1,g=new URLSearchParams(c),x=`reviews-${g.toString()||"all"}`;if(l)console.log("Forcing fresh reviews data");else{const S=St.get(x);if(S)return console.log("Using cached reviews data"),S}l&&g.append("_t",Date.now());const h=localStorage.getItem("token"),v=h?{Authorization:`Bearer ${h}`}:{},_=await fetch(`${Te.API_URL}/reviews?${g}`,{headers:v,cache:l?"no-cache":"default"});if(!_.ok){const S=await _.json();throw new Error(S.message||"Failed to fetch reviews")}const k=await _.json();if(k.reviews&&Array.isArray(k.reviews)){const S=so.getCurrentUser();k.reviews.forEach(A=>{if(A.comments&&Array.isArray(A.comments)){const I=E=>{E.forEach(j=>{j.likes&&!Array.isArray(j.likes)&&(j.likes=[]),j.children&&Array.isArray(j.children)&&I(j.children)})};I(A.comments)}})}return St.set(x,k,5*60*1e3),k}catch(c){throw console.error("Get reviews error:",c),c}},addReview:async n=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Not authenticated");console.log("Sending review data:",{entries:Array.from(n.entries()).reduce((_,[k,S])=>(_[k]=S,_),{})});const l=await fetch(`${Te.API_URL}/reviews`,{method:"POST",headers:{Authorization:`Bearer ${c}`},body:n});if(!l.ok){const _=await l.json();throw new Error(_.message||"Failed to create review")}const g=await l.json();console.log("Server response:",g),fo.clearCache();const x=n.get("beefery");try{localStorage.setItem("lastAddedReview",JSON.stringify({beefery:x,id:g._id||g.id,timestamp:Date.now()}))}catch(_){console.warn("Failed to store lastAddedReview in localStorage:",_)}const h=new CustomEvent("content-updated",{detail:{type:"review-added",beefery:x,reviewId:g._id||g.id,timestamp:Date.now()}});window.dispatchEvent(h);const v=new CustomEvent("review-added",{detail:{beefery:x,reviewId:g._id||g.id,timestamp:Date.now()}});window.dispatchEvent(v);try{localStorage.setItem("reviewTimestamp",Date.now().toString())}catch(_){console.warn("Could not trigger storage event:",_)}window.eventBus&&window.eventBus.emit("review-added",{beefery:x,reviewId:g._id||g.id,timestamp:Date.now()});try{const _=parseInt(localStorage.getItem("reviewCount")||"0");localStorage.setItem("reviewCount",(_+1).toString())}catch(_){console.warn("Could not update review count:",_)}return setTimeout(async()=>{try{await an()}catch(_){console.error("Failed to refresh activities:",_)}},500),g}catch(c){throw console.error("Add review error details:",c),c}},likeReview:async n=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Not authenticated");console.log("API: Sending like request for review:",n);const l=await fetch(`${Te.API_URL}/reviews/${n}/like`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!l.ok){const h=await l.json();throw new Error(h.message||"Failed to like review")}const g=await l.json();console.log("API: Received updated review after like:",{reviewId:g._id,likesCount:g.likes?g.likes.length:0,likes:g.likes});const x=`review-${n}`;St.set(x,g),St.clearAll("reviews-");try{await an()}catch(h){console.error("Failed to refresh activities after like:",h)}return window.eventBus&&window.eventBus.emit("review-updated",{reviewId:n,action:"like",timestamp:Date.now()}),g}catch(c){throw console.error("API: Like review error details:",c),c}},addComment:async(n,c)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");const g={};for(let[_,k]of c.entries())g[_]=k instanceof File?`File: ${k.name}`:k;console.log("Sending comment data:",g);const x=await fetch(`${Te.API_URL}/reviews/${n}/comment`,{method:"POST",headers:{Authorization:`Bearer ${l}`},body:c});if(!x.ok){const _=await x.json().catch(()=>({}));throw new Error(_.message||"Failed to add comment")}const h=await x.json();console.log("Received updated review after comment:",h._id);const v=`review-${n}`;St.set(v,h);try{const _=h.comments[h.comments.length-1],k=so.getCurrentUser();await Wh.logCommentActivity(h,_,k),window.eventBus&&window.eventBus.emit("comment-added",{reviewId:n,commentId:_._id,timestamp:Date.now()})}catch(_){console.error("Activity logging error:",_)}return h}catch(l){throw console.error("Add comment error:",l),l}},getComments:async n=>{try{const c=`comments-${n}`,l=St.get(c);if(l)return console.log("Using cached comments data for review",n),l;const g=localStorage.getItem("token"),x=await fetch(`${Te.API_URL}/reviews/${n}/comments`,{headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"}});if(!x.ok){const v=await x.json();throw new Error(v.message||"Failed to fetch comments")}const h=await x.json();return St.set(c,h,5*60*1e3),h}catch(c){throw console.error("Get comments error:",c),c}},deleteComment:async(n,c)=>{try{const l=localStorage.getItem("token"),g=await fetch(`${Te.API_URL}/reviews/${n}/comments/${c}`,{method:"DELETE",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!g.ok){const _=await g.json();throw new Error(_.message||"Failed to delete comment")}const x=await g.json(),h=`review-${n}`,v=`comments-${n}`;return St.set(h,x),St.clear(v),Wh.updateCommentCache(n,c,null),window.eventBus&&window.eventBus.emit("comment-deleted",{reviewId:n,commentId:c,timestamp:Date.now()}),x}catch(l){throw console.error("Delete comment error:",l),l}},likeComment:async(n,c)=>{var l,g;try{const x=localStorage.getItem("token");if(!x)throw new Error("Not authenticated");if(!n||!c)throw new Error("Missing required parameters: reviewId and commentId");if(n===c)throw console.error("reviewId and commentId cannot be the same",{reviewId:n,commentId:c}),new Error("Invalid commentId");console.log(`API: Sending like request for comment ${c} in review ${n}`);const h=await fetch(`${Te.API_URL}/reviews/${n}/comments/${c}/like`,{method:"POST",headers:{Authorization:`Bearer ${x}`,"Content-Type":"application/json"}});if(!h.ok){let S=`Server returned ${h.status}`;try{S=(await h.json()).message||S}catch{try{S=await h.text()||S}catch{}}throw new Error(S)}const v=await h.json(),_=(S,A)=>{if(!S||!Array.isArray(S))return null;for(const I of S){if(I._id===A)return I;if(I.children&&I.children.length>0){const E=_(I.children,A);if(E)return E}}return null},k=_(v.comments,c);k?console.log(`Comment ${c} updated, likes count:`,((g=k.likes)==null?void 0:g.length)||0):console.error("Could not find comment in server response:",{commentId:c,reviewComments:((l=v.comments)==null?void 0:l.length)||0});try{k&&Wh.updateCommentCache(n,c,k);const S=`review-${n}`;St.set(S,v);const A=`comments-${n}`;St.set(A,v.comments);const I=JSON.parse(localStorage.getItem("cachedReviews")||"{}");I[n]&&(I[n]={...I[n],...v,timestamp:Date.now()},localStorage.setItem("cachedReviews",JSON.stringify(I))),St.clearAll("reviews-list-")}catch(S){console.warn("Error updating caches:",S)}try{setTimeout(()=>{an().catch(S=>{console.warn("Non-critical error refreshing activities:",S)})},0)}catch(S){console.warn("Failed to refresh activities after comment like:",S)}return window.eventBus&&window.eventBus.emit("comment-updated",{reviewId:n,commentId:c,type:"like",timestamp:Date.now()}),v}catch(x){throw console.error("Like comment error:",x),x}},updatePinStatus:async(n,c,l="")=>{try{const g=localStorage.getItem("token");if(!g)throw new Error("Not authenticated");const x=await fetch(`${Te.API_URL}/reviews/${n}/pin`,{method:"PUT",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({isPinned:c,label:l})});if(!x.ok){const _=await x.json();throw new Error(_.message||"Failed to update pin status")}const h=await x.json(),v=`review-${n}`;return St.set(v,h),St.clearAll("reviews-"),h}catch(g){throw console.error("Review pin update error:",g),g}}},Zo={getNews:async(n={})=>{try{const c=n.forceRefresh||!1,l="news-data",g=St.get(l);if(!c&&g)return console.log("Using cached news data"),g;console.log("Fetching fresh news data from server");const x=localStorage.getItem("token"),h=x?{Authorization:`Bearer ${x}`}:{},v=c?`${Te.API_URL}/news?_t=${Date.now()}`:`${Te.API_URL}/news`,_=await fetch(v,{headers:h,cache:c?"no-cache":"default"});if(!_.ok){const S=await _.json();throw new Error(S.message||"Failed to fetch news")}const k=await _.json();return St.set(l,k,5*60*1e3),k}catch(c){throw console.error("Get news error:",c),c}},likeNews:async n=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Not authenticated");console.log("Sending like request for news:",n);const l=await fetch(`${Te.API_URL}/news/${n}/like`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!l.ok){const x=await l.json();throw new Error(x.message||"Failed to like news")}const g=await l.json();St.clear("news-data");try{await an()}catch(x){console.error("Failed to refresh activities after news like:",x)}return window.eventBus&&window.eventBus.emit("news-updated",{newsId:n,action:"like",timestamp:Date.now()}),console.log("Like result:",g),g}catch(c){throw console.error("Like news error details:",c),c}},votePoll:async(n,c)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");const g=await fetch(`${Te.API_URL}/news/${n}/poll/vote`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({optionIndex:c})});if(!g.ok){const h=await g.json();throw new Error(h.message||"Failed to vote on poll")}const x=await g.json();St.clear("news-data");try{await an()}catch(h){console.error("Failed to refresh activities after poll vote:",h)}return window.eventBus&&window.eventBus.emit("news-updated",{newsId:n,action:"poll-vote",timestamp:Date.now()}),x}catch(l){throw console.error("Poll vote error:",l),l}},updateTags:async(n,c)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");console.log("Sending direct tag update for news:",n),console.log("Tags being sent:",c);const g=await fetch(`${Te.API_URL}/news/${n}/tags`,{method:"PUT",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({tags:c})});if(!g.ok){const v=await g.json();throw new Error(v.message||"Failed to update tags")}const x=await g.json();console.log("Tags update response:",x),St.clear("news-data");const h=new CustomEvent("content-updated");return window.dispatchEvent(h),x}catch(l){throw console.error("Update tags error:",l),l}},updatePinStatus:async(n,c,l="")=>{try{const g=localStorage.getItem("token");if(!g)throw new Error("Not authenticated");const x=await fetch(`${Te.API_URL}/news/${n}/pin`,{method:"PUT",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({isPinned:c,label:l})});if(!x.ok){const v=await x.json();throw new Error(v.message||"Failed to update pin status")}const h=await x.json();return St.clear("news-data"),h}catch(g){throw console.error("Pin update error:",g),g}},addNews:async n=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Not authenticated");const l=await fetch(`${Te.API_URL}/news`,{method:"POST",headers:{Authorization:`Bearer ${c}`},body:n});if(!l.ok){const x=await l.json();throw new Error(x.message||"Failed to create news item")}const g=await l.json();return St.clear("news-data"),g}catch(c){throw console.error("Add news error:",c),c}},updateNews:async(n,c)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");const g=await fetch(`${Te.API_URL}/news/${n}`,{method:"PUT",headers:{Authorization:`Bearer ${l}`},body:c});if(!g.ok){const h=await g.json();throw new Error(h.message||"Failed to update news item")}const x=await g.json();return St.clear("news-data"),x}catch(l){throw console.error("Update news error:",l),l}},deleteNews:async n=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Not authenticated");const l=await fetch(`${Te.API_URL}/news/${n}`,{method:"DELETE",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!l.ok){const x=await l.json();throw new Error(x.message||"Failed to delete news item")}St.clear("news-data"),console.log("Dispatching content-updated event after news deletion");const g=new CustomEvent("content-updated",{detail:{type:"news-deleted",id:n}});return window.dispatchEvent(g),await l.json()}catch(c){throw console.error("Delete news error:",c),c}},toggleVisibility:async(n,c)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");const g=await fetch(`${Te.API_URL}/news/${n}/visibility`,{method:"PUT",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({visible:c})});if(!g.ok){const h=await g.json();throw new Error(h.message||"Failed to update visibility")}const x=await g.json();return St.clear("news-data"),x}catch(l){throw console.error("Toggle visibility error:",l),l}},addTagsToNews:async n=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Not authenticated");console.log("Adding tags to news item:",n);const l=[{text:"Test Tag 1",color:"green"},{text:"Test Tag 2",color:"blue"},{text:"Beef Madness",color:"purple"}],g=await fetch(`${Te.API_URL}/news/${n}/tags`,{method:"PUT",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({tags:l})});if(!g.ok){const v=await g.text();throw console.error("Server response:",v),new Error(`Failed to update tags: ${g.status}`)}const x=await g.json();console.log("Tags added successfully:",x.tags),St.clear("news-data");const h=new CustomEvent("content-updated");return window.dispatchEvent(h),x}catch(c){throw console.error("Add tags error:",c),c}}},Wh={getActivities:async(n="all",c=1)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");const g=`activities-${n}-${c}`,x=St.get(g);if(x)return console.log("Using cached activities data"),x;const h=await fetch(`${Te.API_URL}/admin/activities?filter=${n}&page=${c}`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!h.ok){const _=await h.json();throw new Error(_.message||"Failed to fetch activities")}const v=await h.json();return St.set(g,v,5*60*1e3),v}catch(l){throw console.error("Get activities error:",l),l}},getUserActivity:async(n,c=20)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Not authenticated");const g=`user-activities-${n}-${c}`,x=St.get(g);if(x)return x;const h=await fetch(`${Te.API_URL}/admin/user/${n}/activities?limit=${c}`,{headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"}});if(!h.ok){const _=await h.json();throw new Error(_.message||"Failed to fetch user activities")}const v=await h.json();return St.set(g,v,5*60*1e3),v}catch(l){throw console.error("Get user activities error:",l),l}},getUnreadActivities:async()=>{try{const n=localStorage.getItem("token");if(!n)return{activities:[],count:0};const c=await fetch(`${Te.API_URL}/admin/activities/unread`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!c.ok){const l=await c.json();throw new Error(l.message||"Failed to fetch unread activities")}return c.json()}catch(n){return console.error("Get unread activities error:",n),{activities:[],count:0}}},logCommentActivity:async(n,c,l)=>{try{const g=localStorage.getItem("token");if(!g)throw new Error("Not authenticated");const x=await fetch(`${Te.API_URL}/admin/activities/comment`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({review:n,comment:c,actor:l})});if(!x.ok)throw new Error("Failed to log comment activity");return St.clearAll("activities-"),x.json()}catch(g){throw console.error("Log comment activity error:",g),g}},logCommentLikeActivity:async(n,c,l)=>{try{const g=localStorage.getItem("token");if(!g)throw new Error("Not authenticated");const x=await fetch(`${Te.API_URL}/admin/activities/comment-like`,{method:"POST",headers:{Authorization:`Bearer ${g}`,"Content-Type":"application/json"},body:JSON.stringify({review:n,comment:c,actor:l})});if(!x.ok)throw new Error("Failed to log comment like activity");return St.clearAll("activities-"),x.json()}catch(g){throw console.error("Log comment like activity error:",g),g}},updateCommentCache:(n,c,l)=>{try{const g=`comment-${n}-${c}`,x=`review-${n}`;l?St.set(g,l):St.clear(g),St.clear(x),window.eventBus&&window.eventBus.emit("comment-updated",{reviewId:n,commentId:c,timestamp:Date.now()})}catch(g){console.error("Error updating comment cache:",g)}}},x2={createReport:async n=>{if(!n.contentType||!n.contentId||!n.reason)throw new Error("Missing required report data");try{const c=localStorage.getItem("token");if(!c)throw new Error("Authentication required to report content");const l=await fetch(`${Te.API_URL}/reports`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify(n)});if(!l.ok){const g=await l.json();throw new Error(g.message||"Failed to submit report")}return await l.json()}catch(c){throw console.error("Error submitting report:",c),c}},getReports:async(n={})=>{try{const c=localStorage.getItem("token");if(!c)throw new Error("Authentication required");const l=new URLSearchParams({filter:n.filter||"pending",...n.type&&n.type!=="all"&&{type:n.type},page:n.page||1,limit:n.limit||20}),g=await fetch(`${Te.API_URL}/admin/reports?${l}`,{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!g.ok){const x=await g.json();throw new Error(x.message||"Failed to fetch reports")}return await g.json()}catch(c){throw console.error("Error fetching reports:",c),c}},getReportCounts:async()=>{try{const n=localStorage.getItem("token");if(!n)throw new Error("Authentication required");const c=await fetch(`${Te.API_URL}/admin/report-counts`,{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"}});if(!c.ok){const l=await c.json();throw new Error(l.message||"Failed to fetch report counts")}return await c.json()}catch(n){throw console.error("Error fetching report counts:",n),n}},handleReportAction:async(n,c)=>{try{const l=localStorage.getItem("token");if(!l)throw new Error("Authentication required");const g=await fetch(`${Te.API_URL}/admin/reports/${n}/action`,{method:"POST",headers:{Authorization:`Bearer ${l}`,"Content-Type":"application/json"},body:JSON.stringify({action:c})});if(!g.ok){const x=await g.json();throw new Error(x.message||"Failed to process report")}return await g.json()}catch(l){throw console.error("Error handling report action:",l),l}}};typeof window<"u"&&window.addEventListener("focus",()=>{console.log("Window focused, checking for updates...");try{const n=parseInt(localStorage.getItem("reviewTimestamp")||"0"),c=Date.now();if(n&&c-n<6e4){console.log("Recent review detected on window focus, triggering refresh"),fo.clearCache();const l=new CustomEvent("content-updated",{detail:{type:"review-added",timestamp:c}});window.dispatchEvent(l)}}catch(n){console.warn("Error checking for reviews on window focus:",n)}});const _2=({onClose:n})=>{const[c,l]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,x]=b.useState(!1),[h,v]=b.useState(!1),[_,k]=b.useState(!1),[S,A]=b.useState(!1),[I,E]=b.useState(""),[j,Z]=b.useState(!1),[J,$]=b.useState({score:0,feedback:""}),V=fe=>{let U=0,Y="";return fe.length<8?Y="Password should be at least 8 characters":U+=1,/[A-Z]/.test(fe)&&(U+=1),/[a-z]/.test(fe)&&(U+=1),/[0-9]/.test(fe)&&(U+=1),/[^A-Za-z0-9]/.test(fe)&&(U+=1),U<3&&!Y&&(Y="Add uppercase, lowercase, numbers or symbols to strengthen"),{score:U,feedback:Y}},re=fe=>{const{name:U,value:Y}=fe.target;l(K=>({...K,[U]:Y})),U==="newPassword"&&$(V(Y))},we=async fe=>{var U,Y;if(fe.preventDefault(),E(""),c.newPassword!==c.confirmPassword){E("New passwords do not match");return}if(J.score<3){E("Please choose a stronger password");return}try{A(!0);const K=await Mm.changePassword({currentPassword:c.currentPassword,newPassword:c.newPassword});Z(!0),l({currentPassword:"",newPassword:"",confirmPassword:""}),setTimeout(()=>n(),2e3)}catch(K){console.error("Password change error:",K),E(((Y=(U=K.response)==null?void 0:U.data)==null?void 0:Y.message)||"Failed to change password. Please try again.")}finally{A(!1)}},xe=()=>{switch(J.score){case 0:return"bg-red-500";case 1:return"bg-red-400";case 2:return"bg-yellow-400";case 3:return"bg-yellow-300";case 4:return"bg-green-400";case 5:return"bg-green-500";default:return"bg-slate-300"}};return o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-md bg-card p-6 relative",children:[o("button",{onClick:n,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-5 w-5 text-muted-foreground"})}),o("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Change Password"}),j?p("div",{className:"text-center py-6",children:[o("div",{className:"w-16 h-16 bg-green-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:o(hu,{className:"h-8 w-8 text-green-500"})}),o("h3",{className:"text-lg font-semibold text-foreground",children:"Password Changed Successfully"}),o("p",{className:"text-muted-foreground mt-2",children:"Your password has been updated."})]}):p("form",{onSubmit:we,className:"space-y-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-white mb-1",children:"Current Password"}),p("div",{className:"relative",children:[o("input",{type:g?"text":"password",name:"currentPassword",value:c.currentPassword,onChange:re,className:"w-full p-2 pr-10 bg-secondary border border-border rounded-lg text-white",required:!0}),o("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-white",onClick:()=>x(!g),children:g?o(Gh,{className:"h-5 w-5"}):o(Rs,{className:"h-5 w-5"})})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-white mb-1",children:"New Password"}),p("div",{className:"relative",children:[o("input",{type:h?"text":"password",name:"newPassword",value:c.newPassword,onChange:re,className:"w-full p-2 pr-10 bg-secondary border border-border rounded-lg text-white",required:!0}),o("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-white",onClick:()=>v(!h),children:h?o(Gh,{className:"h-5 w-5"}):o(Rs,{className:"h-5 w-5"})})]}),c.newPassword&&p("div",{className:"mt-2",children:[o("div",{className:"h-1.5 w-full bg-gray-700 rounded-full overflow-hidden",children:o("div",{className:`h-full ${xe()}`,style:{width:`${J.score/5*100}%`}})}),J.feedback&&o("p",{className:"text-xs mt-1 text-muted-foreground",children:J.feedback})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-white mb-1",children:"Confirm New Password"}),p("div",{className:"relative",children:[o("input",{type:_?"text":"password",name:"confirmPassword",value:c.confirmPassword,onChange:re,className:"w-full p-2 pr-10 bg-secondary border border-border rounded-lg text-white",required:!0}),o("button",{type:"button",className:"absolute right-2 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-white",onClick:()=>k(!_),children:_?o(Gh,{className:"h-5 w-5"}):o(Rs,{className:"h-5 w-5"})})]}),c.newPassword&&c.confirmPassword&&c.newPassword!==c.confirmPassword&&o("p",{className:"text-xs mt-1 text-red-400",children:"Passwords don't match"})]}),I&&o("div",{className:"p-3 bg-red-500/10 border border-red-500/30 rounded-lg",children:o("p",{className:"text-sm text-red-400",children:I})}),p("div",{className:"flex justify-end space-x-3 pt-2",children:[o("button",{type:"button",onClick:n,className:"px-4 py-2 text-white hover:bg-secondary rounded-lg",disabled:S,children:"Cancel"}),o("button",{type:"submit",disabled:S,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50",children:S?"Changing...":"Change Password"})]})]})]})})},M2=({currentUser:n,setCurrentUser:c,onLogin:l,onRegister:g,onLogout:x})=>{const[h,v]=b.useState(!1),[_,k]=b.useState(!1),[S,A]=b.useState(!1),[I,E]=b.useState(!1),[j,Z]=b.useState(Date.now()),[J,$]=b.useState(!1),V=b.useRef(null),re=b.useRef(null);b.useEffect(()=>{const fe=U=>{_&&V.current&&!V.current.contains(U.target)&&re.current&&!re.current.contains(U.target)&&k(!1)};return document.addEventListener("mousedown",fe),document.addEventListener("touchstart",fe),()=>{document.removeEventListener("mousedown",fe),document.removeEventListener("touchstart",fe)}},[_]),b.useEffect(()=>{const fe=()=>{const U=so.getCurrentUser();U&&(c({...U,timestamp:Date.now()}),Z(Date.now()))};return window.addEventListener("userDataUpdated",fe),()=>window.removeEventListener("userDataUpdated",fe)},[c]);const we=()=>p("div",{ref:V,className:"absolute top-full right-0 mt-2 w-48 bg-card rounded-lg shadow-lg py-1 border border-border z-50",children:[o("button",{onClick:()=>{A(!0),k(!1)},className:"block w-full text-left px-4 py-2 text-sm text-white hover:bg-[#333333]",children:"About Us"}),o("button",{onClick:()=>{E(!0),k(!1)},className:"block w-full text-left px-4 py-2 text-sm text-white hover:bg-[#333333]",children:"Contact"}),n&&p(jt,{children:[o("hr",{className:"my-1 border-border"}),o("button",{onClick:()=>{v(!0),k(!1)},className:"block w-full text-left px-4 py-2 text-sm text-white hover:bg-[#333333]",children:"Edit Profile"}),o("button",{onClick:()=>{$(!0),k(!1)},className:"block w-full text-left px-4 py-2 text-sm text-white hover:bg-[#333333]",children:"Change Password"})]})]}),xe=()=>{const[fe,U]=b.useState({displayName:(n==null?void 0:n.displayName)||"",email:(n==null?void 0:n.email)||"",bio:(n==null?void 0:n.bio)||"",profileImage:null}),[Y,K]=b.useState(!(n!=null&&n.profileImage)),[ee,q]=b.useState(Mm.getProfileImage(n)),[R,F]=b.useState(!1),[ie,Q]=b.useState(""),ae=async H=>{H.preventDefault(),F(!0),Q("");try{const ue=new FormData;ue.append("displayName",fe.displayName),ue.append("email",fe.email),ue.append("bio",fe.bio),fe.profileImage&&ue.append("profileImage",fe.profileImage),Y&&(n!=null&&n.profileImage)&&ue.append("removeProfileImage","true"),console.log("Submitting form data:",{displayName:fe.displayName,email:fe.email,bio:fe.bio,hasProfileImage:!!fe.profileImage,isUsingDefault:Y});const W=await Mm.updateProfile(ue);console.log("Received updated user:",W),c({...W,timestamp:Date.now()}),window.dispatchEvent(new Event("userDataUpdated")),v(!1)}catch(ue){console.error("Profile update error:",ue),Q(ue.message||"Failed to update profile")}finally{F(!1)}},Ne=H=>{const ue=H.target.files[0];if(ue){if(ue.size>5*1024*1024){alert("Image size must be less than 5MB");return}U(W=>({...W,profileImage:ue})),q(URL.createObjectURL(ue)),K(!1)}},ge=()=>{U(H=>({...H,profileImage:null})),q("/images/default-avatar.png"),K(!0)};return o("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:p(lt,{className:"w-full max-w-lg bg-card p-6 relative",children:[o("button",{onClick:()=>v(!1),className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full",children:o(Yt,{className:"w-5 h-5"})}),o("h2",{className:"text-2xl font-bold mb-4 text-white",children:"Edit Profile"}),p("form",{onSubmit:ae,className:"space-y-4",children:[p("div",{children:[p("label",{className:"block text-sm font-medium text-white mb-1",children:["Profile Image ",Y&&o("span",{className:"text-muted-foreground",children:"(Default)"})]}),p("div",{className:"flex items-center space-x-4",children:[p("div",{className:"relative group",children:[o("img",{src:ee,alt:"Profile Preview",className:"w-20 h-20 rounded-full object-cover",onError:()=>{q("/images/default-avatar.png"),K(!0)}}),!Y&&o("button",{type:"button",onClick:ge,className:"absolute -top-1 -right-1 p-1 bg-card rounded-full border border-border shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:o(Yt,{className:"w-4 h-4"})})]}),p("div",{className:"space-y-2",children:[p("label",{className:"flex items-center px-4 py-2 bg-secondary text-white rounded-lg cursor-pointer hover:bg-secondary/90 transition-colors",children:[o(l0,{className:"h-5 w-5 mr-2"}),"Upload New Image",o("input",{type:"file",accept:"image/*",onChange:Ne,className:"hidden"})]}),!Y&&o("button",{type:"button",onClick:ge,className:"w-full px-4 py-2 text-muted-foreground hover:bg-secondary rounded-lg text-sm",children:"Remove & Use Default"})]})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-white mb-1",children:"Display Name"}),o("input",{type:"text",value:fe.displayName,onChange:H=>U(ue=>({...ue,displayName:H.target.value})),className:"w-full p-2 bg-secondary border border-border rounded-lg text-white",required:!0})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-white mb-1",children:"Email"}),o("input",{type:"email",value:fe.email,onChange:H=>U(ue=>({...ue,email:H.target.value})),className:"w-full p-2 bg-secondary border border-border rounded-lg text-white",required:!0})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-white mb-1",children:"Bio"}),o("textarea",{value:fe.bio,onChange:H=>U(ue=>({...ue,bio:H.target.value})),rows:3,className:"w-full p-2 bg-secondary border border-border rounded-lg text-white"})]}),p("div",{className:"flex justify-end space-x-3",children:[o("button",{type:"button",onClick:()=>v(!1),className:"px-4 py-2 text-white hover:bg-secondary rounded-lg",children:"Cancel"}),o("button",{type:"submit",disabled:R,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 disabled:opacity-50",children:R?"Saving...":"Save Changes"})]}),ie&&o("div",{className:"text-red-500 text-sm mt-2",children:ie})]})]})})};return p("header",{className:"bg-black sticky top-0 z-40 border-b border-border",children:[o("div",{className:"max-w-2xl mx-auto px-4 py-4",children:p("div",{className:"flex items-center justify-between",children:[p("div",{className:"flex items-center space-x-3",children:[o("img",{src:"/images/logo.png",alt:"North Shore Beefs Logo",className:"h-10 w-10 object-contain"}),o("h1",{className:"text-2xl md:text-3xl font-bold text-white",children:"North Shore Beefs"})]}),p("div",{className:"flex items-center space-x-4",children:[n?p("div",{className:"flex items-center space-x-4",children:[o(w2,{currentUser:n}),p("div",{className:"flex items-center space-x-3",children:[o(la,{user:n,size:"md",showModal:!1,className:"bg-secondary"},j),p("div",{className:"hidden md:block text-right",children:[o("div",{className:"font-medium text-white",children:n.displayName}),o("div",{className:"text-sm text-gray-400",children:n.role==="admin"?"Admin":"Member"})]}),o("button",{onClick:x,className:"px-4 py-2 text-sm bg-[#333333] hover:bg-[#444444] text-white rounded-full transition-colors",children:"Logout"})]})]}):p("div",{className:"flex items-center space-x-2",children:[o("button",{onClick:l,className:"px-4 py-2 text-sm bg-primary hover:bg-primary/90 text-white rounded-full transition-colors",children:"Login"}),o("button",{onClick:g,className:"px-4 py-2 text-sm bg-[#333333] hover:bg-[#444444] text-white rounded-full transition-colors",children:"Register"})]}),p("div",{className:"relative",children:[o("button",{ref:re,onClick:()=>k(!_),className:"p-2 hover:bg-[#333333] rounded-full",children:o(Hv,{className:"w-5 h-5 text-white"})}),_&&o(we,{})]})]})]})}),h&&n&&o(xe,{}),S&&o(y2,{onClose:()=>A(!1)}),I&&o(v2,{onClose:()=>E(!1)}),J&&o(_2,{onClose:()=>$(!1)})]})},N2=({currentScreen:n,onScreenChange:c,currentUser:l})=>{const g=[{id:"recents",icon:o0,label:"Recent"},{id:"top",icon:Bn,label:"Top"},{id:"map",icon:Go,label:"Map"},{id:"news",icon:Bd,label:"News"}];(l==null?void 0:l.role)==="admin"&&g.push({id:"admin",icon:bp,label:"Admin"});const x=h=>{if(n!==h){console.log(`Navigation: changing from ${n} to ${h}`);try{window.scrollTo(0,0);try{c(h),console.log(`Navigation: change to ${h} completed`)}catch(v){console.error("Error in onScreenChange:",v)}}catch(v){console.error("Error during screen change:",v),setTimeout(()=>{confirm("An error occurred while navigating. Would you like to reload the app?")&&window.location.reload()},500)}}};return o("div",{className:"fixed bottom-0 left-0 right-0 bg-black border-t border-border z-50",children:o("div",{className:"max-w-2xl mx-auto px-4",children:o("div",{className:"flex justify-between items-center py-2",children:g.map(({id:h,icon:v,label:_})=>p("div",{className:"flex flex-col items-center",children:[o("div",{onClick:()=>x(h),className:`w-14 h-14 mb-1 rounded-full flex items-center justify-center cursor-pointer ${n===h?"bg-[#333333]":""}`,children:o(v,{className:`w-7 h-7 ${n===h?"text-[#8b0000]":"text-gray-500"}`})}),o("span",{className:n===h?"text-white text-xs":"text-gray-500 text-xs",children:_})]},h))})})})},Np={lastCall:0,minDelay:1e3,async wait(){const c=Date.now()-this.lastCall;c<this.minDelay&&await new Promise(l=>setTimeout(l,this.minDelay-c)),this.lastCall=Date.now()}},Cp=async n=>{try{await Np.wait();const c=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n)}&countrycodes=us&limit=1&addressdetails=1`,{headers:{"User-Agent":"NorthShoreBeefs/1.0"}});if(!c.ok)throw new Error(`Geocoding request failed: ${c.statusText}`);const l=await c.json();return l&&l[0]?{lat:parseFloat(l[0].lat),lng:parseFloat(l[0].lon),display_name:Sp(l[0]),raw:l[0]}:null}catch(c){throw console.error("Geocoding error:",c),new Error(c.message==="Failed to fetch"?"Network error: Please check your internet connection":"Failed to geocode address")}},kp=async n=>{try{if(!n||n.length<3)return[];await Np.wait();const c=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(n)}&countrycodes=us&addressdetails=1&limit=5`,{headers:{"User-Agent":"NorthShoreBeefs/1.0"}});if(!c.ok)throw new Error(`Failed to fetch suggestions: ${c.statusText}`);return(await c.json()).filter(g=>g.address&&g.address.country_code==="us").map(g=>({display_name:Sp(g),lat:parseFloat(g.lat),lng:parseFloat(g.lon),address:g.address,type:g.type,importance:g.importance})).sort((g,x)=>x.importance-g.importance)}catch(c){if(console.error("Error fetching suggestions:",c),c.message==="Failed to fetch")throw new Error("Network error: Please check your internet connection");return[]}},Sp=n=>{const c=n.address,l=[];return c.building&&l.push(c.building),c.house_number&&c.road?l.push(`${c.house_number} ${c.road}`):c.road&&l.push(c.road),(c.suburb||c.neighbourhood)&&l.push(c.suburb||c.neighbourhood),(c.city||c.town||c.village)&&l.push(c.city||c.town||c.village),!l[l.length-1]&&c.county&&l.push(c.county),c.state&&l.push(c.state),c.postcode&&(l.length>0&&c.state===l[l.length-1]?l[l.length-1]+=` ${c.postcode}`:l.push(c.postcode)),l.join(", ")},Ps=(n,c)=>typeof n=="number"&&typeof c=="number"&&!isNaN(n)&&!isNaN(c)&&n>=-90&&n<=90&&c>=-180&&c<=180,Ip=({onLocationSelect:n,initialValue:c="",existingLocations:l=[],pois:g=[]})=>{const[x,h]=b.useState(c),[v,_]=b.useState([]),[k,S]=b.useState(!1),[A,I]=b.useState(!1),[E,j]=b.useState(""),[Z,J]=b.useState(""),$=b.useRef(null),V=b.useRef(null);b.useEffect(()=>{c&&!x&&h(c)},[c]),b.useEffect(()=>{const U=Y=>{V.current&&!V.current.contains(Y.target)&&S(!1)};return document.addEventListener("mousedown",U),()=>document.removeEventListener("mousedown",U)},[]);const re=U=>{const Y=U.target.value;if(h(Y),j(""),$.current&&clearTimeout($.current),Y.length<2){_([]),S(!1);return}I(!0),$.current=setTimeout(async()=>{try{const K=[];if(Array.isArray(g)&&g.length>0){const q=g.filter(R=>R.name.toLowerCase().includes(Y.toLowerCase())||R.location&&R.location.toLowerCase().includes(Y.toLowerCase())).map(R=>{var F,ie;return{display_name:R.location||R.name,source_name:R.name,lat:(F=R.coordinates)==null?void 0:F.lat,lng:(ie=R.coordinates)==null?void 0:ie.lng,source:"poi"}});K.push(...q)}if(Array.isArray(l)&&l.length>0){const q=l.filter(R=>{var F,ie;return((F=R.location)==null?void 0:F.toLowerCase().includes(Y.toLowerCase()))||((ie=R.name)==null?void 0:ie.toLowerCase().includes(Y.toLowerCase()))}).map(R=>{var F,ie;return{display_name:R.location||R.name,source_name:R.name,lat:(F=R.coordinates)==null?void 0:F.lat,lng:(ie=R.coordinates)==null?void 0:ie.lng,source:"existing"}});K.push(...q)}if(K.length<5)try{const q=await kp(Y);Array.isArray(q)&&K.push(...q)}catch(q){console.warn("Failed to get address suggestions:",q)}const ee=K.filter((q,R,F)=>R===F.findIndex(ie=>ie.lat===q.lat&&ie.lng===q.lng));_(ee.slice(0,10)),S(ee.length>0)}catch(K){console.error("Error getting suggestions:",K),_([]),S(!1)}finally{I(!1)}},300)},we=U=>{h(U.display_name),S(!1),n({location:U.display_name,coordinates:{lat:parseFloat(U.lat),lng:parseFloat(U.lng)},source:U.source,sourceName:U.source_name})},xe=async()=>{if(Z.trim()){I(!0),j("");try{const U=await Cp(Z);U&&U.lat&&U.lng?(h(Z),n({location:Z,coordinates:{lat:parseFloat(U.lat),lng:parseFloat(U.lng)},source:"manual"}),J("")):j("Could not find this address. Please try a different format or address.")}catch(U){console.error("Manual address geocoding error:",U),j("Error finding location. Please check the address and try again.")}finally{I(!1)}}};return p("div",{ref:V,className:"space-y-2",children:[p("div",{className:"relative",children:[o("input",{type:"text",value:x,onChange:re,placeholder:"Search for a location...",className:"w-full p-3 pl-10 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",onFocus:()=>x.length>=2&&S(!0),onKeyDown:U=>{U.key==="Enter"&&(U.preventDefault(),v.length>0?we(v[0]):x.trim()&&(J(x),xe()))}}),o(Go,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),x&&o("button",{type:"button",onClick:()=>{h(""),n({location:"",coordinates:{lat:0,lng:0}})},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o(Yt,{className:"h-5 w-5"})})]}),k&&o("div",{className:"absolute z-10 mt-1 w-full max-w-lg bg-card rounded-lg shadow-lg border border-border max-h-60 overflow-y-auto",children:A?p("div",{className:"p-4 text-center",children:[o(Rt,{className:"h-5 w-5 animate-spin mx-auto mb-2"}),o("span",{className:"text-sm text-muted-foreground",children:"Finding locations..."})]}):v.length>0?o("ul",{className:"py-1",children:v.map((U,Y)=>o("li",{children:p("button",{type:"button",onClick:()=>we(U),className:"w-full px-4 py-2 text-left hover:bg-secondary transition-colors flex items-center",children:[p("div",{className:"flex-1",children:[o("div",{className:"font-medium",children:U.display_name}),U.source_name&&U.source_name!==U.display_name&&o("div",{className:"text-xs text-muted-foreground",children:U.source_name})]}),o("div",{children:U.source==="poi"?o("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"POI"}):U.source==="existing"?o("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Saved"}):o("span",{className:"text-xs bg-slate-100 text-slate-800 px-2 py-1 rounded-full",children:"Map"})})]})},Y))}):p("div",{className:"p-4 text-center text-muted-foreground",children:[o("p",{className:"text-sm",children:"No locations found"}),o("p",{className:"text-xs mt-1",children:"Try the manual address entry below"})]})}),E&&o("p",{className:"text-sm text-red-500 mt-1",children:E}),p("div",{className:"mt-3",children:[o("div",{className:"text-xs text-muted-foreground mb-1",children:"Or enter address manually:"}),p("div",{className:"flex space-x-2",children:[o("input",{type:"text",value:Z,onChange:U=>J(U.target.value),placeholder:"Enter full address...",className:"flex-1 p-2 text-sm border border-border rounded-lg",onKeyDown:U=>{U.key==="Enter"&&(U.preventDefault(),xe())}}),o("button",{type:"button",onClick:xe,disabled:A||!Z.trim(),className:"px-3 py-1 text-sm bg-secondary hover:bg-border transition-colors rounded-lg disabled:opacity-50",children:A?o(Rt,{className:"h-4 w-4 animate-spin"}):"Lookup"})]})]})]})},Fn=(n,c="general")=>{if(!n)return console.warn("getMediaUrl called with null/undefined media"),null;let l=null;if(typeof n=="string")l=n;else if(n.url)l=n.url;else if(n.original)l=n.original;else return console.warn("Invalid media object structure:",n),null;if(!l)return console.warn("No valid URL found in media object"),null;if(l.includes(":\\")||l.startsWith("C:/")||l.startsWith("/C:/")){console.warn("Converting absolute file path to web URL:",l);const h=l.split(/[/\\]/).pop();if(h)l=`/uploads/${c}/${h}`,console.log("Converted to:",l);else return console.error("Failed to extract filename from path:",l),null}return l=l.replace(/\/uploads\/uploads\//,"/uploads/"),l=l.replace(/^\/api\//,""),!l.startsWith("/uploads/")&&!l.startsWith("http")&&(l=`/uploads/${c}/${l}`),l=l.replace(/\/\//g,"/"),`${Te.API_URL.endsWith("/api/")?Te.API_URL.slice(0,-5):Te.API_URL.endsWith("/api")?Te.API_URL.slice(0,-4):Te.API_URL}${l}`},C2=(n,c={})=>{if(!n)return{valid:!0,error:null};const{maxImageSize:l=Te.MAX_IMAGE_SIZE,maxVideoSize:g=Te.MAX_VIDEO_SIZE,allowedImageTypes:x=Te.ALLOWED_IMAGE_TYPES||["image/jpeg","image/png","image/gif"],allowedVideoTypes:h=Te.ALLOWED_VIDEO_TYPES||["video/mp4","video/quicktime","video/webm"]}=c;if(![...x,...h].includes(n.type))return{valid:!1,error:"File type not supported. Please upload an image or video."};const _=n.type.startsWith("video/")?g:l;return n.size>_?{valid:!1,error:`File size must be less than ${Math.round(_/1048576)}MB`}:{valid:!0,error:null}},k2=(n,c=null)=>!n&&!c?null:n instanceof File?URL.createObjectURL(n):typeof n=="string"||c?Fn(n||c):n&&(n.url||n.original)?Fn(n):null,um=n=>{n&&n.startsWith("blob:")&&URL.revokeObjectURL(n)},Rf=n=>{if(!n)return!1;const c=n.type||n.mimetype;return c&&c.startsWith("video/")},f0=n=>{if(!n)return!1;const c=n.type||n.mimetype;return c&&c.includes("gif")},S2=async(n,c={})=>{if(f0(n))return console.log("Skipping GIF compression"),n;const l=c.skipThreshold||512*1024;if(n.size<l)return console.log("File size below threshold, skipping compression"),n;const{maxWidth:g=1920,maxHeight:x=1080,quality:h=.8,mimeType:v=n.type}=c;return new Promise((_,k)=>{try{const S=new Image;S.onload=()=>{try{const A=document.createElement("canvas");let I=S.width,E=S.height;if(I>g||E>x){const Z=Math.min(g/I,x/E);I=Math.floor(I*Z),E=Math.floor(E*Z)}A.width=I,A.height=E,A.getContext("2d").drawImage(S,0,0,I,E),A.toBlob(Z=>{if(!Z){console.error("Canvas to Blob conversion failed"),_(n);return}if(Z.size>=n.size){console.log("Compressed file is larger than original, using original"),_(n);return}const J=n.name.replace(/\.[^/.]+$/,"")+"_compressed"+(v==="image/jpeg"?".jpg":v==="image/png"?".png":".webp");try{const $=new File([Z],J,{type:v});$.originalSize=n.size,$.compressedSize=Z.size,$.compressionRatio=(n.size/Z.size).toFixed(2)+"x",console.log(`Image compressed: ${$.compressionRatio} reduction, ${(n.size/1024/1024).toFixed(2)}MB  ${(Z.size/1024/1024).toFixed(2)}MB`),_($)}catch($){console.error("Error creating File object:",$),_(n)}},v,h)}catch(A){console.error("Canvas error during compression:",A),_(n)}},S.onerror=A=>{console.error("Failed to load image for compression:",A),_(n)},S.src=URL.createObjectURL(n)}catch(S){console.error("Image compression error:",S),_(n)}})},I2=async(n,c={})=>{try{const l=c.skipThreshold||1048576;if(n.size<l)return console.log("Video size below threshold, skipping compression"),n;if(!window.MediaRecorder||!MediaRecorder.isTypeSupported("video/webm"))return console.warn("Video compression not supported in this browser"),n;const g=document.createElement("video");g.muted=!0,g.autoplay=!1,g.playsInline=!0,g.srcObject=null;const{videoWidth:x=1280,videoHeight:h=720,videoBitrate:v=25e5,audioBitrate:_=128e3,onProgress:k=()=>{},maxDuration:S=300}=c;return new Promise((A,I)=>{const E=setTimeout(()=>{console.warn("Video compression timed out, returning original file"),j(),A(n)},18e4),j=()=>{clearTimeout(E),g.src&&URL.revokeObjectURL(g.src),Z&&Z.getTracks().forEach(V=>V.stop()),J&&J.stop(),g.pause(),g.src="",g.load()};let Z=null,J=null,$=null;g.src=URL.createObjectURL(n),g.onloadedmetadata=async()=>{try{if(g.duration>S){console.warn(`Video exceeds maximum duration (${S}s), returning original`),j(),A(n);return}const V=document.createElement("canvas");V.width=Math.min(g.videoWidth,x),V.height=Math.min(g.videoHeight,h);const re=V.getContext("2d");if(!re){console.error("Failed to get canvas context"),j(),A(n);return}try{Z=V.captureStream()}catch(q){console.error("Failed to capture canvas stream:",q),j(),A(n);return}try{const R=new(window.AudioContext||window.webkitAudioContext)().createMediaStreamDestination();R.stream.getAudioTracks().length>0&&(J=R.stream.getAudioTracks()[0],Z.addTrack(J))}catch(q){console.warn("Could not add audio track to compressed video:",q)}let we="video/webm";MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?we="video/webm;codecs=vp9":MediaRecorder.isTypeSupported("video/webm;codecs=vp8")&&(we="video/webm;codecs=vp8");const xe={mimeType:we,videoBitsPerSecond:v,audioBitsPerSecond:_};try{$=new MediaRecorder(Z,xe)}catch(q){console.error("Failed to create MediaRecorder:",q),j(),A(n);return}const fe=[];$.ondataavailable=q=>{q.data.size>0&&fe.push(q.data)},$.onerror=q=>{console.error("MediaRecorder error:",q),j(),A(n)},$.onstop=()=>{try{const q=new Blob(fe,{type:we});if(q.size===0||q.size>=n.size){console.log("Compressed video larger than original or empty, using original"),j(),A(n);return}const R=n.name.replace(/\.[^/.]+$/,"")+"_compressed.webm",F=new File([q],R,{type:we});F.originalSize=n.size,F.compressedSize=q.size,F.compressionRatio=(n.size/q.size).toFixed(2)+"x",console.log(`Video compressed: ${F.compressionRatio} reduction, ${(n.size/1024/1024).toFixed(2)}MB  ${(q.size/1024/1024).toFixed(2)}MB`),j(),A(F)}catch(q){console.error("Error creating compressed video file:",q),j(),A(n)}};const U=g.duration*1e3;let Y=0;const K=setInterval(()=>{Y+=1;const q=Math.min(Math.round(Y/U*100),99);k(q)},100);$.start();try{await g.play()}catch(q){console.error("Error playing video:",q),$.stop(),clearInterval(K),j(),A(n);return}const ee=()=>{if(!(!$||$.state==="inactive")){if(g.ended||g.paused){$.stop(),clearInterval(K),k(100);return}try{re.drawImage(g,0,0,V.width,V.height),requestAnimationFrame(ee)}catch(q){console.error("Error drawing video frame:",q),requestAnimationFrame(ee)}}};ee(),setTimeout(()=>{$&&$.state==="recording"&&($.stop(),clearInterval(K),k(100))},g.duration*1e3+2e3)}catch(V){console.error("Video compression error:",V),j(),k(100),A(n)}},g.onerror=V=>{console.error("Error loading video for compression:",V),j(),A(n)}})}catch(l){return console.error("Video compression error:",l),typeof c.onProgress=="function"&&c.onProgress(100),n}},j2=async()=>(console.log("FFmpeg not installed. Using browser-based compression only."),!1),E2=async(n,c={})=>{if(!n)return null;try{const l=c.skipThreshold||1048576;return n.size<l?(console.log("File size below threshold, skipping compression"),n):n.type.startsWith("image/")?await S2(n,c):n.type.startsWith("video/")?await I2(n,c):n}catch(l){return console.error("Media compression error:",l),n}},T2=({review:n=null,reviews:c=[],onClose:l=()=>{},onSubmit:g=()=>{},currentUser:x,isEditing:h=!1,pois:v=[]})=>{const[_,k]=b.useState({title:(n==null?void 0:n.title)||"",introSummary:(n==null?void 0:n.introSummary)||"",beefery:(n==null?void 0:n.beefery)||"",location:(n==null?void 0:n.location)||"",coordinates:(n==null?void 0:n.coordinates)||{lat:0,lng:0},introComments:(n==null?void 0:n.introComments)||"",timeOfBeefing:(n==null?void 0:n.timeOfBeefing)||"",timeInBag:(n==null?void 0:n.timeInBag)||"",priceOfBeef:(n==null?void 0:n.priceOfBeef)||"",freshPinkWarm:(n==null?void 0:n.freshPinkWarm)||"",beefToBun:(n==null?void 0:n.beefToBun)||"",flavorOfBeef:(n==null?void 0:n.flavorOfBeef)||"",sauceToMayo:(n==null?void 0:n.sauceToMayo)||"",cheesePosition:(n==null?void 0:n.cheesePosition)||"bottom",nicelyGriddledBun:(n==null?void 0:n.nicelyGriddledBun)||"",dayOldBeef:(n==null?void 0:n.dayOldBeef)||!1,napkinCount:(n==null?void 0:n.napkinCount)||"",closingSummary:(n==null?void 0:n.closingSummary)||"",rating:(n==null?void 0:n.rating)||7,media:null}),[S,A]=b.useState(""),[I,E]=b.useState(""),[j,Z]=b.useState(!1),[J,$]=b.useState(!1),[V,re]=b.useState(null),[we,xe]=b.useState(!1),[fe,U]=b.useState("suggestions"),[Y,K]=b.useState(!1),[ee,q]=b.useState(0),[R,F]=b.useState(null),[ie,Q]=b.useState(!1),[ae,Ne]=b.useState({introSummary:!1,introComments:!1,closingSummary:!1}),[ge,H]=b.useState(["","","","","","","","",""]),ue=b.useRef(null),W=b.useRef(null),B=b.useRef(null),[ye,de]=b.useState([]),[te,oe]=b.useState(!1),[z,ce]=b.useState([]),[be,he]=b.useState(!1);b.useEffect(()=>{const _e=()=>{xe(window.innerWidth<768)};_e(),window.addEventListener("resize",_e);const Ae=typeof SharedArrayBuffer<"u",Ye=typeof window<"u"&&window.crossOriginIsolated;if(Ae&&Ye)try{j2().then(qe=>{qe?(console.log("FFmpeg loaded successfully"),Q(!0)):console.log("FFmpeg not available, will use basic compression")}).catch(qe=>{console.warn("Failed to preload FFmpeg, will use basic compression:",qe)})}catch(qe){console.warn("Error attempting to load FFmpeg:",qe)}else console.log("Browser does not support SharedArrayBuffer or is not cross-origin isolated"),console.log("Will use basic compression instead of FFmpeg");return()=>{window.removeEventListener("resize",_e)}},[]),b.useEffect(()=>{if(n!=null&&n.media){const _e=k2(null,n.media);A(_e)}re({..._});try{const _e=localStorage.getItem("recentEmojis");_e&&H(JSON.parse(_e))}catch(_e){console.warn("Failed to load recent emojis:",_e)}return()=>{S&&S.startsWith("blob:")&&um(S)}},[]),b.useEffect(()=>{const _e=J&&!oi.isEqual(oi.omit(_,["media"]),oi.omit(V,["media"])),Ae=Ye=>{if(_e)return Ye.preventDefault(),Ye.returnValue="",""};return window.addEventListener("beforeunload",Ae),()=>{window.removeEventListener("beforeunload",Ae)}},[_,V,J]),b.useEffect(()=>{const _e=Ae=>{ue.current&&!ue.current.contains(Ae.target)&&oe(!1),W.current&&!W.current.contains(Ae.target)&&he(!1),Ne({introSummary:!1,introComments:!1,closingSummary:!1})};return document.addEventListener("mousedown",_e),()=>{document.removeEventListener("mousedown",_e)}},[]);const ze=_e=>{if(!_e)return[];const Ae=_e.toLowerCase(),Ye=[];return v.forEach(qe=>{qe.name.toLowerCase().includes(Ae)&&Ye.push({type:"poi",name:qe.name,location:qe.location,coordinates:qe.coordinates})}),c.forEach(qe=>{qe.beefery.toLowerCase().includes(Ae)&&Ye.push({type:"existing",name:qe.beefery,location:qe.location,coordinates:qe.coordinates})}),oi.uniqBy(Ye,qe=>`${qe.name}-${qe.location}`)},He=_e=>{if(!_e||_e.length<2)return[];const Ae=_e.toLowerCase().trim(),Ye=[],qe=at=>{if(!at)return!1;const st=at.toLowerCase();return st.includes(Ae)||st.split(/[\s,]+/).some(bt=>bt.startsWith(Ae))};return v.forEach(at=>{(qe(at.name)||qe(at.location))&&Ye.push({type:"poi",name:at.name,location:at.location||"Unknown location",coordinates:at.coordinates})}),c.forEach(at=>{(qe(at.beefery)||qe(at.location))&&(Ye.some(bt=>{var dn,li,Ra,Wr;return((dn=bt.name)==null?void 0:dn.toLowerCase())===((li=at.beefery)==null?void 0:li.toLowerCase())&&((Ra=bt.location)==null?void 0:Ra.toLowerCase())===((Wr=at.location)==null?void 0:Wr.toLowerCase())})||Ye.push({type:"existing",name:at.beefery,location:at.location||"Unknown location",coordinates:at.coordinates}))}),oi.uniqBy(Ye,at=>`${at.name}-${at.location}`).slice(0,10)},nt=async _e=>{try{const Ae=await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(_e)}&limit=1`,{headers:{Accept:"application/json"}});if(!Ae.ok)throw new Error("Fallback geocoding failed");const Ye=await Ae.json();return Ye&&Ye.length>0&&Ye[0].lat&&Ye[0].lon?(console.log("Fallback geocoding succeeded:",Ye[0]),{lat:parseFloat(Ye[0].lat),lng:parseFloat(Ye[0].lon),display_name:Ye[0].display_name}):null}catch(Ae){return console.error("Fallback geocoding error:",Ae),null}},De=async _e=>{const Ae=_e.target.files[0];if(Ae){K(!0),q(0),E("");try{const Ye=C2(Ae,{maxImageSize:Te.MAX_IMAGE_SIZE,maxVideoSize:Te.MAX_VIDEO_SIZE,allowedImageTypes:Te.ALLOWED_IMAGE_TYPES,allowedVideoTypes:Te.ALLOWED_VIDEO_TYPES});if(!Ye.valid){E(Ye.error),_e.target.value=null;return}S&&S.startsWith("blob:")&&um(S);const qe=URL.createObjectURL(Ae);A(qe);const st={maxWidth:1920,maxHeight:1080,quality:.8,preset:"medium",crf:23,scale:"1280:720",bitrate:"2M",onProgress:Rf(Ae)?li=>{q(li)}:void 0,skipThreshold:512*1024},bt=await E2(Ae,st);URL.revokeObjectURL(qe);const dn=URL.createObjectURL(bt);A(dn),bt.compressionRatio&&F({originalSize:(Ae.size/(1024*1024)).toFixed(2)+"MB",compressedSize:(bt.size/(1024*1024)).toFixed(2)+"MB",ratio:bt.compressionRatio}),k(li=>({...li,media:bt})),$(!0)}catch(Ye){console.error("Media processing error:",Ye),E("Failed to process media. Using original file instead.");const qe=URL.createObjectURL(Ae);A(qe),k(at=>({...at,media:Ae}))}finally{K(!1),q(0),_e.target.value=null}}},$e=()=>{S&&S.startsWith("blob:")&&um(S),A(""),k(_e=>({..._e,media:null})),F(null),$(!0),E("")},We=()=>R?p("div",{className:"mt-2 text-xs text-green-500",children:["Compressed: ",R.originalSize,"  ",R.compressedSize," (",R.ratio," reduction)"]}):null,et=()=>Y?p("div",{className:"flex flex-col items-center justify-center",children:[p("div",{className:"relative h-10 w-10",children:[o(Rt,{className:"h-10 w-10 animate-spin text-primary"}),ee>0&&p("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-bold",children:[ee,"%"]})]}),o("span",{className:"text-xs mt-2 text-muted-foreground",children:ee>0?"Compressing video...":"Processing media..."})]}):null,Ve=(_e,Ae)=>{Ae.stopPropagation(),k(Ye=>({...Ye,beefery:_e.name,location:_e.location||Ye.location,coordinates:_e.coordinates||Ye.coordinates})),$(!0),oe(!1)},It=(_e,Ae)=>{Ae.stopPropagation(),k(Ye=>({...Ye,beefery:_e.name||Ye.beefery,location:_e.location,coordinates:_e.coordinates||Ye.coordinates})),$(!0),he(!1)},Gt=async()=>{if(_.location.trim())try{Z(!0),E(""),console.log("Geocoding address:",_.location);let _e=await Cp(_.location);(!_e||!_e.lat||!_e.lng)&&(console.log("Primary geocoding failed, trying fallback..."),_e=await nt(_.location)),_e&&_e.lat&&_e.lng?(console.log("Geocoded successfully:",_e),k(Ae=>({...Ae,location:_e.display_name||Ae.location,coordinates:{lat:parseFloat(_e.lat),lng:parseFloat(_e.lng)}})),$(!0),console.log("Location found and coordinates added successfully")):(console.error("Geocoding failed - no coordinates returned"),E("Could not find coordinates for this address. Please try a different address or format."))}catch(_e){console.error("Error geocoding address:",_e),E("Error finding location. Please try a different address or format.")}finally{Z(!1)}},ft=(_e,Ae)=>{k(qe=>({...qe,[_e]:qe[_e]+Ae})),$(!0),H(qe=>{const at=qe.filter(bt=>bt!==Ae),st=[Ae,...at].slice(0,9);try{localStorage.setItem("recentEmojis",JSON.stringify(st))}catch(bt){console.warn("Failed to save recent emojis:",bt)}return st});const Ye=document.getElementById(`textarea-${_e}`);Ye&&(Ye.classList.add("emoji-animate"),setTimeout(()=>{Ye.classList.remove("emoji-animate")},300)),Ne(qe=>({...qe,[_e]:!1}))},gt=_e=>{const{name:Ae,value:Ye,type:qe,checked:at}=_e.target;k(st=>({...st,[Ae]:qe==="checkbox"?at:Ye})),$(!0)},$t=_e=>{const Ae=parseFloat(_e.target.value)/100,Ye=parseFloat(Ae.toFixed(2));k(qe=>({...qe,rating:Ye})),$(!0)},qt=async _e=>{if(_e.preventDefault(),!x){E("Please login to submit a review");return}if(!_.beefery.trim()){E("Beefery name is required");return}if(_.rating<0||_.rating>10){E("Rating must be between 0 and 10");return}Z(!0),E("");try{const Ae=new FormData;if(Object.entries(_).forEach(([qe,at])=>{if(!(at===""||at===null||at===void 0))if(qe==="coordinates"){if(at&&typeof at=="object"){const st=parseFloat(at.lat||0),bt=parseFloat(at.lng||0);Ae.append("coordinates[lat]",st.toString()),Ae.append("coordinates[lng]",bt.toString())}}else qe==="media"&&at instanceof File?Ae.append("media",at):Ae.append(qe,at.toString())}),console.log("Submitting review with data:",{beefery:_.beefery,rating:_.rating,hasMedia:!!_.media,mediaSize:_.media?`${(_.media.size/(1024*1024)).toFixed(2)}MB`:"N/A"}),await g(Ae)){re({..._}),$(!1);try{console.log("Triggering notifications for new review");try{localStorage.setItem("lastAddedReview",JSON.stringify({beefery:_.beefery,timestamp:Date.now()}));const st=parseInt(localStorage.getItem("reviewCount")||"0");localStorage.setItem("reviewCount",(st+1).toString()),localStorage.setItem("reviewTimestamp",Date.now().toString())}catch(st){console.warn("Failed to update localStorage after review submission:",st)}const qe=new CustomEvent("content-updated",{detail:{type:"review-added",beefery:_.beefery,timestamp:Date.now()}});window.dispatchEvent(qe);const at=new CustomEvent("review-added");window.dispatchEvent(at),typeof(reviewService==null?void 0:reviewService.clearCache)=="function"&&reviewService.clearCache(),console.log("All notification mechanisms triggered for new review")}catch(qe){console.warn("Error in review notification process:",qe)}l()}}catch(Ae){console.error("Review submission error:",Ae),E(Ae.message||"Failed to submit review")}finally{Z(!1)}},on=()=>{const _e=J&&!oi.isEqual(oi.omit(_,["media"]),oi.omit(V,["media"]));_e&&confirm("You have unsaved changes. Are you sure you want to close this form?")?l():_e||l()},xn=_e=>ae[_e]?o("div",{className:"absolute z-50 bottom-full right-0 mb-2",children:o("div",{className:"bg-card p-2 rounded-lg shadow-lg border border-border max-h-[300px] overflow-y-auto",children:p("div",{className:"grid grid-cols-8 gap-1",children:[ge.map(Ae=>o("button",{type:"button",onClick:()=>ft(_e,Ae),className:"p-1 hover:bg-secondary rounded text-2xl emoji-reaction",children:Ae},Ae)),_e==="introSummary"&&o(jt,{children:["","","","","","","","","","","","","","","",""].map(Ae=>o("button",{type:"button",onClick:()=>ft(_e,Ae),className:"p-1 hover:bg-secondary rounded text-2xl",children:Ae},Ae))}),_e==="introComments"&&o(jt,{children:["","","","","","","","","","","","","","","","","","","",""].map(Ae=>o("button",{type:"button",onClick:()=>ft(_e,Ae),className:"p-1 hover:bg-secondary rounded text-2xl",children:Ae},Ae))}),_e==="closingSummary"&&o(jt,{children:["","","","","","","","","","","","","","","",""].map(Ae=>o("button",{type:"button",onClick:()=>ft(_e,Ae),className:"p-1 hover:bg-secondary rounded text-2xl",children:Ae},Ae))})]})})}):null,jn=({id:_e,name:Ae,value:Ye,placeholder:qe,rows:at=3,icon:st=null,iconPosition:bt="right"})=>p("div",{className:"relative",children:[o("textarea",{id:`textarea-${Ae}`,name:Ae,value:Ye,onChange:gt,rows:at,className:`w-full p-3 ${st&&bt==="left"?"pl-10":""} border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent emoji-font`,placeholder:qe}),st&&bt==="left"&&o("div",{className:"absolute left-3 top-3",children:st}),o("button",{type:"button",onClick:()=>Ne(dn=>({...dn,[Ae]:!dn[Ae]})),className:"absolute right-3 bottom-3 text-muted-foreground hover:text-foreground transition-colors",children:o(Lp,{className:"h-5 w-5"})}),xn(Ae)]}),Dn=()=>{var _e;return p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Add Photo/Video"}),p("div",{className:"flex items-center space-x-4",children:[S?p("div",{className:"relative group",children:[!_.media||_.media instanceof File&&_.media.type.startsWith("image/")||(_e=n==null?void 0:n.media)!=null&&_e.type&&n.media.type.startsWith("image/")?o("img",{src:S,alt:"Preview",className:"w-32 h-32 object-cover rounded-lg"}):o("video",{src:S,className:"w-32 h-32 object-cover rounded-lg",controls:!0}),o("button",{type:"button",onClick:$e,className:"absolute top-1 right-1 p-1 bg-card rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:o(Yt,{className:"h-4 w-4 text-slate-500"})}),We()]}):o("div",{className:"w-32 h-32 border-2 border-dashed border-slate-300 rounded-lg flex items-center justify-center",children:Y?et():o(Od,{className:"h-8 w-8 text-slate-400"})}),p("label",{className:`flex items-center px-4 py-2 bg-secondary text-slate-700 rounded-lg ${Y?"opacity-50 cursor-not-allowed":"cursor-pointer hover:bg-border"} transition-colors`,children:[o(l0,{className:"h-5 w-5 mr-2"}),Y?"Processing...":"Upload Media",o("input",{type:"file",accept:"image/jpeg,image/png,image/gif,video/mp4,video/quicktime,video/webm",onChange:De,className:"hidden",disabled:Y})]})]}),R&&o("p",{className:"block text-green-500 mt-2 text-sm",children:"Your upload was automatically compressed for better performance!"})]})},Zn=()=>p("div",{className:"relative",ref:ue,children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beefery Name"}),p("div",{className:"relative",children:[o("input",{type:"text",name:"beefery",value:_.beefery,onChange:_e=>{gt(_e);const Ae=_e.target.value,Ye=ze(Ae);de(Ye),oe(Ye.length>0)},onFocus:_e=>{const Ae=ze(_e.target.value);de(Ae),oe(Ae.length>0)},className:"w-full p-3 pl-10 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",required:!0,placeholder:"Enter beefery name"}),o(zf,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"})]}),te&&o("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-lg shadow-lg max-h-60 overflow-auto",children:ye.map((_e,Ae)=>o("button",{type:"button",onClick:Ye=>Ve(_e,Ye),className:"w-full text-left px-4 py-3 hover:bg-secondary transition-colors border-b border-border last:border-0",children:p("div",{className:"flex items-start",children:[p("div",{className:"flex-grow",children:[o("div",{className:"font-medium text-foreground",children:_e.name}),_e.location&&p("div",{className:"text-sm text-muted-foreground mt-0.5 flex items-center",children:[o(Go,{className:"h-3 w-3 mr-1 flex-shrink-0"}),_e.location]})]}),_e.type==="poi"?o("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full ml-2",children:"POI"}):o("span",{className:"text-xs bg-secondary text-muted-foreground px-2 py-1 rounded-full ml-2",children:"Existing"})]})},`${_e.name}-${_e.location}-${Ae}`))})]}),Pi=()=>p("div",{className:"relative",ref:W,children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),p("div",{className:"flex",children:[p("div",{className:"relative flex-grow",children:[o("input",{type:"text",name:"location",value:_.location,onChange:_e=>{gt(_e);const Ae=_e.target.value,Ye=He(Ae);ce(Ye),he(Ye.length>0)},onFocus:_e=>{const Ae=He(_e.target.value);ce(Ae),he(Ae.length>0)},onKeyDown:_e=>{_e.key==="Enter"&&(_e.preventDefault(),z.length===0&&Gt())},className:"w-full p-3 pl-10 border border-border rounded-l-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter address or location"}),o(Go,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"})]}),o("button",{type:"button",onClick:Gt,disabled:j||!_.location.trim(),className:"px-3 py-2 bg-secondary text-foreground rounded-r-lg hover:bg-border disabled:opacity-50 flex items-center",title:"Find coordinates for this address",children:j?o(Rt,{className:"h-5 w-5 animate-spin"}):o(hp,{className:"h-5 w-5"})})]}),be&&o("div",{className:"absolute z-10 w-full mt-1 bg-card border border-border rounded-lg shadow-lg max-h-60 overflow-auto",children:z.map((_e,Ae)=>o("button",{type:"button",onClick:Ye=>It(_e,Ye),className:"w-full text-left px-4 py-3 hover:bg-secondary transition-colors border-b border-border last:border-0",children:p("div",{className:"flex items-start",children:[p("div",{className:"flex-grow",children:[o("div",{className:"font-medium text-foreground",children:_e.location}),_e.name&&o("div",{className:"text-sm text-muted-foreground mt-0.5",children:_e.name})]}),_e.type==="poi"?o("span",{className:"text-xs bg-primary/10 text-primary px-2 py-1 rounded-full ml-2",children:"POI"}):o("span",{className:"text-xs bg-secondary text-muted-foreground px-2 py-1 rounded-full ml-2",children:"Existing"})]})},`${_e.name}-${_e.location}-${Ae}`))}),o("p",{className:"text-xs text-muted-foreground mt-1",children:"Type to see suggestions or enter any address and click the arrow button to geocode it."})]}),Je=()=>p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Rating (0.00-10.00)"}),p("div",{className:"flex items-center space-x-4",children:[o("input",{type:"range",min:"0",max:"1000",value:_.rating*100,onChange:$t,className:"flex-1 h-2 bg-border rounded-lg appearance-none cursor-pointer accent-primary"}),o("span",{className:"text-2xl font-bold text-primary min-w-[5rem] text-center",children:_.rating.toFixed(2)})]})]});return o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:o(lt,{className:"w-full max-w-3xl bg-card shadow-xl rounded-2xl max-h-[90vh] overflow-y-auto",children:p("div",{className:"p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[o("h2",{className:"text-2xl font-bold text-foreground",children:h?"Edit Review":"Add Review"}),o("button",{onClick:on,className:"p-2 hover:bg-secondary rounded-full transition-colors","aria-label":"Close form",children:o(Yt,{className:"h-6 w-6 text-slate-500"})})]}),I&&p("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),o("span",{className:"text-sm",children:I})]}),p("form",{ref:B,onSubmit:qt,className:"space-y-6",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Review Title"}),p("div",{className:"relative",children:[o("input",{type:"text",name:"title",value:_.title,onChange:gt,className:"w-full p-3 pl-10 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent emoji-font",placeholder:"Give your review a title..."}),o(Rd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground pointer-events-none"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Introduction Summary"}),jn({id:"introSummary",name:"introSummary",value:_.introSummary,placeholder:"A quick summary of your beef experience...",rows:2})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[Zn(),Pi()]}),Dn(),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Time of Beefing (TOB)"}),o("input",{type:"text",name:"timeOfBeefing",value:_.timeOfBeefing,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., 12:30 PM"})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Time in Bag (TIB)"}),o("input",{type:"text",name:"timeInBag",value:_.timeInBag,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., 5 minutes"})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Price of Beef (POB)"}),o("input",{type:"text",name:"priceOfBeef",value:_.priceOfBeef,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"e.g., $8.99"})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Fresh, Pink and Warm (FPW)"}),o("input",{type:"text",name:"freshPinkWarm",value:_.freshPinkWarm,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Describe the meat's appearance"})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beef to Bun Ratio (B2B)"}),o("input",{type:"text",name:"beefToBun",value:_.beefToBun,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Describe the ratio"})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Flavor of Beef (FOB)"}),o("input",{type:"text",name:"flavorOfBeef",value:_.flavorOfBeef,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Describe the flavor"})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sauce to Mayo (S2M)"}),o("input",{type:"text",name:"sauceToMayo",value:_.sauceToMayo,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Describe the sauce ratio"})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Cheese Position (COTB/COTT)"}),p("div",{className:"flex space-x-4 mt-2",children:[p("label",{className:"flex items-center",children:[o("input",{type:"radio",name:"cheesePosition",value:"bottom",checked:_.cheesePosition==="bottom",onChange:gt,className:"mr-2"}),"Bottom"]}),p("label",{className:"flex items-center",children:[o("input",{type:"radio",name:"cheesePosition",value:"top",checked:_.cheesePosition==="top",onChange:gt,className:"mr-2"}),"Top"]})]})]})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Nicely Griddled Bun (NGB)"}),o("input",{type:"text",name:"nicelyGriddledBun",value:_.nicelyGriddledBun,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Describe the bun's preparation"})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Napkin Count (NC)"}),o("input",{type:"number",name:"napkinCount",value:_.napkinCount,onChange:gt,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",min:"0",placeholder:"Number of napkins used"})]})]}),o("div",{children:p("label",{className:"flex items-center space-x-2",children:[o("input",{type:"checkbox",name:"dayOldBeef",checked:_.dayOldBeef,onChange:gt,className:"rounded border-slate-300 text-primary focus:ring-primary"}),o("span",{className:"text-sm text-slate-700",children:"Day Old Beef (DOB)"})]})}),Je(),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Detailed Review"}),jn({id:"introComments",name:"introComments",value:_.introComments,placeholder:"Share your detailed thoughts about the beef experience...",rows:4})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Closing Summary"}),jn({id:"closingSummary",name:"closingSummary",value:_.closingSummary,placeholder:"Sum up your experience and final thoughts...",rows:2,icon:o(Vv,{className:"h-5 w-5 text-muted-foreground pointer-events-none"}),iconPosition:"left"})]}),p("div",{className:"flex justify-between pt-6 border-t",children:[!1,p("div",{className:"flex space-x-3",children:[o("button",{type:"button",onClick:on,className:"px-4 py-2 text-sm text-slate-700 hover:bg-secondary rounded-lg transition-colors",disabled:j,children:"Cancel"}),o("button",{type:"submit",disabled:j,className:"px-4 py-2 text-sm bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center",children:j?p(jt,{children:[o(Rt,{className:"h-4 w-4 mr-2 animate-spin"}),h?"Updating...":"Submitting..."]}):o(jt,{children:h?"Update Review":"Submit Review"})})]})]})]})]})})})};var dm={exports:{}},hm,O1;function A2(){if(O1)return hm;O1=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hm=n,hm}var mm,B1;function D2(){if(B1)return mm;B1=1;var n=A2();function c(){}function l(){}return l.resetWarningCache=c,mm=function(){function g(v,_,k,S,A,I){if(I!==n){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}g.isRequired=g;function x(){return g}var h={array:g,bigint:g,bool:g,func:g,number:g,object:g,string:g,symbol:g,any:g,arrayOf:x,element:g,elementType:g,instanceOf:x,node:g,objectOf:x,oneOf:x,oneOfType:x,shape:x,exact:x,checkPropTypes:l,resetWarningCache:c};return h.PropTypes=h,h},mm}var F1;function P2(){return F1||(F1=1,dm.exports=D2()()),dm.exports}var z2=P2();const se=zd(z2);function Nm(n){return[].concat(n)}function zm(n){return n.startsWith(":")}function jp(n){return c0(n)&&(n==="*"||n.length>1&&":>~.+*".includes(n.slice(0,1))||Dp(n))}function Ep(n,c){return(c0(c)||typeof c=="number")&&!Ap(n)&&!zm(n)&&!Tp(n)}function Tp(n){return n.startsWith("@media")}function R2(n){return n==="."}function Ap(n){return n==="--"}function c0(n){return n+""===n}function Dp(n){return c0(n)&&(n.startsWith("&")||zm(n))}function t0(n,c=""){return n.filter(Boolean).join(c)}function Pp(n,c){let l=0;if(c.length===0)return l.toString();for(let g=0;g<c.length;g++){const x=c.charCodeAt(g);l=(l<<5)-l+x,l=l&l}return`${n??"cl"}_${l.toString(36)}`}function O2(n,c){return n==="content"?`"${c}"`:c}function B2(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function U1(n,c){return`${n}:${c}`}function F2(n){return n?`.${n}`:""}function U2(n,c){return n?`${n}
${c}`:c}var zp=class Rp{constructor(c,l,g,x){this.sheet=c,this.property=l,this.value=g,this.selector=x,this.property=l,this.value=g,this.joined=U1(l,g);const h=this.selector.preconditions.concat(this.selector.postconditions);this.hash=this.selector.hasConditions?this.selector.scopeClassName:Pp(this.sheet.name,this.joined),this.key=t0([this.joined,h,this.hash])}toString(){let c=Cm(this.selector.preconditions,{right:this.hash});return c=Cm(this.selector.postconditions,{left:c}),`${c} {${Rp.genRule(this.property,this.value)}}`}static genRule(c,l){const g=B2(c);return U1(g,O2(c,l))+";"}};function Cm(n,{left:c="",right:l=""}={}){const g=n.reduce((x,h)=>zm(h)?x+h:Dp(h)?x+h.slice(1):t0([x,h]," "),c);return t0([g,F2(l)]," ")}var Z2=class Jh{constructor(c,l=null,{preconditions:g,postconditions:x}={}){this.sheet=c,this.preconditions=[],this.scopeClassName=null,this.scopeName=null,this.postconditions=[],this.preconditions=g?Nm(g):[],this.postconditions=x?Nm(x):[],this.setScope(l)}setScope(c){return c?(this.scopeClassName||(this.scopeName=c,this.scopeClassName=Pp(this.sheet.name,c+this.sheet.count)),this):this}get hasConditions(){return this.preconditions.length>0||this.postconditions.length>0}addScope(c){return new Jh(this.sheet,c,{preconditions:this.preconditions,postconditions:this.postconditions})}addPrecondition(c){return new Jh(this.sheet,this.scopeClassName,{postconditions:this.postconditions,preconditions:this.preconditions.concat(c)})}addPostcondition(c){return new Jh(this.sheet,this.scopeClassName,{preconditions:this.preconditions,postconditions:this.postconditions.concat(c)})}createRule(c,l){return new zp(this.sheet,c,l,this)}},Y2=class{constructor(n,c){this.name=n,this.rootNode=c,this.storedStyles={},this.storedClasses={},this.style="",this.count=0,this.id=`flairup-${n}`,this.styleTag=this.createStyleTag()}getStyle(){return this.style}append(n){this.style=U2(this.style,n)}apply(){this.count++,this.styleTag&&(this.styleTag.innerHTML=this.style)}isApplied(){return!!this.styleTag}createStyleTag(){if(typeof document>"u"||this.isApplied()||this.rootNode===null)return this.styleTag;const n=document.createElement("style");return n.type="text/css",n.id=this.id,(this.rootNode??document.head).appendChild(n),n}addRule(n){const c=this.storedClasses[n.key];return c0(c)?c:(this.storedClasses[n.key]=n.hash,this.storedStyles[n.hash]=[n.property,n.value],this.append(n.toString()),n.hash)}};function Rm(n,c){for(const l in n)c(l.trim(),n[l])}function Xt(...n){const c=n.reduce((l,g)=>(g instanceof Set?l.push(...g):typeof g=="string"?l.push(g):Array.isArray(g)?l.push(Xt(...g)):typeof g=="object"&&Object.entries(g).forEach(([x,h])=>{h&&l.push(x)}),l),[]);return t0(c," ").trim()}function G2(n,c){const l=new Y2(n,c);return{create:g,getStyle:l.getStyle.bind(l),isApplied:l.isApplied.bind(l)};function g(x){const h={};return Op(l,x,new Z2(l)).forEach(([_,k,S])=>{u0(l,k,S).forEach(A=>{v(_,A)})}),l.apply(),h;function v(_,k){h[_]=h[_]??new Set,h[_].add(k)}}}function Op(n,c,l){const g=[];return Rm(c,(x,h)=>{if(jp(x))return Op(n,h,l.addPrecondition(x)).forEach(v=>g.push(v));g.push([x,c[x],l.addScope(x)])}),g}function u0(n,c,l){const g=new Set;return Rm(c,(x,h)=>{let v=[];if(jp(x))v=u0(n,h,l.addPostcondition(x));else if(R2(x))v=Nm(h);else if(Tp(x))v=W2(n,h,x,l);else if(Ap(x))v=Q2(n,h,l);else if(Ep(x,h)){const _=l.createRule(x,h);n.addRule(_),g.add(_.hash)}return Bp(v,g)}),g}function Bp(n,c){return n.forEach(l=>c.add(l)),c}function Q2(n,c,l){const g=new Set,x=[];if(Rm(c,(h,v)=>{if(Ep(h,v)){x.push(zp.genRule(h,v));return}const _=u0(n,v??{},l);Bp(_,g)}),!l.scopeClassName)return g;if(x.length){const h=x.join(" ");n.append(`${Cm(l.preconditions,{right:l.scopeClassName})} {${h}}`)}return g.add(l.scopeClassName),g}function W2(n,c,l,g){n.append(l+" {");const x=u0(n,c,g);return n.append("}"),x}function Un(){return Un=Object.assign?Object.assign.bind():function(n){for(var c=1;c<arguments.length;c++){var l=arguments[c];for(var g in l)Object.prototype.hasOwnProperty.call(l,g)&&(n[g]=l[g])}return n},Un.apply(this,arguments)}function J2(n,c){n.prototype=Object.create(c.prototype),n.prototype.constructor=n,km(n,c)}function km(n,c){return km=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,x){return g.__proto__=x,g},km(n,c)}function Fp(n,c){if(n==null)return{};var l={},g=Object.keys(n),x,h;for(h=0;h<g.length;h++)x=g[h],!(c.indexOf(x)>=0)&&(l[x]=n[x]);return l}function $2(n,c){if(n){if(typeof n=="string")return Z1(n,c);var l=Object.prototype.toString.call(n).slice(8,-1);if(l==="Object"&&n.constructor&&(l=n.constructor.name),l==="Map"||l==="Set")return Array.from(n);if(l==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return Z1(n,c)}}function Z1(n,c){(c==null||c>n.length)&&(c=n.length);for(var l=0,g=new Array(c);l<c;l++)g[l]=n[l];return g}function H2(n,c){var l=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(l)return(l=l.call(n)).next.bind(l);if(Array.isArray(n)||(l=$2(n))||c){l&&(n=l);var g=0;return function(){return g>=n.length?{done:!0}:{done:!1,value:n[g++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Jt;(function(n){n.hiddenOnSearch="epr-hidden-on-search",n.searchActive="epr-search-active",n.hidden="epr-hidden",n.visible="epr-visible",n.active="epr-active",n.emoji="epr-emoji",n.category="epr-emoji-category",n.label="epr-emoji-category-label",n.categoryContent="epr-emoji-category-content",n.emojiHasVariations="epr-emoji-has-variations",n.scrollBody="epr-body",n.emojiList="epr-emoji-list",n.external="__EmojiPicker__",n.emojiPicker="EmojiPickerReact",n.open="epr-open",n.vertical="epr-vertical",n.horizontal="epr-horizontal",n.variationPicker="epr-emoji-variation-picker",n.darkTheme="epr-dark-theme",n.autoTheme="epr-auto-theme"})(Jt||(Jt={}));function Qr(){for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return c.map(function(g){return"."+g}).join("")}var An=G2("epr",null),$h={display:"none",opacity:"0",pointerEvents:"none",visibility:"hidden",overflow:"hidden"},Om=An.create({hidden:Un({".":Jt.hidden},$h)}),V2=b.memo(function(){return b.createElement("style",{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:An.getStyle()}})}),Ff=An.create({".epr-main":{":has(input:not(:placeholder-shown))":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},hiddenOnSearch:Un({".":Jt.hiddenOnSearch},$h)},":has(input(:placeholder-shown))":{visibleOnSearchOnly:$h}},hiddenOnReactions:{transition:"all 0.5s ease-in-out"},".epr-reactions":{hiddenOnReactions:{height:"0px",width:"0px",opacity:"0",pointerEvents:"none",overflow:"hidden"}},".EmojiPickerReact:not(.epr-search-active)":{categoryBtn:{":hover":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"},"&.epr-active":{opacity:"1",backgroundPositionY:"var(--epr-category-navigation-button-size)"}},visibleOnSearchOnly:Un({".":"epr-visible-on-search-only"},$h)}});function Tl(n,c){var l,g;return{".epr-dark-theme":(l={},l[n]=c,l),".epr-auto-theme":(g={},g[n]={"@media (prefers-color-scheme: dark)":c},g)}}function Up(n,c){var l,g,x=(l=n.customEmojis)!=null?l:[],h=(g=c.customEmojis)!=null?g:[];return n.open===c.open&&n.emojiVersion===c.emojiVersion&&n.reactionsDefaultOpen===c.reactionsDefaultOpen&&n.searchPlaceHolder===c.searchPlaceHolder&&n.searchPlaceholder===c.searchPlaceholder&&n.defaultSkinTone===c.defaultSkinTone&&n.skinTonesDisabled===c.skinTonesDisabled&&n.autoFocusSearch===c.autoFocusSearch&&n.emojiStyle===c.emojiStyle&&n.theme===c.theme&&n.suggestedEmojisMode===c.suggestedEmojisMode&&n.lazyLoadEmojis===c.lazyLoadEmojis&&n.className===c.className&&n.height===c.height&&n.width===c.width&&n.style===c.style&&n.searchDisabled===c.searchDisabled&&n.skinTonePickerLocation===c.skinTonePickerLocation&&x.length===h.length}var q2=["1f44d","2764-fe0f","1f603","1f622","1f64f","1f44e","1f621"],Id;(function(n){n.RECENT="recent",n.FREQUENT="frequent"})(Id||(Id={}));var oa;(function(n){n.NATIVE="native",n.APPLE="apple",n.TWITTER="twitter",n.GOOGLE="google",n.FACEBOOK="facebook"})(oa||(oa={}));var jd;(function(n){n.DARK="dark",n.LIGHT="light",n.AUTO="auto"})(jd||(jd={}));var lo;(function(n){n.NEUTRAL="neutral",n.LIGHT="1f3fb",n.MEDIUM_LIGHT="1f3fc",n.MEDIUM="1f3fd",n.MEDIUM_DARK="1f3fe",n.DARK="1f3ff"})(lo||(lo={}));var Wt;(function(n){n.SUGGESTED="suggested",n.CUSTOM="custom",n.SMILEYS_PEOPLE="smileys_people",n.ANIMALS_NATURE="animals_nature",n.FOOD_DRINK="food_drink",n.TRAVEL_PLACES="travel_places",n.ACTIVITIES="activities",n.OBJECTS="objects",n.SYMBOLS="symbols",n.FLAGS="flags"})(Wt||(Wt={}));var fu;(function(n){n.SEARCH="SEARCH",n.PREVIEW="PREVIEW"})(fu||(fu={}));var Aa,K2=[Wt.SUGGESTED,Wt.CUSTOM,Wt.SMILEYS_PEOPLE,Wt.ANIMALS_NATURE,Wt.FOOD_DRINK,Wt.TRAVEL_PLACES,Wt.ACTIVITIES,Wt.OBJECTS,Wt.SYMBOLS,Wt.FLAGS],X2={name:"Recently Used",category:Wt.SUGGESTED},Zp=(Aa={},Aa[Wt.SUGGESTED]={category:Wt.SUGGESTED,name:"Frequently Used"},Aa[Wt.CUSTOM]={category:Wt.CUSTOM,name:"Custom Emojis"},Aa[Wt.SMILEYS_PEOPLE]={category:Wt.SMILEYS_PEOPLE,name:"Smileys & People"},Aa[Wt.ANIMALS_NATURE]={category:Wt.ANIMALS_NATURE,name:"Animals & Nature"},Aa[Wt.FOOD_DRINK]={category:Wt.FOOD_DRINK,name:"Food & Drink"},Aa[Wt.TRAVEL_PLACES]={category:Wt.TRAVEL_PLACES,name:"Travel & Places"},Aa[Wt.ACTIVITIES]={category:Wt.ACTIVITIES,name:"Activities"},Aa[Wt.OBJECTS]={category:Wt.OBJECTS,name:"Objects"},Aa[Wt.SYMBOLS]={category:Wt.SYMBOLS,name:"Symbols"},Aa[Wt.FLAGS]={category:Wt.FLAGS,name:"Flags"},Aa);function Yp(n){return K2.map(function(c){return Un({},Zp[c],n&&n[c]&&n[c])})}function Bm(n){return n.category}function Gp(n){return n.name}function e4(n,c){var l;n===void 0&&(n=[]),c===void 0&&(c={});var g={};c.suggestionMode===Id.RECENT&&(g[Wt.SUGGESTED]=X2);var x=Yp(g);return(l=n)!=null&&l.length?n.map(function(h){return typeof h=="string"?Y1(h,g[h]):Un({},Y1(h.category,g[h.category]),h)}):x}function Y1(n,c){return c===void 0&&(c={}),Object.assign(Zp[n],c)}var t4="https://cdn.jsdelivr.net/npm/emoji-datasource-apple/img/apple/64/",n4="https://cdn.jsdelivr.net/npm/emoji-datasource-facebook/img/facebook/64/",r4="https://cdn.jsdelivr.net/npm/emoji-datasource-twitter/img/twitter/64/",i4="https://cdn.jsdelivr.net/npm/emoji-datasource-google/img/google/64/";function a4(n){switch(n){case oa.TWITTER:return r4;case oa.GOOGLE:return i4;case oa.FACEBOOK:return n4;case oa.APPLE:default:return t4}}var o4=[],s4=[{n:["grinning","grinning face"],u:"1f600",a:"1.0"},{n:["smiley","smiling face with open mouth"],u:"1f603",a:"0.6"},{n:["smile","smiling face with open mouth and smiling eyes"],u:"1f604",a:"0.6"},{n:["grin","grinning face with smiling eyes"],u:"1f601",a:"0.6"},{n:["laughing","satisfied","smiling face with open mouth and tightly-closed eyes"],u:"1f606",a:"0.6"},{n:["sweat smile","smiling face with open mouth and cold sweat"],u:"1f605",a:"0.6"},{n:["rolling on the floor laughing"],u:"1f923",a:"3.0"},{n:["joy","face with tears of joy"],u:"1f602",a:"0.6"},{n:["slightly smiling face"],u:"1f642",a:"1.0"},{n:["upside-down face","upside down face"],u:"1f643",a:"1.0"},{n:["melting face"],u:"1fae0",a:"14.0"},{n:["wink","winking face"],u:"1f609",a:"0.6"},{n:["blush","smiling face with smiling eyes"],u:"1f60a",a:"0.6"},{n:["innocent","smiling face with halo"],u:"1f607",a:"1.0"},{n:["smiling face with 3 hearts","smiling face with smiling eyes and three hearts"],u:"1f970",a:"11.0"},{n:["heart eyes","smiling face with heart-shaped eyes"],u:"1f60d",a:"0.6"},{n:["star-struck","grinning face with star eyes"],u:"1f929",a:"5.0"},{n:["kissing heart","face throwing a kiss"],u:"1f618",a:"0.6"},{n:["kissing","kissing face"],u:"1f617",a:"1.0"},{n:["relaxed","white smiling face"],u:"263a-fe0f",a:"0.6"},{n:["kissing closed eyes","kissing face with closed eyes"],u:"1f61a",a:"0.6"},{n:["kissing smiling eyes","kissing face with smiling eyes"],u:"1f619",a:"1.0"},{n:["smiling face with tear"],u:"1f972",a:"13.0"},{n:["yum","face savouring delicious food"],u:"1f60b",a:"0.6"},{n:["stuck out tongue","face with stuck-out tongue"],u:"1f61b",a:"1.0"},{n:["stuck out tongue winking eye","face with stuck-out tongue and winking eye"],u:"1f61c",a:"0.6"},{n:["zany face","grinning face with one large and one small eye"],u:"1f92a",a:"5.0"},{n:["stuck out tongue closed eyes","face with stuck-out tongue and tightly-closed eyes"],u:"1f61d",a:"0.6"},{n:["money-mouth face","money mouth face"],u:"1f911",a:"1.0"},{n:["hugging face"],u:"1f917",a:"1.0"},{n:["face with hand over mouth","smiling face with smiling eyes and hand covering mouth"],u:"1f92d",a:"5.0"},{n:["face with open eyes and hand over mouth"],u:"1fae2",a:"14.0"},{n:["face with peeking eye"],u:"1fae3",a:"14.0"},{n:["shushing face","face with finger covering closed lips"],u:"1f92b",a:"5.0"},{n:["thinking face"],u:"1f914",a:"1.0"},{n:["saluting face"],u:"1fae1",a:"14.0"},{n:["zipper-mouth face","zipper mouth face"],u:"1f910",a:"1.0"},{n:["face with raised eyebrow","face with one eyebrow raised"],u:"1f928",a:"5.0"},{n:["neutral face"],u:"1f610",a:"0.7"},{n:["expressionless","expressionless face"],u:"1f611",a:"1.0"},{n:["no mouth","face without mouth"],u:"1f636",a:"1.0"},{n:["dotted line face"],u:"1fae5",a:"14.0"},{n:["face in clouds"],u:"1f636-200d-1f32b-fe0f",a:"13.1"},{n:["smirk","smirking face"],u:"1f60f",a:"0.6"},{n:["unamused","unamused face"],u:"1f612",a:"0.6"},{n:["face with rolling eyes"],u:"1f644",a:"1.0"},{n:["grimacing","grimacing face"],u:"1f62c",a:"1.0"},{n:["face exhaling"],u:"1f62e-200d-1f4a8",a:"13.1"},{n:["lying face"],u:"1f925",a:"3.0"},{n:["relieved","relieved face"],u:"1f60c",a:"0.6"},{n:["pensive","pensive face"],u:"1f614",a:"0.6"},{n:["sleepy","sleepy face"],u:"1f62a",a:"0.6"},{n:["drooling face"],u:"1f924",a:"3.0"},{n:["sleeping","sleeping face"],u:"1f634",a:"1.0"},{n:["mask","face with medical mask"],u:"1f637",a:"0.6"},{n:["face with thermometer"],u:"1f912",a:"1.0"},{n:["face with head-bandage","face with head bandage"],u:"1f915",a:"1.0"},{n:["nauseated face"],u:"1f922",a:"3.0"},{n:["face vomiting","face with open mouth vomiting"],u:"1f92e",a:"5.0"},{n:["sneezing face"],u:"1f927",a:"3.0"},{n:["hot face","overheated face"],u:"1f975",a:"11.0"},{n:["cold face","freezing face"],u:"1f976",a:"11.0"},{n:["woozy face","face with uneven eyes and wavy mouth"],u:"1f974",a:"11.0"},{n:["dizzy face"],u:"1f635",a:"0.6"},{n:["face with spiral eyes"],u:"1f635-200d-1f4ab",a:"13.1"},{n:["exploding head","shocked face with exploding head"],u:"1f92f",a:"5.0"},{n:["face with cowboy hat"],u:"1f920",a:"3.0"},{n:["partying face","face with party horn and party hat"],u:"1f973",a:"11.0"},{n:["disguised face"],u:"1f978",a:"13.0"},{n:["sunglasses","smiling face with sunglasses"],u:"1f60e",a:"1.0"},{n:["nerd face"],u:"1f913",a:"1.0"},{n:["face with monocle"],u:"1f9d0",a:"5.0"},{n:["confused","confused face"],u:"1f615",a:"1.0"},{n:["face with diagonal mouth"],u:"1fae4",a:"14.0"},{n:["worried","worried face"],u:"1f61f",a:"1.0"},{n:["slightly frowning face"],u:"1f641",a:"1.0"},{n:["frowning face","white frowning face"],u:"2639-fe0f",a:"0.7"},{n:["open mouth","face with open mouth"],u:"1f62e",a:"1.0"},{n:["hushed","hushed face"],u:"1f62f",a:"1.0"},{n:["astonished","astonished face"],u:"1f632",a:"0.6"},{n:["flushed","flushed face"],u:"1f633",a:"0.6"},{n:["pleading face","face with pleading eyes"],u:"1f97a",a:"11.0"},{n:["face holding back tears"],u:"1f979",a:"14.0"},{n:["frowning","frowning face with open mouth"],u:"1f626",a:"1.0"},{n:["anguished","anguished face"],u:"1f627",a:"1.0"},{n:["fearful","fearful face"],u:"1f628",a:"0.6"},{n:["cold sweat","face with open mouth and cold sweat"],u:"1f630",a:"0.6"},{n:["disappointed relieved","disappointed but relieved face"],u:"1f625",a:"0.6"},{n:["cry","crying face"],u:"1f622",a:"0.6"},{n:["sob","loudly crying face"],u:"1f62d",a:"0.6"},{n:["scream","face screaming in fear"],u:"1f631",a:"0.6"},{n:["confounded","confounded face"],u:"1f616",a:"0.6"},{n:["persevere","persevering face"],u:"1f623",a:"0.6"},{n:["disappointed","disappointed face"],u:"1f61e",a:"0.6"},{n:["sweat","face with cold sweat"],u:"1f613",a:"0.6"},{n:["weary","weary face"],u:"1f629",a:"0.6"},{n:["tired face"],u:"1f62b",a:"0.6"},{n:["yawning face"],u:"1f971",a:"12.0"},{n:["triumph","face with look of triumph"],u:"1f624",a:"0.6"},{n:["rage","pouting face"],u:"1f621",a:"0.6"},{n:["angry","angry face"],u:"1f620",a:"0.6"},{n:["face with symbols on mouth","serious face with symbols covering mouth"],u:"1f92c",a:"5.0"},{n:["smiling imp","smiling face with horns"],u:"1f608",a:"1.0"},{n:["imp"],u:"1f47f",a:"0.6"},{n:["skull"],u:"1f480",a:"0.6"},{n:["skull and crossbones"],u:"2620-fe0f",a:"1.0"},{n:["poop","shit","hankey","pile of poo"],u:"1f4a9",a:"0.6"},{n:["clown face"],u:"1f921",a:"3.0"},{n:["japanese ogre"],u:"1f479",a:"0.6"},{n:["japanese goblin"],u:"1f47a",a:"0.6"},{n:["ghost"],u:"1f47b",a:"0.6"},{n:["alien","extraterrestrial alien"],u:"1f47d",a:"0.6"},{n:["alien monster","space invader"],u:"1f47e",a:"0.6"},{n:["robot face"],u:"1f916",a:"1.0"},{n:["smiley cat","smiling cat face with open mouth"],u:"1f63a",a:"0.6"},{n:["smile cat","grinning cat face with smiling eyes"],u:"1f638",a:"0.6"},{n:["joy cat","cat face with tears of joy"],u:"1f639",a:"0.6"},{n:["heart eyes cat","smiling cat face with heart-shaped eyes"],u:"1f63b",a:"0.6"},{n:["smirk cat","cat face with wry smile"],u:"1f63c",a:"0.6"},{n:["kissing cat","kissing cat face with closed eyes"],u:"1f63d",a:"0.6"},{n:["scream cat","weary cat face"],u:"1f640",a:"0.6"},{n:["crying cat face"],u:"1f63f",a:"0.6"},{n:["pouting cat","pouting cat face"],u:"1f63e",a:"0.6"},{n:["see no evil","see-no-evil monkey"],u:"1f648",a:"0.6"},{n:["hear no evil","hear-no-evil monkey"],u:"1f649",a:"0.6"},{n:["speak no evil","speak-no-evil monkey"],u:"1f64a",a:"0.6"},{n:["kiss","kiss mark"],u:"1f48b",a:"0.6"},{n:["love letter"],u:"1f48c",a:"0.6"},{n:["cupid","heart with arrow"],u:"1f498",a:"0.6"},{n:["gift heart","heart with ribbon"],u:"1f49d",a:"0.6"},{n:["sparkling heart"],u:"1f496",a:"0.6"},{n:["heartpulse","growing heart"],u:"1f497",a:"0.6"},{n:["heartbeat","beating heart"],u:"1f493",a:"0.6"},{n:["revolving hearts"],u:"1f49e",a:"0.6"},{n:["two hearts"],u:"1f495",a:"0.6"},{n:["heart decoration"],u:"1f49f",a:"0.6"},{n:["heart exclamation","heavy heart exclamation mark ornament"],u:"2763-fe0f",a:"1.0"},{n:["broken heart"],u:"1f494",a:"0.6"},{n:["heart on fire"],u:"2764-fe0f-200d-1f525",a:"13.1"},{n:["mending heart"],u:"2764-fe0f-200d-1fa79",a:"13.1"},{n:["heart","heavy black heart"],u:"2764-fe0f",a:"0.6"},{n:["orange heart"],u:"1f9e1",a:"5.0"},{n:["yellow heart"],u:"1f49b",a:"0.6"},{n:["green heart"],u:"1f49a",a:"0.6"},{n:["blue heart"],u:"1f499",a:"0.6"},{n:["purple heart"],u:"1f49c",a:"0.6"},{n:["brown heart"],u:"1f90e",a:"12.0"},{n:["black heart"],u:"1f5a4",a:"3.0"},{n:["white heart"],u:"1f90d",a:"12.0"},{n:["100","hundred points symbol"],u:"1f4af",a:"0.6"},{n:["anger","anger symbol"],u:"1f4a2",a:"0.6"},{n:["boom","collision","collision symbol"],u:"1f4a5",a:"0.6"},{n:["dizzy","dizzy symbol"],u:"1f4ab",a:"0.6"},{n:["sweat drops","splashing sweat symbol"],u:"1f4a6",a:"0.6"},{n:["dash","dash symbol"],u:"1f4a8",a:"0.6"},{n:["hole"],u:"1f573-fe0f",a:"0.7"},{n:["bomb"],u:"1f4a3",a:"0.6"},{n:["speech balloon"],u:"1f4ac",a:"0.6"},{n:["eye in speech bubble","eye-in-speech-bubble"],u:"1f441-fe0f-200d-1f5e8-fe0f",a:"2.0"},{n:["left speech bubble"],u:"1f5e8-fe0f",a:"2.0"},{n:["right anger bubble"],u:"1f5ef-fe0f",a:"0.7"},{n:["thought balloon"],u:"1f4ad",a:"1.0"},{n:["zzz","sleeping symbol"],u:"1f4a4",a:"0.6"},{n:["wave","waving hand sign"],u:"1f44b",v:["1f44b-1f3fb","1f44b-1f3fc","1f44b-1f3fd","1f44b-1f3fe","1f44b-1f3ff"],a:"0.6"},{n:["raised back of hand"],u:"1f91a",v:["1f91a-1f3fb","1f91a-1f3fc","1f91a-1f3fd","1f91a-1f3fe","1f91a-1f3ff"],a:"3.0"},{n:["hand with fingers splayed","raised hand with fingers splayed"],u:"1f590-fe0f",v:["1f590-1f3fb","1f590-1f3fc","1f590-1f3fd","1f590-1f3fe","1f590-1f3ff"],a:"0.7"},{n:["hand","raised hand"],u:"270b",v:["270b-1f3fb","270b-1f3fc","270b-1f3fd","270b-1f3fe","270b-1f3ff"],a:"0.6"},{n:["spock-hand","raised hand with part between middle and ring fingers"],u:"1f596",v:["1f596-1f3fb","1f596-1f3fc","1f596-1f3fd","1f596-1f3fe","1f596-1f3ff"],a:"1.0"},{n:["rightwards hand"],u:"1faf1",v:["1faf1-1f3fb","1faf1-1f3fc","1faf1-1f3fd","1faf1-1f3fe","1faf1-1f3ff"],a:"14.0"},{n:["leftwards hand"],u:"1faf2",v:["1faf2-1f3fb","1faf2-1f3fc","1faf2-1f3fd","1faf2-1f3fe","1faf2-1f3ff"],a:"14.0"},{n:["palm down hand"],u:"1faf3",v:["1faf3-1f3fb","1faf3-1f3fc","1faf3-1f3fd","1faf3-1f3fe","1faf3-1f3ff"],a:"14.0"},{n:["palm up hand"],u:"1faf4",v:["1faf4-1f3fb","1faf4-1f3fc","1faf4-1f3fd","1faf4-1f3fe","1faf4-1f3ff"],a:"14.0"},{n:["ok hand","ok hand sign"],u:"1f44c",v:["1f44c-1f3fb","1f44c-1f3fc","1f44c-1f3fd","1f44c-1f3fe","1f44c-1f3ff"],a:"0.6"},{n:["pinched fingers"],u:"1f90c",v:["1f90c-1f3fb","1f90c-1f3fc","1f90c-1f3fd","1f90c-1f3fe","1f90c-1f3ff"],a:"13.0"},{n:["pinching hand"],u:"1f90f",v:["1f90f-1f3fb","1f90f-1f3fc","1f90f-1f3fd","1f90f-1f3fe","1f90f-1f3ff"],a:"12.0"},{n:["v","victory hand"],u:"270c-fe0f",v:["270c-1f3fb","270c-1f3fc","270c-1f3fd","270c-1f3fe","270c-1f3ff"],a:"0.6"},{n:["crossed fingers","hand with index and middle fingers crossed"],u:"1f91e",v:["1f91e-1f3fb","1f91e-1f3fc","1f91e-1f3fd","1f91e-1f3fe","1f91e-1f3ff"],a:"3.0"},{n:["hand with index finger and thumb crossed"],u:"1faf0",v:["1faf0-1f3fb","1faf0-1f3fc","1faf0-1f3fd","1faf0-1f3fe","1faf0-1f3ff"],a:"14.0"},{n:["i love you hand sign"],u:"1f91f",v:["1f91f-1f3fb","1f91f-1f3fc","1f91f-1f3fd","1f91f-1f3fe","1f91f-1f3ff"],a:"5.0"},{n:["the horns","sign of the horns"],u:"1f918",v:["1f918-1f3fb","1f918-1f3fc","1f918-1f3fd","1f918-1f3fe","1f918-1f3ff"],a:"1.0"},{n:["call me hand"],u:"1f919",v:["1f919-1f3fb","1f919-1f3fc","1f919-1f3fd","1f919-1f3fe","1f919-1f3ff"],a:"3.0"},{n:["point left","white left pointing backhand index"],u:"1f448",v:["1f448-1f3fb","1f448-1f3fc","1f448-1f3fd","1f448-1f3fe","1f448-1f3ff"],a:"0.6"},{n:["point right","white right pointing backhand index"],u:"1f449",v:["1f449-1f3fb","1f449-1f3fc","1f449-1f3fd","1f449-1f3fe","1f449-1f3ff"],a:"0.6"},{n:["point up 2","white up pointing backhand index"],u:"1f446",v:["1f446-1f3fb","1f446-1f3fc","1f446-1f3fd","1f446-1f3fe","1f446-1f3ff"],a:"0.6"},{n:["middle finger","reversed hand with middle finger extended"],u:"1f595",v:["1f595-1f3fb","1f595-1f3fc","1f595-1f3fd","1f595-1f3fe","1f595-1f3ff"],a:"1.0"},{n:["point down","white down pointing backhand index"],u:"1f447",v:["1f447-1f3fb","1f447-1f3fc","1f447-1f3fd","1f447-1f3fe","1f447-1f3ff"],a:"0.6"},{n:["point up","white up pointing index"],u:"261d-fe0f",v:["261d-1f3fb","261d-1f3fc","261d-1f3fd","261d-1f3fe","261d-1f3ff"],a:"0.6"},{n:["index pointing at the viewer"],u:"1faf5",v:["1faf5-1f3fb","1faf5-1f3fc","1faf5-1f3fd","1faf5-1f3fe","1faf5-1f3ff"],a:"14.0"},{n:["+1","thumbsup","thumbs up sign"],u:"1f44d",v:["1f44d-1f3fb","1f44d-1f3fc","1f44d-1f3fd","1f44d-1f3fe","1f44d-1f3ff"],a:"0.6"},{n:["-1","thumbsdown","thumbs down sign"],u:"1f44e",v:["1f44e-1f3fb","1f44e-1f3fc","1f44e-1f3fd","1f44e-1f3fe","1f44e-1f3ff"],a:"0.6"},{n:["fist","raised fist"],u:"270a",v:["270a-1f3fb","270a-1f3fc","270a-1f3fd","270a-1f3fe","270a-1f3ff"],a:"0.6"},{n:["punch","facepunch","fisted hand sign"],u:"1f44a",v:["1f44a-1f3fb","1f44a-1f3fc","1f44a-1f3fd","1f44a-1f3fe","1f44a-1f3ff"],a:"0.6"},{n:["left-facing fist"],u:"1f91b",v:["1f91b-1f3fb","1f91b-1f3fc","1f91b-1f3fd","1f91b-1f3fe","1f91b-1f3ff"],a:"3.0"},{n:["right-facing fist"],u:"1f91c",v:["1f91c-1f3fb","1f91c-1f3fc","1f91c-1f3fd","1f91c-1f3fe","1f91c-1f3ff"],a:"3.0"},{n:["clap","clapping hands sign"],u:"1f44f",v:["1f44f-1f3fb","1f44f-1f3fc","1f44f-1f3fd","1f44f-1f3fe","1f44f-1f3ff"],a:"0.6"},{n:["raised hands","person raising both hands in celebration"],u:"1f64c",v:["1f64c-1f3fb","1f64c-1f3fc","1f64c-1f3fd","1f64c-1f3fe","1f64c-1f3ff"],a:"0.6"},{n:["heart hands"],u:"1faf6",v:["1faf6-1f3fb","1faf6-1f3fc","1faf6-1f3fd","1faf6-1f3fe","1faf6-1f3ff"],a:"14.0"},{n:["open hands","open hands sign"],u:"1f450",v:["1f450-1f3fb","1f450-1f3fc","1f450-1f3fd","1f450-1f3fe","1f450-1f3ff"],a:"0.6"},{n:["palms up together"],u:"1f932",v:["1f932-1f3fb","1f932-1f3fc","1f932-1f3fd","1f932-1f3fe","1f932-1f3ff"],a:"5.0"},{n:["handshake"],u:"1f91d",v:["1f91d-1f3fb","1f91d-1f3fc","1f91d-1f3fd","1f91d-1f3fe","1f91d-1f3ff","1faf1-1f3fb-200d-1faf2-1f3fc","1faf1-1f3fb-200d-1faf2-1f3fd","1faf1-1f3fb-200d-1faf2-1f3fe","1faf1-1f3fb-200d-1faf2-1f3ff","1faf1-1f3fc-200d-1faf2-1f3fb","1faf1-1f3fc-200d-1faf2-1f3fd","1faf1-1f3fc-200d-1faf2-1f3fe","1faf1-1f3fc-200d-1faf2-1f3ff","1faf1-1f3fd-200d-1faf2-1f3fb","1faf1-1f3fd-200d-1faf2-1f3fc","1faf1-1f3fd-200d-1faf2-1f3fe","1faf1-1f3fd-200d-1faf2-1f3ff","1faf1-1f3fe-200d-1faf2-1f3fb","1faf1-1f3fe-200d-1faf2-1f3fc","1faf1-1f3fe-200d-1faf2-1f3fd","1faf1-1f3fe-200d-1faf2-1f3ff","1faf1-1f3ff-200d-1faf2-1f3fb","1faf1-1f3ff-200d-1faf2-1f3fc","1faf1-1f3ff-200d-1faf2-1f3fd","1faf1-1f3ff-200d-1faf2-1f3fe"],a:"3.0"},{n:["pray","person with folded hands"],u:"1f64f",v:["1f64f-1f3fb","1f64f-1f3fc","1f64f-1f3fd","1f64f-1f3fe","1f64f-1f3ff"],a:"0.6"},{n:["writing hand"],u:"270d-fe0f",v:["270d-1f3fb","270d-1f3fc","270d-1f3fd","270d-1f3fe","270d-1f3ff"],a:"0.7"},{n:["nail care","nail polish"],u:"1f485",v:["1f485-1f3fb","1f485-1f3fc","1f485-1f3fd","1f485-1f3fe","1f485-1f3ff"],a:"0.6"},{n:["selfie"],u:"1f933",v:["1f933-1f3fb","1f933-1f3fc","1f933-1f3fd","1f933-1f3fe","1f933-1f3ff"],a:"3.0"},{n:["muscle","flexed biceps"],u:"1f4aa",v:["1f4aa-1f3fb","1f4aa-1f3fc","1f4aa-1f3fd","1f4aa-1f3fe","1f4aa-1f3ff"],a:"0.6"},{n:["mechanical arm"],u:"1f9be",a:"12.0"},{n:["mechanical leg"],u:"1f9bf",a:"12.0"},{n:["leg"],u:"1f9b5",v:["1f9b5-1f3fb","1f9b5-1f3fc","1f9b5-1f3fd","1f9b5-1f3fe","1f9b5-1f3ff"],a:"11.0"},{n:["foot"],u:"1f9b6",v:["1f9b6-1f3fb","1f9b6-1f3fc","1f9b6-1f3fd","1f9b6-1f3fe","1f9b6-1f3ff"],a:"11.0"},{n:["ear"],u:"1f442",v:["1f442-1f3fb","1f442-1f3fc","1f442-1f3fd","1f442-1f3fe","1f442-1f3ff"],a:"0.6"},{n:["ear with hearing aid"],u:"1f9bb",v:["1f9bb-1f3fb","1f9bb-1f3fc","1f9bb-1f3fd","1f9bb-1f3fe","1f9bb-1f3ff"],a:"12.0"},{n:["nose"],u:"1f443",v:["1f443-1f3fb","1f443-1f3fc","1f443-1f3fd","1f443-1f3fe","1f443-1f3ff"],a:"0.6"},{n:["brain"],u:"1f9e0",a:"5.0"},{n:["anatomical heart"],u:"1fac0",a:"13.0"},{n:["lungs"],u:"1fac1",a:"13.0"},{n:["tooth"],u:"1f9b7",a:"11.0"},{n:["bone"],u:"1f9b4",a:"11.0"},{n:["eyes"],u:"1f440",a:"0.6"},{n:["eye"],u:"1f441-fe0f",a:"0.7"},{n:["tongue"],u:"1f445",a:"0.6"},{n:["lips","mouth"],u:"1f444",a:"0.6"},{n:["biting lip"],u:"1fae6",a:"14.0"},{n:["baby"],u:"1f476",v:["1f476-1f3fb","1f476-1f3fc","1f476-1f3fd","1f476-1f3fe","1f476-1f3ff"],a:"0.6"},{n:["child"],u:"1f9d2",v:["1f9d2-1f3fb","1f9d2-1f3fc","1f9d2-1f3fd","1f9d2-1f3fe","1f9d2-1f3ff"],a:"5.0"},{n:["boy"],u:"1f466",v:["1f466-1f3fb","1f466-1f3fc","1f466-1f3fd","1f466-1f3fe","1f466-1f3ff"],a:"0.6"},{n:["girl"],u:"1f467",v:["1f467-1f3fb","1f467-1f3fc","1f467-1f3fd","1f467-1f3fe","1f467-1f3ff"],a:"0.6"},{n:["adult"],u:"1f9d1",v:["1f9d1-1f3fb","1f9d1-1f3fc","1f9d1-1f3fd","1f9d1-1f3fe","1f9d1-1f3ff"],a:"5.0"},{n:["person with blond hair"],u:"1f471",v:["1f471-1f3fb","1f471-1f3fc","1f471-1f3fd","1f471-1f3fe","1f471-1f3ff"],a:"0.6"},{n:["man"],u:"1f468",v:["1f468-1f3fb","1f468-1f3fc","1f468-1f3fd","1f468-1f3fe","1f468-1f3ff"],a:"0.6"},{n:["bearded person"],u:"1f9d4",v:["1f9d4-1f3fb","1f9d4-1f3fc","1f9d4-1f3fd","1f9d4-1f3fe","1f9d4-1f3ff"],a:"5.0"},{n:["man: beard","man with beard"],u:"1f9d4-200d-2642-fe0f",v:["1f9d4-1f3fb-200d-2642-fe0f","1f9d4-1f3fc-200d-2642-fe0f","1f9d4-1f3fd-200d-2642-fe0f","1f9d4-1f3fe-200d-2642-fe0f","1f9d4-1f3ff-200d-2642-fe0f"],a:"13.1"},{n:["woman: beard","woman with beard"],u:"1f9d4-200d-2640-fe0f",v:["1f9d4-1f3fb-200d-2640-fe0f","1f9d4-1f3fc-200d-2640-fe0f","1f9d4-1f3fd-200d-2640-fe0f","1f9d4-1f3fe-200d-2640-fe0f","1f9d4-1f3ff-200d-2640-fe0f"],a:"13.1"},{n:["man: red hair","red haired man"],u:"1f468-200d-1f9b0",v:["1f468-1f3fb-200d-1f9b0","1f468-1f3fc-200d-1f9b0","1f468-1f3fd-200d-1f9b0","1f468-1f3fe-200d-1f9b0","1f468-1f3ff-200d-1f9b0"],a:"11.0"},{n:["man: curly hair","curly haired man"],u:"1f468-200d-1f9b1",v:["1f468-1f3fb-200d-1f9b1","1f468-1f3fc-200d-1f9b1","1f468-1f3fd-200d-1f9b1","1f468-1f3fe-200d-1f9b1","1f468-1f3ff-200d-1f9b1"],a:"11.0"},{n:["man: white hair","white haired man"],u:"1f468-200d-1f9b3",v:["1f468-1f3fb-200d-1f9b3","1f468-1f3fc-200d-1f9b3","1f468-1f3fd-200d-1f9b3","1f468-1f3fe-200d-1f9b3","1f468-1f3ff-200d-1f9b3"],a:"11.0"},{n:["bald man","man: bald"],u:"1f468-200d-1f9b2",v:["1f468-1f3fb-200d-1f9b2","1f468-1f3fc-200d-1f9b2","1f468-1f3fd-200d-1f9b2","1f468-1f3fe-200d-1f9b2","1f468-1f3ff-200d-1f9b2"],a:"11.0"},{n:["woman"],u:"1f469",v:["1f469-1f3fb","1f469-1f3fc","1f469-1f3fd","1f469-1f3fe","1f469-1f3ff"],a:"0.6"},{n:["woman: red hair","red haired woman"],u:"1f469-200d-1f9b0",v:["1f469-1f3fb-200d-1f9b0","1f469-1f3fc-200d-1f9b0","1f469-1f3fd-200d-1f9b0","1f469-1f3fe-200d-1f9b0","1f469-1f3ff-200d-1f9b0"],a:"11.0"},{n:["person: red hair","red haired person"],u:"1f9d1-200d-1f9b0",v:["1f9d1-1f3fb-200d-1f9b0","1f9d1-1f3fc-200d-1f9b0","1f9d1-1f3fd-200d-1f9b0","1f9d1-1f3fe-200d-1f9b0","1f9d1-1f3ff-200d-1f9b0"],a:"12.1"},{n:["woman: curly hair","curly haired woman"],u:"1f469-200d-1f9b1",v:["1f469-1f3fb-200d-1f9b1","1f469-1f3fc-200d-1f9b1","1f469-1f3fd-200d-1f9b1","1f469-1f3fe-200d-1f9b1","1f469-1f3ff-200d-1f9b1"],a:"11.0"},{n:["person: curly hair","curly haired person"],u:"1f9d1-200d-1f9b1",v:["1f9d1-1f3fb-200d-1f9b1","1f9d1-1f3fc-200d-1f9b1","1f9d1-1f3fd-200d-1f9b1","1f9d1-1f3fe-200d-1f9b1","1f9d1-1f3ff-200d-1f9b1"],a:"12.1"},{n:["woman: white hair","white haired woman"],u:"1f469-200d-1f9b3",v:["1f469-1f3fb-200d-1f9b3","1f469-1f3fc-200d-1f9b3","1f469-1f3fd-200d-1f9b3","1f469-1f3fe-200d-1f9b3","1f469-1f3ff-200d-1f9b3"],a:"11.0"},{n:["person: white hair","white haired person"],u:"1f9d1-200d-1f9b3",v:["1f9d1-1f3fb-200d-1f9b3","1f9d1-1f3fc-200d-1f9b3","1f9d1-1f3fd-200d-1f9b3","1f9d1-1f3fe-200d-1f9b3","1f9d1-1f3ff-200d-1f9b3"],a:"12.1"},{n:["bald woman","woman: bald"],u:"1f469-200d-1f9b2",v:["1f469-1f3fb-200d-1f9b2","1f469-1f3fc-200d-1f9b2","1f469-1f3fd-200d-1f9b2","1f469-1f3fe-200d-1f9b2","1f469-1f3ff-200d-1f9b2"],a:"11.0"},{n:["bald person","person: bald"],u:"1f9d1-200d-1f9b2",v:["1f9d1-1f3fb-200d-1f9b2","1f9d1-1f3fc-200d-1f9b2","1f9d1-1f3fd-200d-1f9b2","1f9d1-1f3fe-200d-1f9b2","1f9d1-1f3ff-200d-1f9b2"],a:"12.1"},{n:["woman: blond hair","blond-haired-woman"],u:"1f471-200d-2640-fe0f",v:["1f471-1f3fb-200d-2640-fe0f","1f471-1f3fc-200d-2640-fe0f","1f471-1f3fd-200d-2640-fe0f","1f471-1f3fe-200d-2640-fe0f","1f471-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man: blond hair","blond-haired-man"],u:"1f471-200d-2642-fe0f",v:["1f471-1f3fb-200d-2642-fe0f","1f471-1f3fc-200d-2642-fe0f","1f471-1f3fd-200d-2642-fe0f","1f471-1f3fe-200d-2642-fe0f","1f471-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["older adult"],u:"1f9d3",v:["1f9d3-1f3fb","1f9d3-1f3fc","1f9d3-1f3fd","1f9d3-1f3fe","1f9d3-1f3ff"],a:"5.0"},{n:["older man"],u:"1f474",v:["1f474-1f3fb","1f474-1f3fc","1f474-1f3fd","1f474-1f3fe","1f474-1f3ff"],a:"0.6"},{n:["older woman"],u:"1f475",v:["1f475-1f3fb","1f475-1f3fc","1f475-1f3fd","1f475-1f3fe","1f475-1f3ff"],a:"0.6"},{n:["person frowning"],u:"1f64d",v:["1f64d-1f3fb","1f64d-1f3fc","1f64d-1f3fd","1f64d-1f3fe","1f64d-1f3ff"],a:"0.6"},{n:["man frowning","man-frowning"],u:"1f64d-200d-2642-fe0f",v:["1f64d-1f3fb-200d-2642-fe0f","1f64d-1f3fc-200d-2642-fe0f","1f64d-1f3fd-200d-2642-fe0f","1f64d-1f3fe-200d-2642-fe0f","1f64d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman frowning","woman-frowning"],u:"1f64d-200d-2640-fe0f",v:["1f64d-1f3fb-200d-2640-fe0f","1f64d-1f3fc-200d-2640-fe0f","1f64d-1f3fd-200d-2640-fe0f","1f64d-1f3fe-200d-2640-fe0f","1f64d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with pouting face"],u:"1f64e",v:["1f64e-1f3fb","1f64e-1f3fc","1f64e-1f3fd","1f64e-1f3fe","1f64e-1f3ff"],a:"0.6"},{n:["man pouting","man-pouting"],u:"1f64e-200d-2642-fe0f",v:["1f64e-1f3fb-200d-2642-fe0f","1f64e-1f3fc-200d-2642-fe0f","1f64e-1f3fd-200d-2642-fe0f","1f64e-1f3fe-200d-2642-fe0f","1f64e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman pouting","woman-pouting"],u:"1f64e-200d-2640-fe0f",v:["1f64e-1f3fb-200d-2640-fe0f","1f64e-1f3fc-200d-2640-fe0f","1f64e-1f3fd-200d-2640-fe0f","1f64e-1f3fe-200d-2640-fe0f","1f64e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["no good","face with no good gesture"],u:"1f645",v:["1f645-1f3fb","1f645-1f3fc","1f645-1f3fd","1f645-1f3fe","1f645-1f3ff"],a:"0.6"},{n:["man gesturing no","man-gesturing-no"],u:"1f645-200d-2642-fe0f",v:["1f645-1f3fb-200d-2642-fe0f","1f645-1f3fc-200d-2642-fe0f","1f645-1f3fd-200d-2642-fe0f","1f645-1f3fe-200d-2642-fe0f","1f645-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing no","woman-gesturing-no"],u:"1f645-200d-2640-fe0f",v:["1f645-1f3fb-200d-2640-fe0f","1f645-1f3fc-200d-2640-fe0f","1f645-1f3fd-200d-2640-fe0f","1f645-1f3fe-200d-2640-fe0f","1f645-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ok woman","face with ok gesture"],u:"1f646",v:["1f646-1f3fb","1f646-1f3fc","1f646-1f3fd","1f646-1f3fe","1f646-1f3ff"],a:"0.6"},{n:["man gesturing ok","man-gesturing-ok"],u:"1f646-200d-2642-fe0f",v:["1f646-1f3fb-200d-2642-fe0f","1f646-1f3fc-200d-2642-fe0f","1f646-1f3fd-200d-2642-fe0f","1f646-1f3fe-200d-2642-fe0f","1f646-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman gesturing ok","woman-gesturing-ok"],u:"1f646-200d-2640-fe0f",v:["1f646-1f3fb-200d-2640-fe0f","1f646-1f3fc-200d-2640-fe0f","1f646-1f3fd-200d-2640-fe0f","1f646-1f3fe-200d-2640-fe0f","1f646-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["information desk person"],u:"1f481",v:["1f481-1f3fb","1f481-1f3fc","1f481-1f3fd","1f481-1f3fe","1f481-1f3ff"],a:"0.6"},{n:["man tipping hand","man-tipping-hand"],u:"1f481-200d-2642-fe0f",v:["1f481-1f3fb-200d-2642-fe0f","1f481-1f3fc-200d-2642-fe0f","1f481-1f3fd-200d-2642-fe0f","1f481-1f3fe-200d-2642-fe0f","1f481-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman tipping hand","woman-tipping-hand"],u:"1f481-200d-2640-fe0f",v:["1f481-1f3fb-200d-2640-fe0f","1f481-1f3fc-200d-2640-fe0f","1f481-1f3fd-200d-2640-fe0f","1f481-1f3fe-200d-2640-fe0f","1f481-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["raising hand","happy person raising one hand"],u:"1f64b",v:["1f64b-1f3fb","1f64b-1f3fc","1f64b-1f3fd","1f64b-1f3fe","1f64b-1f3ff"],a:"0.6"},{n:["man raising hand","man-raising-hand"],u:"1f64b-200d-2642-fe0f",v:["1f64b-1f3fb-200d-2642-fe0f","1f64b-1f3fc-200d-2642-fe0f","1f64b-1f3fd-200d-2642-fe0f","1f64b-1f3fe-200d-2642-fe0f","1f64b-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman raising hand","woman-raising-hand"],u:"1f64b-200d-2640-fe0f",v:["1f64b-1f3fb-200d-2640-fe0f","1f64b-1f3fc-200d-2640-fe0f","1f64b-1f3fd-200d-2640-fe0f","1f64b-1f3fe-200d-2640-fe0f","1f64b-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["deaf person"],u:"1f9cf",v:["1f9cf-1f3fb","1f9cf-1f3fc","1f9cf-1f3fd","1f9cf-1f3fe","1f9cf-1f3ff"],a:"12.0"},{n:["deaf man"],u:"1f9cf-200d-2642-fe0f",v:["1f9cf-1f3fb-200d-2642-fe0f","1f9cf-1f3fc-200d-2642-fe0f","1f9cf-1f3fd-200d-2642-fe0f","1f9cf-1f3fe-200d-2642-fe0f","1f9cf-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["deaf woman"],u:"1f9cf-200d-2640-fe0f",v:["1f9cf-1f3fb-200d-2640-fe0f","1f9cf-1f3fc-200d-2640-fe0f","1f9cf-1f3fd-200d-2640-fe0f","1f9cf-1f3fe-200d-2640-fe0f","1f9cf-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["bow","person bowing deeply"],u:"1f647",v:["1f647-1f3fb","1f647-1f3fc","1f647-1f3fd","1f647-1f3fe","1f647-1f3ff"],a:"0.6"},{n:["man bowing","man-bowing"],u:"1f647-200d-2642-fe0f",v:["1f647-1f3fb-200d-2642-fe0f","1f647-1f3fc-200d-2642-fe0f","1f647-1f3fd-200d-2642-fe0f","1f647-1f3fe-200d-2642-fe0f","1f647-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bowing","woman-bowing"],u:"1f647-200d-2640-fe0f",v:["1f647-1f3fb-200d-2640-fe0f","1f647-1f3fc-200d-2640-fe0f","1f647-1f3fd-200d-2640-fe0f","1f647-1f3fe-200d-2640-fe0f","1f647-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["face palm"],u:"1f926",v:["1f926-1f3fb","1f926-1f3fc","1f926-1f3fd","1f926-1f3fe","1f926-1f3ff"],a:"3.0"},{n:["man facepalming","man-facepalming"],u:"1f926-200d-2642-fe0f",v:["1f926-1f3fb-200d-2642-fe0f","1f926-1f3fc-200d-2642-fe0f","1f926-1f3fd-200d-2642-fe0f","1f926-1f3fe-200d-2642-fe0f","1f926-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman facepalming","woman-facepalming"],u:"1f926-200d-2640-fe0f",v:["1f926-1f3fb-200d-2640-fe0f","1f926-1f3fc-200d-2640-fe0f","1f926-1f3fd-200d-2640-fe0f","1f926-1f3fe-200d-2640-fe0f","1f926-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["shrug"],u:"1f937",v:["1f937-1f3fb","1f937-1f3fc","1f937-1f3fd","1f937-1f3fe","1f937-1f3ff"],a:"3.0"},{n:["man shrugging","man-shrugging"],u:"1f937-200d-2642-fe0f",v:["1f937-1f3fb-200d-2642-fe0f","1f937-1f3fc-200d-2642-fe0f","1f937-1f3fd-200d-2642-fe0f","1f937-1f3fe-200d-2642-fe0f","1f937-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman shrugging","woman-shrugging"],u:"1f937-200d-2640-fe0f",v:["1f937-1f3fb-200d-2640-fe0f","1f937-1f3fc-200d-2640-fe0f","1f937-1f3fd-200d-2640-fe0f","1f937-1f3fe-200d-2640-fe0f","1f937-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["health worker"],u:"1f9d1-200d-2695-fe0f",v:["1f9d1-1f3fb-200d-2695-fe0f","1f9d1-1f3fc-200d-2695-fe0f","1f9d1-1f3fd-200d-2695-fe0f","1f9d1-1f3fe-200d-2695-fe0f","1f9d1-1f3ff-200d-2695-fe0f"],a:"12.1"},{n:["male-doctor","man health worker"],u:"1f468-200d-2695-fe0f",v:["1f468-1f3fb-200d-2695-fe0f","1f468-1f3fc-200d-2695-fe0f","1f468-1f3fd-200d-2695-fe0f","1f468-1f3fe-200d-2695-fe0f","1f468-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["female-doctor","woman health worker"],u:"1f469-200d-2695-fe0f",v:["1f469-1f3fb-200d-2695-fe0f","1f469-1f3fc-200d-2695-fe0f","1f469-1f3fd-200d-2695-fe0f","1f469-1f3fe-200d-2695-fe0f","1f469-1f3ff-200d-2695-fe0f"],a:"4.0"},{n:["student"],u:"1f9d1-200d-1f393",v:["1f9d1-1f3fb-200d-1f393","1f9d1-1f3fc-200d-1f393","1f9d1-1f3fd-200d-1f393","1f9d1-1f3fe-200d-1f393","1f9d1-1f3ff-200d-1f393"],a:"12.1"},{n:["man student","male-student"],u:"1f468-200d-1f393",v:["1f468-1f3fb-200d-1f393","1f468-1f3fc-200d-1f393","1f468-1f3fd-200d-1f393","1f468-1f3fe-200d-1f393","1f468-1f3ff-200d-1f393"],a:"4.0"},{n:["woman student","female-student"],u:"1f469-200d-1f393",v:["1f469-1f3fb-200d-1f393","1f469-1f3fc-200d-1f393","1f469-1f3fd-200d-1f393","1f469-1f3fe-200d-1f393","1f469-1f3ff-200d-1f393"],a:"4.0"},{n:["teacher"],u:"1f9d1-200d-1f3eb",v:["1f9d1-1f3fb-200d-1f3eb","1f9d1-1f3fc-200d-1f3eb","1f9d1-1f3fd-200d-1f3eb","1f9d1-1f3fe-200d-1f3eb","1f9d1-1f3ff-200d-1f3eb"],a:"12.1"},{n:["man teacher","male-teacher"],u:"1f468-200d-1f3eb",v:["1f468-1f3fb-200d-1f3eb","1f468-1f3fc-200d-1f3eb","1f468-1f3fd-200d-1f3eb","1f468-1f3fe-200d-1f3eb","1f468-1f3ff-200d-1f3eb"],a:"4.0"},{n:["woman teacher","female-teacher"],u:"1f469-200d-1f3eb",v:["1f469-1f3fb-200d-1f3eb","1f469-1f3fc-200d-1f3eb","1f469-1f3fd-200d-1f3eb","1f469-1f3fe-200d-1f3eb","1f469-1f3ff-200d-1f3eb"],a:"4.0"},{n:["judge"],u:"1f9d1-200d-2696-fe0f",v:["1f9d1-1f3fb-200d-2696-fe0f","1f9d1-1f3fc-200d-2696-fe0f","1f9d1-1f3fd-200d-2696-fe0f","1f9d1-1f3fe-200d-2696-fe0f","1f9d1-1f3ff-200d-2696-fe0f"],a:"12.1"},{n:["man judge","male-judge"],u:"1f468-200d-2696-fe0f",v:["1f468-1f3fb-200d-2696-fe0f","1f468-1f3fc-200d-2696-fe0f","1f468-1f3fd-200d-2696-fe0f","1f468-1f3fe-200d-2696-fe0f","1f468-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["woman judge","female-judge"],u:"1f469-200d-2696-fe0f",v:["1f469-1f3fb-200d-2696-fe0f","1f469-1f3fc-200d-2696-fe0f","1f469-1f3fd-200d-2696-fe0f","1f469-1f3fe-200d-2696-fe0f","1f469-1f3ff-200d-2696-fe0f"],a:"4.0"},{n:["farmer"],u:"1f9d1-200d-1f33e",v:["1f9d1-1f3fb-200d-1f33e","1f9d1-1f3fc-200d-1f33e","1f9d1-1f3fd-200d-1f33e","1f9d1-1f3fe-200d-1f33e","1f9d1-1f3ff-200d-1f33e"],a:"12.1"},{n:["man farmer","male-farmer"],u:"1f468-200d-1f33e",v:["1f468-1f3fb-200d-1f33e","1f468-1f3fc-200d-1f33e","1f468-1f3fd-200d-1f33e","1f468-1f3fe-200d-1f33e","1f468-1f3ff-200d-1f33e"],a:"4.0"},{n:["woman farmer","female-farmer"],u:"1f469-200d-1f33e",v:["1f469-1f3fb-200d-1f33e","1f469-1f3fc-200d-1f33e","1f469-1f3fd-200d-1f33e","1f469-1f3fe-200d-1f33e","1f469-1f3ff-200d-1f33e"],a:"4.0"},{n:["cook"],u:"1f9d1-200d-1f373",v:["1f9d1-1f3fb-200d-1f373","1f9d1-1f3fc-200d-1f373","1f9d1-1f3fd-200d-1f373","1f9d1-1f3fe-200d-1f373","1f9d1-1f3ff-200d-1f373"],a:"12.1"},{n:["man cook","male-cook"],u:"1f468-200d-1f373",v:["1f468-1f3fb-200d-1f373","1f468-1f3fc-200d-1f373","1f468-1f3fd-200d-1f373","1f468-1f3fe-200d-1f373","1f468-1f3ff-200d-1f373"],a:"4.0"},{n:["woman cook","female-cook"],u:"1f469-200d-1f373",v:["1f469-1f3fb-200d-1f373","1f469-1f3fc-200d-1f373","1f469-1f3fd-200d-1f373","1f469-1f3fe-200d-1f373","1f469-1f3ff-200d-1f373"],a:"4.0"},{n:["mechanic"],u:"1f9d1-200d-1f527",v:["1f9d1-1f3fb-200d-1f527","1f9d1-1f3fc-200d-1f527","1f9d1-1f3fd-200d-1f527","1f9d1-1f3fe-200d-1f527","1f9d1-1f3ff-200d-1f527"],a:"12.1"},{n:["man mechanic","male-mechanic"],u:"1f468-200d-1f527",v:["1f468-1f3fb-200d-1f527","1f468-1f3fc-200d-1f527","1f468-1f3fd-200d-1f527","1f468-1f3fe-200d-1f527","1f468-1f3ff-200d-1f527"],a:"4.0"},{n:["woman mechanic","female-mechanic"],u:"1f469-200d-1f527",v:["1f469-1f3fb-200d-1f527","1f469-1f3fc-200d-1f527","1f469-1f3fd-200d-1f527","1f469-1f3fe-200d-1f527","1f469-1f3ff-200d-1f527"],a:"4.0"},{n:["factory worker"],u:"1f9d1-200d-1f3ed",v:["1f9d1-1f3fb-200d-1f3ed","1f9d1-1f3fc-200d-1f3ed","1f9d1-1f3fd-200d-1f3ed","1f9d1-1f3fe-200d-1f3ed","1f9d1-1f3ff-200d-1f3ed"],a:"12.1"},{n:["man factory worker","male-factory-worker"],u:"1f468-200d-1f3ed",v:["1f468-1f3fb-200d-1f3ed","1f468-1f3fc-200d-1f3ed","1f468-1f3fd-200d-1f3ed","1f468-1f3fe-200d-1f3ed","1f468-1f3ff-200d-1f3ed"],a:"4.0"},{n:["woman factory worker","female-factory-worker"],u:"1f469-200d-1f3ed",v:["1f469-1f3fb-200d-1f3ed","1f469-1f3fc-200d-1f3ed","1f469-1f3fd-200d-1f3ed","1f469-1f3fe-200d-1f3ed","1f469-1f3ff-200d-1f3ed"],a:"4.0"},{n:["office worker"],u:"1f9d1-200d-1f4bc",v:["1f9d1-1f3fb-200d-1f4bc","1f9d1-1f3fc-200d-1f4bc","1f9d1-1f3fd-200d-1f4bc","1f9d1-1f3fe-200d-1f4bc","1f9d1-1f3ff-200d-1f4bc"],a:"12.1"},{n:["man office worker","male-office-worker"],u:"1f468-200d-1f4bc",v:["1f468-1f3fb-200d-1f4bc","1f468-1f3fc-200d-1f4bc","1f468-1f3fd-200d-1f4bc","1f468-1f3fe-200d-1f4bc","1f468-1f3ff-200d-1f4bc"],a:"4.0"},{n:["woman office worker","female-office-worker"],u:"1f469-200d-1f4bc",v:["1f469-1f3fb-200d-1f4bc","1f469-1f3fc-200d-1f4bc","1f469-1f3fd-200d-1f4bc","1f469-1f3fe-200d-1f4bc","1f469-1f3ff-200d-1f4bc"],a:"4.0"},{n:["scientist"],u:"1f9d1-200d-1f52c",v:["1f9d1-1f3fb-200d-1f52c","1f9d1-1f3fc-200d-1f52c","1f9d1-1f3fd-200d-1f52c","1f9d1-1f3fe-200d-1f52c","1f9d1-1f3ff-200d-1f52c"],a:"12.1"},{n:["man scientist","male-scientist"],u:"1f468-200d-1f52c",v:["1f468-1f3fb-200d-1f52c","1f468-1f3fc-200d-1f52c","1f468-1f3fd-200d-1f52c","1f468-1f3fe-200d-1f52c","1f468-1f3ff-200d-1f52c"],a:"4.0"},{n:["woman scientist","female-scientist"],u:"1f469-200d-1f52c",v:["1f469-1f3fb-200d-1f52c","1f469-1f3fc-200d-1f52c","1f469-1f3fd-200d-1f52c","1f469-1f3fe-200d-1f52c","1f469-1f3ff-200d-1f52c"],a:"4.0"},{n:["technologist"],u:"1f9d1-200d-1f4bb",v:["1f9d1-1f3fb-200d-1f4bb","1f9d1-1f3fc-200d-1f4bb","1f9d1-1f3fd-200d-1f4bb","1f9d1-1f3fe-200d-1f4bb","1f9d1-1f3ff-200d-1f4bb"],a:"12.1"},{n:["man technologist","male-technologist"],u:"1f468-200d-1f4bb",v:["1f468-1f3fb-200d-1f4bb","1f468-1f3fc-200d-1f4bb","1f468-1f3fd-200d-1f4bb","1f468-1f3fe-200d-1f4bb","1f468-1f3ff-200d-1f4bb"],a:"4.0"},{n:["woman technologist","female-technologist"],u:"1f469-200d-1f4bb",v:["1f469-1f3fb-200d-1f4bb","1f469-1f3fc-200d-1f4bb","1f469-1f3fd-200d-1f4bb","1f469-1f3fe-200d-1f4bb","1f469-1f3ff-200d-1f4bb"],a:"4.0"},{n:["singer"],u:"1f9d1-200d-1f3a4",v:["1f9d1-1f3fb-200d-1f3a4","1f9d1-1f3fc-200d-1f3a4","1f9d1-1f3fd-200d-1f3a4","1f9d1-1f3fe-200d-1f3a4","1f9d1-1f3ff-200d-1f3a4"],a:"12.1"},{n:["man singer","male-singer"],u:"1f468-200d-1f3a4",v:["1f468-1f3fb-200d-1f3a4","1f468-1f3fc-200d-1f3a4","1f468-1f3fd-200d-1f3a4","1f468-1f3fe-200d-1f3a4","1f468-1f3ff-200d-1f3a4"],a:"4.0"},{n:["woman singer","female-singer"],u:"1f469-200d-1f3a4",v:["1f469-1f3fb-200d-1f3a4","1f469-1f3fc-200d-1f3a4","1f469-1f3fd-200d-1f3a4","1f469-1f3fe-200d-1f3a4","1f469-1f3ff-200d-1f3a4"],a:"4.0"},{n:["artist"],u:"1f9d1-200d-1f3a8",v:["1f9d1-1f3fb-200d-1f3a8","1f9d1-1f3fc-200d-1f3a8","1f9d1-1f3fd-200d-1f3a8","1f9d1-1f3fe-200d-1f3a8","1f9d1-1f3ff-200d-1f3a8"],a:"12.1"},{n:["man artist","male-artist"],u:"1f468-200d-1f3a8",v:["1f468-1f3fb-200d-1f3a8","1f468-1f3fc-200d-1f3a8","1f468-1f3fd-200d-1f3a8","1f468-1f3fe-200d-1f3a8","1f468-1f3ff-200d-1f3a8"],a:"4.0"},{n:["woman artist","female-artist"],u:"1f469-200d-1f3a8",v:["1f469-1f3fb-200d-1f3a8","1f469-1f3fc-200d-1f3a8","1f469-1f3fd-200d-1f3a8","1f469-1f3fe-200d-1f3a8","1f469-1f3ff-200d-1f3a8"],a:"4.0"},{n:["pilot"],u:"1f9d1-200d-2708-fe0f",v:["1f9d1-1f3fb-200d-2708-fe0f","1f9d1-1f3fc-200d-2708-fe0f","1f9d1-1f3fd-200d-2708-fe0f","1f9d1-1f3fe-200d-2708-fe0f","1f9d1-1f3ff-200d-2708-fe0f"],a:"12.1"},{n:["man pilot","male-pilot"],u:"1f468-200d-2708-fe0f",v:["1f468-1f3fb-200d-2708-fe0f","1f468-1f3fc-200d-2708-fe0f","1f468-1f3fd-200d-2708-fe0f","1f468-1f3fe-200d-2708-fe0f","1f468-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["woman pilot","female-pilot"],u:"1f469-200d-2708-fe0f",v:["1f469-1f3fb-200d-2708-fe0f","1f469-1f3fc-200d-2708-fe0f","1f469-1f3fd-200d-2708-fe0f","1f469-1f3fe-200d-2708-fe0f","1f469-1f3ff-200d-2708-fe0f"],a:"4.0"},{n:["astronaut"],u:"1f9d1-200d-1f680",v:["1f9d1-1f3fb-200d-1f680","1f9d1-1f3fc-200d-1f680","1f9d1-1f3fd-200d-1f680","1f9d1-1f3fe-200d-1f680","1f9d1-1f3ff-200d-1f680"],a:"12.1"},{n:["man astronaut","male-astronaut"],u:"1f468-200d-1f680",v:["1f468-1f3fb-200d-1f680","1f468-1f3fc-200d-1f680","1f468-1f3fd-200d-1f680","1f468-1f3fe-200d-1f680","1f468-1f3ff-200d-1f680"],a:"4.0"},{n:["woman astronaut","female-astronaut"],u:"1f469-200d-1f680",v:["1f469-1f3fb-200d-1f680","1f469-1f3fc-200d-1f680","1f469-1f3fd-200d-1f680","1f469-1f3fe-200d-1f680","1f469-1f3ff-200d-1f680"],a:"4.0"},{n:["firefighter"],u:"1f9d1-200d-1f692",v:["1f9d1-1f3fb-200d-1f692","1f9d1-1f3fc-200d-1f692","1f9d1-1f3fd-200d-1f692","1f9d1-1f3fe-200d-1f692","1f9d1-1f3ff-200d-1f692"],a:"12.1"},{n:["man firefighter","male-firefighter"],u:"1f468-200d-1f692",v:["1f468-1f3fb-200d-1f692","1f468-1f3fc-200d-1f692","1f468-1f3fd-200d-1f692","1f468-1f3fe-200d-1f692","1f468-1f3ff-200d-1f692"],a:"4.0"},{n:["woman firefighter","female-firefighter"],u:"1f469-200d-1f692",v:["1f469-1f3fb-200d-1f692","1f469-1f3fc-200d-1f692","1f469-1f3fd-200d-1f692","1f469-1f3fe-200d-1f692","1f469-1f3ff-200d-1f692"],a:"4.0"},{n:["cop","police officer"],u:"1f46e",v:["1f46e-1f3fb","1f46e-1f3fc","1f46e-1f3fd","1f46e-1f3fe","1f46e-1f3ff"],a:"0.6"},{n:["man police officer","male-police-officer"],u:"1f46e-200d-2642-fe0f",v:["1f46e-1f3fb-200d-2642-fe0f","1f46e-1f3fc-200d-2642-fe0f","1f46e-1f3fd-200d-2642-fe0f","1f46e-1f3fe-200d-2642-fe0f","1f46e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman police officer","female-police-officer"],u:"1f46e-200d-2640-fe0f",v:["1f46e-1f3fb-200d-2640-fe0f","1f46e-1f3fc-200d-2640-fe0f","1f46e-1f3fd-200d-2640-fe0f","1f46e-1f3fe-200d-2640-fe0f","1f46e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["detective","sleuth or spy"],u:"1f575-fe0f",v:["1f575-1f3fb","1f575-1f3fc","1f575-1f3fd","1f575-1f3fe","1f575-1f3ff"],a:"0.7"},{n:["man detective","male-detective"],u:"1f575-fe0f-200d-2642-fe0f",v:["1f575-1f3fb-200d-2642-fe0f","1f575-1f3fc-200d-2642-fe0f","1f575-1f3fd-200d-2642-fe0f","1f575-1f3fe-200d-2642-fe0f","1f575-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman detective","female-detective"],u:"1f575-fe0f-200d-2640-fe0f",v:["1f575-1f3fb-200d-2640-fe0f","1f575-1f3fc-200d-2640-fe0f","1f575-1f3fd-200d-2640-fe0f","1f575-1f3fe-200d-2640-fe0f","1f575-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["guardsman"],u:"1f482",v:["1f482-1f3fb","1f482-1f3fc","1f482-1f3fd","1f482-1f3fe","1f482-1f3ff"],a:"0.6"},{n:["man guard","male-guard"],u:"1f482-200d-2642-fe0f",v:["1f482-1f3fb-200d-2642-fe0f","1f482-1f3fc-200d-2642-fe0f","1f482-1f3fd-200d-2642-fe0f","1f482-1f3fe-200d-2642-fe0f","1f482-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman guard","female-guard"],u:"1f482-200d-2640-fe0f",v:["1f482-1f3fb-200d-2640-fe0f","1f482-1f3fc-200d-2640-fe0f","1f482-1f3fd-200d-2640-fe0f","1f482-1f3fe-200d-2640-fe0f","1f482-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["ninja"],u:"1f977",v:["1f977-1f3fb","1f977-1f3fc","1f977-1f3fd","1f977-1f3fe","1f977-1f3ff"],a:"13.0"},{n:["construction worker"],u:"1f477",v:["1f477-1f3fb","1f477-1f3fc","1f477-1f3fd","1f477-1f3fe","1f477-1f3ff"],a:"0.6"},{n:["man construction worker","male-construction-worker"],u:"1f477-200d-2642-fe0f",v:["1f477-1f3fb-200d-2642-fe0f","1f477-1f3fc-200d-2642-fe0f","1f477-1f3fd-200d-2642-fe0f","1f477-1f3fe-200d-2642-fe0f","1f477-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman construction worker","female-construction-worker"],u:"1f477-200d-2640-fe0f",v:["1f477-1f3fb-200d-2640-fe0f","1f477-1f3fc-200d-2640-fe0f","1f477-1f3fd-200d-2640-fe0f","1f477-1f3fe-200d-2640-fe0f","1f477-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with crown"],u:"1fac5",v:["1fac5-1f3fb","1fac5-1f3fc","1fac5-1f3fd","1fac5-1f3fe","1fac5-1f3ff"],a:"14.0"},{n:["prince"],u:"1f934",v:["1f934-1f3fb","1f934-1f3fc","1f934-1f3fd","1f934-1f3fe","1f934-1f3ff"],a:"3.0"},{n:["princess"],u:"1f478",v:["1f478-1f3fb","1f478-1f3fc","1f478-1f3fd","1f478-1f3fe","1f478-1f3ff"],a:"0.6"},{n:["man with turban"],u:"1f473",v:["1f473-1f3fb","1f473-1f3fc","1f473-1f3fd","1f473-1f3fe","1f473-1f3ff"],a:"0.6"},{n:["man wearing turban","man-wearing-turban"],u:"1f473-200d-2642-fe0f",v:["1f473-1f3fb-200d-2642-fe0f","1f473-1f3fc-200d-2642-fe0f","1f473-1f3fd-200d-2642-fe0f","1f473-1f3fe-200d-2642-fe0f","1f473-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman wearing turban","woman-wearing-turban"],u:"1f473-200d-2640-fe0f",v:["1f473-1f3fb-200d-2640-fe0f","1f473-1f3fc-200d-2640-fe0f","1f473-1f3fd-200d-2640-fe0f","1f473-1f3fe-200d-2640-fe0f","1f473-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["man with gua pi mao"],u:"1f472",v:["1f472-1f3fb","1f472-1f3fc","1f472-1f3fd","1f472-1f3fe","1f472-1f3ff"],a:"0.6"},{n:["person with headscarf"],u:"1f9d5",v:["1f9d5-1f3fb","1f9d5-1f3fc","1f9d5-1f3fd","1f9d5-1f3fe","1f9d5-1f3ff"],a:"5.0"},{n:["man in tuxedo","person in tuxedo"],u:"1f935",v:["1f935-1f3fb","1f935-1f3fc","1f935-1f3fd","1f935-1f3fe","1f935-1f3ff"],a:"3.0"},{n:["man in tuxedo"],u:"1f935-200d-2642-fe0f",v:["1f935-1f3fb-200d-2642-fe0f","1f935-1f3fc-200d-2642-fe0f","1f935-1f3fd-200d-2642-fe0f","1f935-1f3fe-200d-2642-fe0f","1f935-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman in tuxedo"],u:"1f935-200d-2640-fe0f",v:["1f935-1f3fb-200d-2640-fe0f","1f935-1f3fc-200d-2640-fe0f","1f935-1f3fd-200d-2640-fe0f","1f935-1f3fe-200d-2640-fe0f","1f935-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["bride with veil"],u:"1f470",v:["1f470-1f3fb","1f470-1f3fc","1f470-1f3fd","1f470-1f3fe","1f470-1f3ff"],a:"0.6"},{n:["man with veil"],u:"1f470-200d-2642-fe0f",v:["1f470-1f3fb-200d-2642-fe0f","1f470-1f3fc-200d-2642-fe0f","1f470-1f3fd-200d-2642-fe0f","1f470-1f3fe-200d-2642-fe0f","1f470-1f3ff-200d-2642-fe0f"],a:"13.0"},{n:["woman with veil"],u:"1f470-200d-2640-fe0f",v:["1f470-1f3fb-200d-2640-fe0f","1f470-1f3fc-200d-2640-fe0f","1f470-1f3fd-200d-2640-fe0f","1f470-1f3fe-200d-2640-fe0f","1f470-1f3ff-200d-2640-fe0f"],a:"13.0"},{n:["pregnant woman"],u:"1f930",v:["1f930-1f3fb","1f930-1f3fc","1f930-1f3fd","1f930-1f3fe","1f930-1f3ff"],a:"3.0"},{n:["pregnant man"],u:"1fac3",v:["1fac3-1f3fb","1fac3-1f3fc","1fac3-1f3fd","1fac3-1f3fe","1fac3-1f3ff"],a:"14.0"},{n:["pregnant person"],u:"1fac4",v:["1fac4-1f3fb","1fac4-1f3fc","1fac4-1f3fd","1fac4-1f3fe","1fac4-1f3ff"],a:"14.0"},{n:["breast-feeding"],u:"1f931",v:["1f931-1f3fb","1f931-1f3fc","1f931-1f3fd","1f931-1f3fe","1f931-1f3ff"],a:"5.0"},{n:["woman feeding baby"],u:"1f469-200d-1f37c",v:["1f469-1f3fb-200d-1f37c","1f469-1f3fc-200d-1f37c","1f469-1f3fd-200d-1f37c","1f469-1f3fe-200d-1f37c","1f469-1f3ff-200d-1f37c"],a:"13.0"},{n:["man feeding baby"],u:"1f468-200d-1f37c",v:["1f468-1f3fb-200d-1f37c","1f468-1f3fc-200d-1f37c","1f468-1f3fd-200d-1f37c","1f468-1f3fe-200d-1f37c","1f468-1f3ff-200d-1f37c"],a:"13.0"},{n:["person feeding baby"],u:"1f9d1-200d-1f37c",v:["1f9d1-1f3fb-200d-1f37c","1f9d1-1f3fc-200d-1f37c","1f9d1-1f3fd-200d-1f37c","1f9d1-1f3fe-200d-1f37c","1f9d1-1f3ff-200d-1f37c"],a:"13.0"},{n:["angel","baby angel"],u:"1f47c",v:["1f47c-1f3fb","1f47c-1f3fc","1f47c-1f3fd","1f47c-1f3fe","1f47c-1f3ff"],a:"0.6"},{n:["santa","father christmas"],u:"1f385",v:["1f385-1f3fb","1f385-1f3fc","1f385-1f3fd","1f385-1f3fe","1f385-1f3ff"],a:"0.6"},{n:["mrs claus","mother christmas"],u:"1f936",v:["1f936-1f3fb","1f936-1f3fc","1f936-1f3fd","1f936-1f3fe","1f936-1f3ff"],a:"3.0"},{n:["mx claus"],u:"1f9d1-200d-1f384",v:["1f9d1-1f3fb-200d-1f384","1f9d1-1f3fc-200d-1f384","1f9d1-1f3fd-200d-1f384","1f9d1-1f3fe-200d-1f384","1f9d1-1f3ff-200d-1f384"],a:"13.0"},{n:["superhero"],u:"1f9b8",v:["1f9b8-1f3fb","1f9b8-1f3fc","1f9b8-1f3fd","1f9b8-1f3fe","1f9b8-1f3ff"],a:"11.0"},{n:["man superhero","male superhero"],u:"1f9b8-200d-2642-fe0f",v:["1f9b8-1f3fb-200d-2642-fe0f","1f9b8-1f3fc-200d-2642-fe0f","1f9b8-1f3fd-200d-2642-fe0f","1f9b8-1f3fe-200d-2642-fe0f","1f9b8-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman superhero","female superhero"],u:"1f9b8-200d-2640-fe0f",v:["1f9b8-1f3fb-200d-2640-fe0f","1f9b8-1f3fc-200d-2640-fe0f","1f9b8-1f3fd-200d-2640-fe0f","1f9b8-1f3fe-200d-2640-fe0f","1f9b8-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["supervillain"],u:"1f9b9",v:["1f9b9-1f3fb","1f9b9-1f3fc","1f9b9-1f3fd","1f9b9-1f3fe","1f9b9-1f3ff"],a:"11.0"},{n:["man supervillain","male supervillain"],u:"1f9b9-200d-2642-fe0f",v:["1f9b9-1f3fb-200d-2642-fe0f","1f9b9-1f3fc-200d-2642-fe0f","1f9b9-1f3fd-200d-2642-fe0f","1f9b9-1f3fe-200d-2642-fe0f","1f9b9-1f3ff-200d-2642-fe0f"],a:"11.0"},{n:["woman supervillain","female supervillain"],u:"1f9b9-200d-2640-fe0f",v:["1f9b9-1f3fb-200d-2640-fe0f","1f9b9-1f3fc-200d-2640-fe0f","1f9b9-1f3fd-200d-2640-fe0f","1f9b9-1f3fe-200d-2640-fe0f","1f9b9-1f3ff-200d-2640-fe0f"],a:"11.0"},{n:["mage"],u:"1f9d9",v:["1f9d9-1f3fb","1f9d9-1f3fc","1f9d9-1f3fd","1f9d9-1f3fe","1f9d9-1f3ff"],a:"5.0"},{n:["man mage","male mage"],u:"1f9d9-200d-2642-fe0f",v:["1f9d9-1f3fb-200d-2642-fe0f","1f9d9-1f3fc-200d-2642-fe0f","1f9d9-1f3fd-200d-2642-fe0f","1f9d9-1f3fe-200d-2642-fe0f","1f9d9-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman mage","female mage"],u:"1f9d9-200d-2640-fe0f",v:["1f9d9-1f3fb-200d-2640-fe0f","1f9d9-1f3fc-200d-2640-fe0f","1f9d9-1f3fd-200d-2640-fe0f","1f9d9-1f3fe-200d-2640-fe0f","1f9d9-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fairy"],u:"1f9da",v:["1f9da-1f3fb","1f9da-1f3fc","1f9da-1f3fd","1f9da-1f3fe","1f9da-1f3ff"],a:"5.0"},{n:["man fairy","male fairy"],u:"1f9da-200d-2642-fe0f",v:["1f9da-1f3fb-200d-2642-fe0f","1f9da-1f3fc-200d-2642-fe0f","1f9da-1f3fd-200d-2642-fe0f","1f9da-1f3fe-200d-2642-fe0f","1f9da-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman fairy","female fairy"],u:"1f9da-200d-2640-fe0f",v:["1f9da-1f3fb-200d-2640-fe0f","1f9da-1f3fc-200d-2640-fe0f","1f9da-1f3fd-200d-2640-fe0f","1f9da-1f3fe-200d-2640-fe0f","1f9da-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["vampire"],u:"1f9db",v:["1f9db-1f3fb","1f9db-1f3fc","1f9db-1f3fd","1f9db-1f3fe","1f9db-1f3ff"],a:"5.0"},{n:["man vampire","male vampire"],u:"1f9db-200d-2642-fe0f",v:["1f9db-1f3fb-200d-2642-fe0f","1f9db-1f3fc-200d-2642-fe0f","1f9db-1f3fd-200d-2642-fe0f","1f9db-1f3fe-200d-2642-fe0f","1f9db-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman vampire","female vampire"],u:"1f9db-200d-2640-fe0f",v:["1f9db-1f3fb-200d-2640-fe0f","1f9db-1f3fc-200d-2640-fe0f","1f9db-1f3fd-200d-2640-fe0f","1f9db-1f3fe-200d-2640-fe0f","1f9db-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["merperson"],u:"1f9dc",v:["1f9dc-1f3fb","1f9dc-1f3fc","1f9dc-1f3fd","1f9dc-1f3fe","1f9dc-1f3ff"],a:"5.0"},{n:["merman"],u:"1f9dc-200d-2642-fe0f",v:["1f9dc-1f3fb-200d-2642-fe0f","1f9dc-1f3fc-200d-2642-fe0f","1f9dc-1f3fd-200d-2642-fe0f","1f9dc-1f3fe-200d-2642-fe0f","1f9dc-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["mermaid"],u:"1f9dc-200d-2640-fe0f",v:["1f9dc-1f3fb-200d-2640-fe0f","1f9dc-1f3fc-200d-2640-fe0f","1f9dc-1f3fd-200d-2640-fe0f","1f9dc-1f3fe-200d-2640-fe0f","1f9dc-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["elf"],u:"1f9dd",v:["1f9dd-1f3fb","1f9dd-1f3fc","1f9dd-1f3fd","1f9dd-1f3fe","1f9dd-1f3ff"],a:"5.0"},{n:["man elf","male elf"],u:"1f9dd-200d-2642-fe0f",v:["1f9dd-1f3fb-200d-2642-fe0f","1f9dd-1f3fc-200d-2642-fe0f","1f9dd-1f3fd-200d-2642-fe0f","1f9dd-1f3fe-200d-2642-fe0f","1f9dd-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman elf","female elf"],u:"1f9dd-200d-2640-fe0f",v:["1f9dd-1f3fb-200d-2640-fe0f","1f9dd-1f3fc-200d-2640-fe0f","1f9dd-1f3fd-200d-2640-fe0f","1f9dd-1f3fe-200d-2640-fe0f","1f9dd-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["genie"],u:"1f9de",a:"5.0"},{n:["man genie","male genie"],u:"1f9de-200d-2642-fe0f",a:"5.0"},{n:["woman genie","female genie"],u:"1f9de-200d-2640-fe0f",a:"5.0"},{n:["zombie"],u:"1f9df",a:"5.0"},{n:["man zombie","male zombie"],u:"1f9df-200d-2642-fe0f",a:"5.0"},{n:["woman zombie","female zombie"],u:"1f9df-200d-2640-fe0f",a:"5.0"},{n:["troll"],u:"1f9cc",a:"14.0"},{n:["massage","face massage"],u:"1f486",v:["1f486-1f3fb","1f486-1f3fc","1f486-1f3fd","1f486-1f3fe","1f486-1f3ff"],a:"0.6"},{n:["man getting massage","man-getting-massage"],u:"1f486-200d-2642-fe0f",v:["1f486-1f3fb-200d-2642-fe0f","1f486-1f3fc-200d-2642-fe0f","1f486-1f3fd-200d-2642-fe0f","1f486-1f3fe-200d-2642-fe0f","1f486-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting massage","woman-getting-massage"],u:"1f486-200d-2640-fe0f",v:["1f486-1f3fb-200d-2640-fe0f","1f486-1f3fc-200d-2640-fe0f","1f486-1f3fd-200d-2640-fe0f","1f486-1f3fe-200d-2640-fe0f","1f486-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["haircut"],u:"1f487",v:["1f487-1f3fb","1f487-1f3fc","1f487-1f3fd","1f487-1f3fe","1f487-1f3ff"],a:"0.6"},{n:["man getting haircut","man-getting-haircut"],u:"1f487-200d-2642-fe0f",v:["1f487-1f3fb-200d-2642-fe0f","1f487-1f3fc-200d-2642-fe0f","1f487-1f3fd-200d-2642-fe0f","1f487-1f3fe-200d-2642-fe0f","1f487-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman getting haircut","woman-getting-haircut"],u:"1f487-200d-2640-fe0f",v:["1f487-1f3fb-200d-2640-fe0f","1f487-1f3fc-200d-2640-fe0f","1f487-1f3fd-200d-2640-fe0f","1f487-1f3fe-200d-2640-fe0f","1f487-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["walking","pedestrian"],u:"1f6b6",v:["1f6b6-1f3fb","1f6b6-1f3fc","1f6b6-1f3fd","1f6b6-1f3fe","1f6b6-1f3ff"],a:"0.6"},{n:["man walking","man-walking"],u:"1f6b6-200d-2642-fe0f",v:["1f6b6-1f3fb-200d-2642-fe0f","1f6b6-1f3fc-200d-2642-fe0f","1f6b6-1f3fd-200d-2642-fe0f","1f6b6-1f3fe-200d-2642-fe0f","1f6b6-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman walking","woman-walking"],u:"1f6b6-200d-2640-fe0f",v:["1f6b6-1f3fb-200d-2640-fe0f","1f6b6-1f3fc-200d-2640-fe0f","1f6b6-1f3fd-200d-2640-fe0f","1f6b6-1f3fe-200d-2640-fe0f","1f6b6-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["standing person"],u:"1f9cd",v:["1f9cd-1f3fb","1f9cd-1f3fc","1f9cd-1f3fd","1f9cd-1f3fe","1f9cd-1f3ff"],a:"12.0"},{n:["man standing"],u:"1f9cd-200d-2642-fe0f",v:["1f9cd-1f3fb-200d-2642-fe0f","1f9cd-1f3fc-200d-2642-fe0f","1f9cd-1f3fd-200d-2642-fe0f","1f9cd-1f3fe-200d-2642-fe0f","1f9cd-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman standing"],u:"1f9cd-200d-2640-fe0f",v:["1f9cd-1f3fb-200d-2640-fe0f","1f9cd-1f3fc-200d-2640-fe0f","1f9cd-1f3fd-200d-2640-fe0f","1f9cd-1f3fe-200d-2640-fe0f","1f9cd-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["kneeling person"],u:"1f9ce",v:["1f9ce-1f3fb","1f9ce-1f3fc","1f9ce-1f3fd","1f9ce-1f3fe","1f9ce-1f3ff"],a:"12.0"},{n:["man kneeling"],u:"1f9ce-200d-2642-fe0f",v:["1f9ce-1f3fb-200d-2642-fe0f","1f9ce-1f3fc-200d-2642-fe0f","1f9ce-1f3fd-200d-2642-fe0f","1f9ce-1f3fe-200d-2642-fe0f","1f9ce-1f3ff-200d-2642-fe0f"],a:"12.0"},{n:["woman kneeling"],u:"1f9ce-200d-2640-fe0f",v:["1f9ce-1f3fb-200d-2640-fe0f","1f9ce-1f3fc-200d-2640-fe0f","1f9ce-1f3fd-200d-2640-fe0f","1f9ce-1f3fe-200d-2640-fe0f","1f9ce-1f3ff-200d-2640-fe0f"],a:"12.0"},{n:["person with white cane","person with probing cane"],u:"1f9d1-200d-1f9af",v:["1f9d1-1f3fb-200d-1f9af","1f9d1-1f3fc-200d-1f9af","1f9d1-1f3fd-200d-1f9af","1f9d1-1f3fe-200d-1f9af","1f9d1-1f3ff-200d-1f9af"],a:"12.1"},{n:["man with white cane","man with probing cane"],u:"1f468-200d-1f9af",v:["1f468-1f3fb-200d-1f9af","1f468-1f3fc-200d-1f9af","1f468-1f3fd-200d-1f9af","1f468-1f3fe-200d-1f9af","1f468-1f3ff-200d-1f9af"],a:"12.0"},{n:["woman with white cane","woman with probing cane"],u:"1f469-200d-1f9af",v:["1f469-1f3fb-200d-1f9af","1f469-1f3fc-200d-1f9af","1f469-1f3fd-200d-1f9af","1f469-1f3fe-200d-1f9af","1f469-1f3ff-200d-1f9af"],a:"12.0"},{n:["person in motorized wheelchair"],u:"1f9d1-200d-1f9bc",v:["1f9d1-1f3fb-200d-1f9bc","1f9d1-1f3fc-200d-1f9bc","1f9d1-1f3fd-200d-1f9bc","1f9d1-1f3fe-200d-1f9bc","1f9d1-1f3ff-200d-1f9bc"],a:"12.1"},{n:["man in motorized wheelchair"],u:"1f468-200d-1f9bc",v:["1f468-1f3fb-200d-1f9bc","1f468-1f3fc-200d-1f9bc","1f468-1f3fd-200d-1f9bc","1f468-1f3fe-200d-1f9bc","1f468-1f3ff-200d-1f9bc"],a:"12.0"},{n:["woman in motorized wheelchair"],u:"1f469-200d-1f9bc",v:["1f469-1f3fb-200d-1f9bc","1f469-1f3fc-200d-1f9bc","1f469-1f3fd-200d-1f9bc","1f469-1f3fe-200d-1f9bc","1f469-1f3ff-200d-1f9bc"],a:"12.0"},{n:["person in manual wheelchair"],u:"1f9d1-200d-1f9bd",v:["1f9d1-1f3fb-200d-1f9bd","1f9d1-1f3fc-200d-1f9bd","1f9d1-1f3fd-200d-1f9bd","1f9d1-1f3fe-200d-1f9bd","1f9d1-1f3ff-200d-1f9bd"],a:"12.1"},{n:["man in manual wheelchair"],u:"1f468-200d-1f9bd",v:["1f468-1f3fb-200d-1f9bd","1f468-1f3fc-200d-1f9bd","1f468-1f3fd-200d-1f9bd","1f468-1f3fe-200d-1f9bd","1f468-1f3ff-200d-1f9bd"],a:"12.0"},{n:["woman in manual wheelchair"],u:"1f469-200d-1f9bd",v:["1f469-1f3fb-200d-1f9bd","1f469-1f3fc-200d-1f9bd","1f469-1f3fd-200d-1f9bd","1f469-1f3fe-200d-1f9bd","1f469-1f3ff-200d-1f9bd"],a:"12.0"},{n:["runner","running"],u:"1f3c3",v:["1f3c3-1f3fb","1f3c3-1f3fc","1f3c3-1f3fd","1f3c3-1f3fe","1f3c3-1f3ff"],a:"0.6"},{n:["man running","man-running"],u:"1f3c3-200d-2642-fe0f",v:["1f3c3-1f3fb-200d-2642-fe0f","1f3c3-1f3fc-200d-2642-fe0f","1f3c3-1f3fd-200d-2642-fe0f","1f3c3-1f3fe-200d-2642-fe0f","1f3c3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman running","woman-running"],u:"1f3c3-200d-2640-fe0f",v:["1f3c3-1f3fb-200d-2640-fe0f","1f3c3-1f3fc-200d-2640-fe0f","1f3c3-1f3fd-200d-2640-fe0f","1f3c3-1f3fe-200d-2640-fe0f","1f3c3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["dancer"],u:"1f483",v:["1f483-1f3fb","1f483-1f3fc","1f483-1f3fd","1f483-1f3fe","1f483-1f3ff"],a:"0.6"},{n:["man dancing"],u:"1f57a",v:["1f57a-1f3fb","1f57a-1f3fc","1f57a-1f3fd","1f57a-1f3fe","1f57a-1f3ff"],a:"3.0"},{n:["person in suit levitating","man in business suit levitating"],u:"1f574-fe0f",v:["1f574-1f3fb","1f574-1f3fc","1f574-1f3fd","1f574-1f3fe","1f574-1f3ff"],a:"0.7"},{n:["dancers","woman with bunny ears"],u:"1f46f",a:"0.6"},{n:["men with bunny ears","men-with-bunny-ears-partying","man-with-bunny-ears-partying"],u:"1f46f-200d-2642-fe0f",a:"4.0"},{n:["women with bunny ears","women-with-bunny-ears-partying","woman-with-bunny-ears-partying"],u:"1f46f-200d-2640-fe0f",a:"4.0"},{n:["person in steamy room"],u:"1f9d6",v:["1f9d6-1f3fb","1f9d6-1f3fc","1f9d6-1f3fd","1f9d6-1f3fe","1f9d6-1f3ff"],a:"5.0"},{n:["man in steamy room"],u:"1f9d6-200d-2642-fe0f",v:["1f9d6-1f3fb-200d-2642-fe0f","1f9d6-1f3fc-200d-2642-fe0f","1f9d6-1f3fd-200d-2642-fe0f","1f9d6-1f3fe-200d-2642-fe0f","1f9d6-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in steamy room"],u:"1f9d6-200d-2640-fe0f",v:["1f9d6-1f3fb-200d-2640-fe0f","1f9d6-1f3fc-200d-2640-fe0f","1f9d6-1f3fd-200d-2640-fe0f","1f9d6-1f3fe-200d-2640-fe0f","1f9d6-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["person climbing"],u:"1f9d7",v:["1f9d7-1f3fb","1f9d7-1f3fc","1f9d7-1f3fd","1f9d7-1f3fe","1f9d7-1f3ff"],a:"5.0"},{n:["man climbing"],u:"1f9d7-200d-2642-fe0f",v:["1f9d7-1f3fb-200d-2642-fe0f","1f9d7-1f3fc-200d-2642-fe0f","1f9d7-1f3fd-200d-2642-fe0f","1f9d7-1f3fe-200d-2642-fe0f","1f9d7-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman climbing"],u:"1f9d7-200d-2640-fe0f",v:["1f9d7-1f3fb-200d-2640-fe0f","1f9d7-1f3fc-200d-2640-fe0f","1f9d7-1f3fd-200d-2640-fe0f","1f9d7-1f3fe-200d-2640-fe0f","1f9d7-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["fencer"],u:"1f93a",a:"3.0"},{n:["horse racing"],u:"1f3c7",v:["1f3c7-1f3fb","1f3c7-1f3fc","1f3c7-1f3fd","1f3c7-1f3fe","1f3c7-1f3ff"],a:"1.0"},{n:["skier"],u:"26f7-fe0f",a:"0.7"},{n:["snowboarder"],u:"1f3c2",v:["1f3c2-1f3fb","1f3c2-1f3fc","1f3c2-1f3fd","1f3c2-1f3fe","1f3c2-1f3ff"],a:"0.6"},{n:["golfer","person golfing"],u:"1f3cc-fe0f",v:["1f3cc-1f3fb","1f3cc-1f3fc","1f3cc-1f3fd","1f3cc-1f3fe","1f3cc-1f3ff"],a:"0.7"},{n:["man golfing","man-golfing"],u:"1f3cc-fe0f-200d-2642-fe0f",v:["1f3cc-1f3fb-200d-2642-fe0f","1f3cc-1f3fc-200d-2642-fe0f","1f3cc-1f3fd-200d-2642-fe0f","1f3cc-1f3fe-200d-2642-fe0f","1f3cc-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman golfing","woman-golfing"],u:"1f3cc-fe0f-200d-2640-fe0f",v:["1f3cc-1f3fb-200d-2640-fe0f","1f3cc-1f3fc-200d-2640-fe0f","1f3cc-1f3fd-200d-2640-fe0f","1f3cc-1f3fe-200d-2640-fe0f","1f3cc-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["surfer"],u:"1f3c4",v:["1f3c4-1f3fb","1f3c4-1f3fc","1f3c4-1f3fd","1f3c4-1f3fe","1f3c4-1f3ff"],a:"0.6"},{n:["man surfing","man-surfing"],u:"1f3c4-200d-2642-fe0f",v:["1f3c4-1f3fb-200d-2642-fe0f","1f3c4-1f3fc-200d-2642-fe0f","1f3c4-1f3fd-200d-2642-fe0f","1f3c4-1f3fe-200d-2642-fe0f","1f3c4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman surfing","woman-surfing"],u:"1f3c4-200d-2640-fe0f",v:["1f3c4-1f3fb-200d-2640-fe0f","1f3c4-1f3fc-200d-2640-fe0f","1f3c4-1f3fd-200d-2640-fe0f","1f3c4-1f3fe-200d-2640-fe0f","1f3c4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["rowboat"],u:"1f6a3",v:["1f6a3-1f3fb","1f6a3-1f3fc","1f6a3-1f3fd","1f6a3-1f3fe","1f6a3-1f3ff"],a:"1.0"},{n:["man rowing boat","man-rowing-boat"],u:"1f6a3-200d-2642-fe0f",v:["1f6a3-1f3fb-200d-2642-fe0f","1f6a3-1f3fc-200d-2642-fe0f","1f6a3-1f3fd-200d-2642-fe0f","1f6a3-1f3fe-200d-2642-fe0f","1f6a3-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman rowing boat","woman-rowing-boat"],u:"1f6a3-200d-2640-fe0f",v:["1f6a3-1f3fb-200d-2640-fe0f","1f6a3-1f3fc-200d-2640-fe0f","1f6a3-1f3fd-200d-2640-fe0f","1f6a3-1f3fe-200d-2640-fe0f","1f6a3-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["swimmer"],u:"1f3ca",v:["1f3ca-1f3fb","1f3ca-1f3fc","1f3ca-1f3fd","1f3ca-1f3fe","1f3ca-1f3ff"],a:"0.6"},{n:["man swimming","man-swimming"],u:"1f3ca-200d-2642-fe0f",v:["1f3ca-1f3fb-200d-2642-fe0f","1f3ca-1f3fc-200d-2642-fe0f","1f3ca-1f3fd-200d-2642-fe0f","1f3ca-1f3fe-200d-2642-fe0f","1f3ca-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman swimming","woman-swimming"],u:"1f3ca-200d-2640-fe0f",v:["1f3ca-1f3fb-200d-2640-fe0f","1f3ca-1f3fc-200d-2640-fe0f","1f3ca-1f3fd-200d-2640-fe0f","1f3ca-1f3fe-200d-2640-fe0f","1f3ca-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person with ball","person bouncing ball"],u:"26f9-fe0f",v:["26f9-1f3fb","26f9-1f3fc","26f9-1f3fd","26f9-1f3fe","26f9-1f3ff"],a:"0.7"},{n:["man bouncing ball","man-bouncing-ball"],u:"26f9-fe0f-200d-2642-fe0f",v:["26f9-1f3fb-200d-2642-fe0f","26f9-1f3fc-200d-2642-fe0f","26f9-1f3fd-200d-2642-fe0f","26f9-1f3fe-200d-2642-fe0f","26f9-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman bouncing ball","woman-bouncing-ball"],u:"26f9-fe0f-200d-2640-fe0f",v:["26f9-1f3fb-200d-2640-fe0f","26f9-1f3fc-200d-2640-fe0f","26f9-1f3fd-200d-2640-fe0f","26f9-1f3fe-200d-2640-fe0f","26f9-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["weight lifter","person lifting weights"],u:"1f3cb-fe0f",v:["1f3cb-1f3fb","1f3cb-1f3fc","1f3cb-1f3fd","1f3cb-1f3fe","1f3cb-1f3ff"],a:"0.7"},{n:["man lifting weights","man-lifting-weights"],u:"1f3cb-fe0f-200d-2642-fe0f",v:["1f3cb-1f3fb-200d-2642-fe0f","1f3cb-1f3fc-200d-2642-fe0f","1f3cb-1f3fd-200d-2642-fe0f","1f3cb-1f3fe-200d-2642-fe0f","1f3cb-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman lifting weights","woman-lifting-weights"],u:"1f3cb-fe0f-200d-2640-fe0f",v:["1f3cb-1f3fb-200d-2640-fe0f","1f3cb-1f3fc-200d-2640-fe0f","1f3cb-1f3fd-200d-2640-fe0f","1f3cb-1f3fe-200d-2640-fe0f","1f3cb-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["bicyclist"],u:"1f6b4",v:["1f6b4-1f3fb","1f6b4-1f3fc","1f6b4-1f3fd","1f6b4-1f3fe","1f6b4-1f3ff"],a:"1.0"},{n:["man biking","man-biking"],u:"1f6b4-200d-2642-fe0f",v:["1f6b4-1f3fb-200d-2642-fe0f","1f6b4-1f3fc-200d-2642-fe0f","1f6b4-1f3fd-200d-2642-fe0f","1f6b4-1f3fe-200d-2642-fe0f","1f6b4-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman biking","woman-biking"],u:"1f6b4-200d-2640-fe0f",v:["1f6b4-1f3fb-200d-2640-fe0f","1f6b4-1f3fc-200d-2640-fe0f","1f6b4-1f3fd-200d-2640-fe0f","1f6b4-1f3fe-200d-2640-fe0f","1f6b4-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["mountain bicyclist"],u:"1f6b5",v:["1f6b5-1f3fb","1f6b5-1f3fc","1f6b5-1f3fd","1f6b5-1f3fe","1f6b5-1f3ff"],a:"1.0"},{n:["man mountain biking","man-mountain-biking"],u:"1f6b5-200d-2642-fe0f",v:["1f6b5-1f3fb-200d-2642-fe0f","1f6b5-1f3fc-200d-2642-fe0f","1f6b5-1f3fd-200d-2642-fe0f","1f6b5-1f3fe-200d-2642-fe0f","1f6b5-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman mountain biking","woman-mountain-biking"],u:"1f6b5-200d-2640-fe0f",v:["1f6b5-1f3fb-200d-2640-fe0f","1f6b5-1f3fc-200d-2640-fe0f","1f6b5-1f3fd-200d-2640-fe0f","1f6b5-1f3fe-200d-2640-fe0f","1f6b5-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person doing cartwheel"],u:"1f938",v:["1f938-1f3fb","1f938-1f3fc","1f938-1f3fd","1f938-1f3fe","1f938-1f3ff"],a:"3.0"},{n:["man cartwheeling","man-cartwheeling"],u:"1f938-200d-2642-fe0f",v:["1f938-1f3fb-200d-2642-fe0f","1f938-1f3fc-200d-2642-fe0f","1f938-1f3fd-200d-2642-fe0f","1f938-1f3fe-200d-2642-fe0f","1f938-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman cartwheeling","woman-cartwheeling"],u:"1f938-200d-2640-fe0f",v:["1f938-1f3fb-200d-2640-fe0f","1f938-1f3fc-200d-2640-fe0f","1f938-1f3fd-200d-2640-fe0f","1f938-1f3fe-200d-2640-fe0f","1f938-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["wrestlers"],u:"1f93c",a:"3.0"},{n:["men wrestling","man-wrestling"],u:"1f93c-200d-2642-fe0f",a:"4.0"},{n:["women wrestling","woman-wrestling"],u:"1f93c-200d-2640-fe0f",a:"4.0"},{n:["water polo"],u:"1f93d",v:["1f93d-1f3fb","1f93d-1f3fc","1f93d-1f3fd","1f93d-1f3fe","1f93d-1f3ff"],a:"3.0"},{n:["man playing water polo","man-playing-water-polo"],u:"1f93d-200d-2642-fe0f",v:["1f93d-1f3fb-200d-2642-fe0f","1f93d-1f3fc-200d-2642-fe0f","1f93d-1f3fd-200d-2642-fe0f","1f93d-1f3fe-200d-2642-fe0f","1f93d-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing water polo","woman-playing-water-polo"],u:"1f93d-200d-2640-fe0f",v:["1f93d-1f3fb-200d-2640-fe0f","1f93d-1f3fc-200d-2640-fe0f","1f93d-1f3fd-200d-2640-fe0f","1f93d-1f3fe-200d-2640-fe0f","1f93d-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["handball"],u:"1f93e",v:["1f93e-1f3fb","1f93e-1f3fc","1f93e-1f3fd","1f93e-1f3fe","1f93e-1f3ff"],a:"3.0"},{n:["man playing handball","man-playing-handball"],u:"1f93e-200d-2642-fe0f",v:["1f93e-1f3fb-200d-2642-fe0f","1f93e-1f3fc-200d-2642-fe0f","1f93e-1f3fd-200d-2642-fe0f","1f93e-1f3fe-200d-2642-fe0f","1f93e-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman playing handball","woman-playing-handball"],u:"1f93e-200d-2640-fe0f",v:["1f93e-1f3fb-200d-2640-fe0f","1f93e-1f3fc-200d-2640-fe0f","1f93e-1f3fd-200d-2640-fe0f","1f93e-1f3fe-200d-2640-fe0f","1f93e-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["juggling"],u:"1f939",v:["1f939-1f3fb","1f939-1f3fc","1f939-1f3fd","1f939-1f3fe","1f939-1f3ff"],a:"3.0"},{n:["man juggling","man-juggling"],u:"1f939-200d-2642-fe0f",v:["1f939-1f3fb-200d-2642-fe0f","1f939-1f3fc-200d-2642-fe0f","1f939-1f3fd-200d-2642-fe0f","1f939-1f3fe-200d-2642-fe0f","1f939-1f3ff-200d-2642-fe0f"],a:"4.0"},{n:["woman juggling","woman-juggling"],u:"1f939-200d-2640-fe0f",v:["1f939-1f3fb-200d-2640-fe0f","1f939-1f3fc-200d-2640-fe0f","1f939-1f3fd-200d-2640-fe0f","1f939-1f3fe-200d-2640-fe0f","1f939-1f3ff-200d-2640-fe0f"],a:"4.0"},{n:["person in lotus position"],u:"1f9d8",v:["1f9d8-1f3fb","1f9d8-1f3fc","1f9d8-1f3fd","1f9d8-1f3fe","1f9d8-1f3ff"],a:"5.0"},{n:["man in lotus position"],u:"1f9d8-200d-2642-fe0f",v:["1f9d8-1f3fb-200d-2642-fe0f","1f9d8-1f3fc-200d-2642-fe0f","1f9d8-1f3fd-200d-2642-fe0f","1f9d8-1f3fe-200d-2642-fe0f","1f9d8-1f3ff-200d-2642-fe0f"],a:"5.0"},{n:["woman in lotus position"],u:"1f9d8-200d-2640-fe0f",v:["1f9d8-1f3fb-200d-2640-fe0f","1f9d8-1f3fc-200d-2640-fe0f","1f9d8-1f3fd-200d-2640-fe0f","1f9d8-1f3fe-200d-2640-fe0f","1f9d8-1f3ff-200d-2640-fe0f"],a:"5.0"},{n:["bath"],u:"1f6c0",v:["1f6c0-1f3fb","1f6c0-1f3fc","1f6c0-1f3fd","1f6c0-1f3fe","1f6c0-1f3ff"],a:"0.6"},{n:["sleeping accommodation"],u:"1f6cc",v:["1f6cc-1f3fb","1f6cc-1f3fc","1f6cc-1f3fd","1f6cc-1f3fe","1f6cc-1f3ff"],a:"1.0"},{n:["people holding hands"],u:"1f9d1-200d-1f91d-200d-1f9d1",v:["1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3fe-200d-1f91d-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3fe","1f9d1-1f3ff-200d-1f91d-200d-1f9d1-1f3ff"],a:"12.0"},{n:["women holding hands","two women holding hands"],u:"1f46d",v:["1f46d-1f3fb","1f46d-1f3fc","1f46d-1f3fd","1f46d-1f3fe","1f46d-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f469-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f469-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f469-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f469-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f469-1f3fe"],a:"1.0"},{n:["couple","man and woman holding hands","woman and man holding hands"],u:"1f46b",v:["1f46b-1f3fb","1f46b-1f3fc","1f46b-1f3fd","1f46b-1f3fe","1f46b-1f3ff","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f469-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f469-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f469-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f469-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"0.6"},{n:["men holding hands","two men holding hands"],u:"1f46c",v:["1f46c-1f3fb","1f46c-1f3fc","1f46c-1f3fd","1f46c-1f3fe","1f46c-1f3ff","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fb-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fb-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fc-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fc-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fd-200d-1f91d-200d-1f468-1f3fe","1f468-1f3fd-200d-1f91d-200d-1f468-1f3ff","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fb","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fc","1f468-1f3fe-200d-1f91d-200d-1f468-1f3fd","1f468-1f3fe-200d-1f91d-200d-1f468-1f3ff","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fb","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fc","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fd","1f468-1f3ff-200d-1f91d-200d-1f468-1f3fe"],a:"1.0"},{n:["kiss","couplekiss"],u:"1f48f",v:["1f48f-1f3fb","1f48f-1f3fc","1f48f-1f3fd","1f48f-1f3fe","1f48f-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-kiss-man","kiss: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["man-kiss-man","kiss: man, man"],u:"1f468-200d-2764-fe0f-200d-1f48b-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-kiss-woman","kiss: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f48b-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f48b-200d-1f469-1f3ff"],a:"2.0"},{n:["couple with heart"],u:"1f491",v:["1f491-1f3fb","1f491-1f3fc","1f491-1f3fd","1f491-1f3fe","1f491-1f3ff","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fb-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fc-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3fe","1f9d1-1f3fd-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3fe-200d-2764-fe0f-200d-1f9d1-1f3ff","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fb","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fc","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fd","1f9d1-1f3ff-200d-2764-fe0f-200d-1f9d1-1f3fe"],a:"0.6"},{n:["woman-heart-man","couple with heart: woman, man"],u:"1f469-200d-2764-fe0f-200d-1f468",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["man-heart-man","couple with heart: man, man"],u:"1f468-200d-2764-fe0f-200d-1f468",v:["1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fb-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fc-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fd-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3fe-200d-2764-fe0f-200d-1f468-1f3ff","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fb","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fc","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fd","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3fe","1f468-1f3ff-200d-2764-fe0f-200d-1f468-1f3ff"],a:"2.0"},{n:["woman-heart-woman","couple with heart: woman, woman"],u:"1f469-200d-2764-fe0f-200d-1f469",v:["1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fb-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fc-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fd-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3fe-200d-2764-fe0f-200d-1f469-1f3ff","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fb","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fc","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fd","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3fe","1f469-1f3ff-200d-2764-fe0f-200d-1f469-1f3ff"],a:"2.0"},{n:["family"],u:"1f46a",a:"0.6"},{n:["man-woman-boy","family: man, woman, boy"],u:"1f468-200d-1f469-200d-1f466",a:"2.0"},{n:["man-woman-girl","family: man, woman, girl"],u:"1f468-200d-1f469-200d-1f467",a:"2.0"},{n:["man-woman-girl-boy","family: man, woman, girl, boy"],u:"1f468-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["man-woman-boy-boy","family: man, woman, boy, boy"],u:"1f468-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["man-woman-girl-girl","family: man, woman, girl, girl"],u:"1f468-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-man-boy","family: man, man, boy"],u:"1f468-200d-1f468-200d-1f466",a:"2.0"},{n:["man-man-girl","family: man, man, girl"],u:"1f468-200d-1f468-200d-1f467",a:"2.0"},{n:["man-man-girl-boy","family: man, man, girl, boy"],u:"1f468-200d-1f468-200d-1f467-200d-1f466",a:"2.0"},{n:["man-man-boy-boy","family: man, man, boy, boy"],u:"1f468-200d-1f468-200d-1f466-200d-1f466",a:"2.0"},{n:["man-man-girl-girl","family: man, man, girl, girl"],u:"1f468-200d-1f468-200d-1f467-200d-1f467",a:"2.0"},{n:["woman-woman-boy","family: woman, woman, boy"],u:"1f469-200d-1f469-200d-1f466",a:"2.0"},{n:["woman-woman-girl","family: woman, woman, girl"],u:"1f469-200d-1f469-200d-1f467",a:"2.0"},{n:["woman-woman-girl-boy","family: woman, woman, girl, boy"],u:"1f469-200d-1f469-200d-1f467-200d-1f466",a:"2.0"},{n:["woman-woman-boy-boy","family: woman, woman, boy, boy"],u:"1f469-200d-1f469-200d-1f466-200d-1f466",a:"2.0"},{n:["woman-woman-girl-girl","family: woman, woman, girl, girl"],u:"1f469-200d-1f469-200d-1f467-200d-1f467",a:"2.0"},{n:["man-boy","family: man, boy"],u:"1f468-200d-1f466",a:"4.0"},{n:["man-boy-boy","family: man, boy, boy"],u:"1f468-200d-1f466-200d-1f466",a:"4.0"},{n:["man-girl","family: man, girl"],u:"1f468-200d-1f467",a:"4.0"},{n:["man-girl-boy","family: man, girl, boy"],u:"1f468-200d-1f467-200d-1f466",a:"4.0"},{n:["man-girl-girl","family: man, girl, girl"],u:"1f468-200d-1f467-200d-1f467",a:"4.0"},{n:["woman-boy","family: woman, boy"],u:"1f469-200d-1f466",a:"4.0"},{n:["woman-boy-boy","family: woman, boy, boy"],u:"1f469-200d-1f466-200d-1f466",a:"4.0"},{n:["woman-girl","family: woman, girl"],u:"1f469-200d-1f467",a:"4.0"},{n:["woman-girl-boy","family: woman, girl, boy"],u:"1f469-200d-1f467-200d-1f466",a:"4.0"},{n:["woman-girl-girl","family: woman, girl, girl"],u:"1f469-200d-1f467-200d-1f467",a:"4.0"},{n:["speaking head","speaking head in silhouette"],u:"1f5e3-fe0f",a:"0.7"},{n:["bust in silhouette"],u:"1f464",a:"0.6"},{n:["busts in silhouette"],u:"1f465",a:"1.0"},{n:["people hugging"],u:"1fac2",a:"13.0"},{n:["footprints"],u:"1f463",a:"0.6"}],l4=[{n:["monkey face"],u:"1f435",a:"0.6"},{n:["monkey"],u:"1f412",a:"0.6"},{n:["gorilla"],u:"1f98d",a:"3.0"},{n:["orangutan"],u:"1f9a7",a:"12.0"},{n:["dog","dog face"],u:"1f436",a:"0.6"},{n:["dog","dog2"],u:"1f415",a:"0.7"},{n:["guide dog"],u:"1f9ae",a:"12.0"},{n:["service dog"],u:"1f415-200d-1f9ba",a:"12.0"},{n:["poodle"],u:"1f429",a:"0.6"},{n:["wolf","wolf face"],u:"1f43a",a:"0.6"},{n:["fox face"],u:"1f98a",a:"3.0"},{n:["raccoon"],u:"1f99d",a:"11.0"},{n:["cat","cat face"],u:"1f431",a:"0.6"},{n:["cat","cat2"],u:"1f408",a:"0.7"},{n:["black cat"],u:"1f408-200d-2b1b",a:"13.0"},{n:["lion face"],u:"1f981",a:"1.0"},{n:["tiger","tiger face"],u:"1f42f",a:"0.6"},{n:["tiger","tiger2"],u:"1f405",a:"1.0"},{n:["leopard"],u:"1f406",a:"1.0"},{n:["horse","horse face"],u:"1f434",a:"0.6"},{n:["horse","racehorse"],u:"1f40e",a:"0.6"},{n:["unicorn face"],u:"1f984",a:"1.0"},{n:["zebra face"],u:"1f993",a:"5.0"},{n:["deer"],u:"1f98c",a:"3.0"},{n:["bison"],u:"1f9ac",a:"13.0"},{n:["cow","cow face"],u:"1f42e",a:"0.6"},{n:["ox"],u:"1f402",a:"1.0"},{n:["water buffalo"],u:"1f403",a:"1.0"},{n:["cow","cow2"],u:"1f404",a:"1.0"},{n:["pig","pig face"],u:"1f437",a:"0.6"},{n:["pig","pig2"],u:"1f416",a:"1.0"},{n:["boar"],u:"1f417",a:"0.6"},{n:["pig nose"],u:"1f43d",a:"0.6"},{n:["ram"],u:"1f40f",a:"1.0"},{n:["sheep"],u:"1f411",a:"0.6"},{n:["goat"],u:"1f410",a:"1.0"},{n:["dromedary camel"],u:"1f42a",a:"1.0"},{n:["camel","bactrian camel"],u:"1f42b",a:"0.6"},{n:["llama"],u:"1f999",a:"11.0"},{n:["giraffe face"],u:"1f992",a:"5.0"},{n:["elephant"],u:"1f418",a:"0.6"},{n:["mammoth"],u:"1f9a3",a:"13.0"},{n:["rhinoceros"],u:"1f98f",a:"3.0"},{n:["hippopotamus"],u:"1f99b",a:"11.0"},{n:["mouse","mouse face"],u:"1f42d",a:"0.6"},{n:["mouse","mouse2"],u:"1f401",a:"1.0"},{n:["rat"],u:"1f400",a:"1.0"},{n:["hamster","hamster face"],u:"1f439",a:"0.6"},{n:["rabbit","rabbit face"],u:"1f430",a:"0.6"},{n:["rabbit","rabbit2"],u:"1f407",a:"1.0"},{n:["chipmunk"],u:"1f43f-fe0f",a:"0.7"},{n:["beaver"],u:"1f9ab",a:"13.0"},{n:["hedgehog"],u:"1f994",a:"5.0"},{n:["bat"],u:"1f987",a:"3.0"},{n:["bear","bear face"],u:"1f43b",a:"0.6"},{n:["polar bear"],u:"1f43b-200d-2744-fe0f",a:"13.0"},{n:["koala"],u:"1f428",a:"0.6"},{n:["panda face"],u:"1f43c",a:"0.6"},{n:["sloth"],u:"1f9a5",a:"12.0"},{n:["otter"],u:"1f9a6",a:"12.0"},{n:["skunk"],u:"1f9a8",a:"12.0"},{n:["kangaroo"],u:"1f998",a:"11.0"},{n:["badger"],u:"1f9a1",a:"11.0"},{n:["feet","paw prints"],u:"1f43e",a:"0.6"},{n:["turkey"],u:"1f983",a:"1.0"},{n:["chicken"],u:"1f414",a:"0.6"},{n:["rooster"],u:"1f413",a:"1.0"},{n:["hatching chick"],u:"1f423",a:"0.6"},{n:["baby chick"],u:"1f424",a:"0.6"},{n:["hatched chick","front-facing baby chick"],u:"1f425",a:"0.6"},{n:["bird"],u:"1f426",a:"0.6"},{n:["penguin"],u:"1f427",a:"0.6"},{n:["dove","dove of peace"],u:"1f54a-fe0f",a:"0.7"},{n:["eagle"],u:"1f985",a:"3.0"},{n:["duck"],u:"1f986",a:"3.0"},{n:["swan"],u:"1f9a2",a:"11.0"},{n:["owl"],u:"1f989",a:"3.0"},{n:["dodo"],u:"1f9a4",a:"13.0"},{n:["feather"],u:"1fab6",a:"13.0"},{n:["flamingo"],u:"1f9a9",a:"12.0"},{n:["peacock"],u:"1f99a",a:"11.0"},{n:["parrot"],u:"1f99c",a:"11.0"},{n:["frog","frog face"],u:"1f438",a:"0.6"},{n:["crocodile"],u:"1f40a",a:"1.0"},{n:["turtle"],u:"1f422",a:"0.6"},{n:["lizard"],u:"1f98e",a:"3.0"},{n:["snake"],u:"1f40d",a:"0.6"},{n:["dragon face"],u:"1f432",a:"0.6"},{n:["dragon"],u:"1f409",a:"1.0"},{n:["sauropod"],u:"1f995",a:"5.0"},{n:["t-rex"],u:"1f996",a:"5.0"},{n:["whale","spouting whale"],u:"1f433",a:"0.6"},{n:["whale","whale2"],u:"1f40b",a:"1.0"},{n:["dolphin","flipper"],u:"1f42c",a:"0.6"},{n:["seal"],u:"1f9ad",a:"13.0"},{n:["fish"],u:"1f41f",a:"0.6"},{n:["tropical fish"],u:"1f420",a:"0.6"},{n:["blowfish"],u:"1f421",a:"0.6"},{n:["shark"],u:"1f988",a:"3.0"},{n:["octopus"],u:"1f419",a:"0.6"},{n:["shell","spiral shell"],u:"1f41a",a:"0.6"},{n:["coral"],u:"1fab8",a:"14.0"},{n:["snail"],u:"1f40c",a:"0.6"},{n:["butterfly"],u:"1f98b",a:"3.0"},{n:["bug"],u:"1f41b",a:"0.6"},{n:["ant"],u:"1f41c",a:"0.6"},{n:["bee","honeybee"],u:"1f41d",a:"0.6"},{n:["beetle"],u:"1fab2",a:"13.0"},{n:["ladybug","lady beetle"],u:"1f41e",a:"0.6"},{n:["cricket"],u:"1f997",a:"5.0"},{n:["cockroach"],u:"1fab3",a:"13.0"},{n:["spider"],u:"1f577-fe0f",a:"0.7"},{n:["spider web"],u:"1f578-fe0f",a:"0.7"},{n:["scorpion"],u:"1f982",a:"1.0"},{n:["mosquito"],u:"1f99f",a:"11.0"},{n:["fly"],u:"1fab0",a:"13.0"},{n:["worm"],u:"1fab1",a:"13.0"},{n:["microbe"],u:"1f9a0",a:"11.0"},{n:["bouquet"],u:"1f490",a:"0.6"},{n:["cherry blossom"],u:"1f338",a:"0.6"},{n:["white flower"],u:"1f4ae",a:"0.6"},{n:["lotus"],u:"1fab7",a:"14.0"},{n:["rosette"],u:"1f3f5-fe0f",a:"0.7"},{n:["rose"],u:"1f339",a:"0.6"},{n:["wilted flower"],u:"1f940",a:"3.0"},{n:["hibiscus"],u:"1f33a",a:"0.6"},{n:["sunflower"],u:"1f33b",a:"0.6"},{n:["blossom"],u:"1f33c",a:"0.6"},{n:["tulip"],u:"1f337",a:"0.6"},{n:["seedling"],u:"1f331",a:"0.6"},{n:["potted plant"],u:"1fab4",a:"13.0"},{n:["evergreen tree"],u:"1f332",a:"1.0"},{n:["deciduous tree"],u:"1f333",a:"1.0"},{n:["palm tree"],u:"1f334",a:"0.6"},{n:["cactus"],u:"1f335",a:"0.6"},{n:["ear of rice"],u:"1f33e",a:"0.6"},{n:["herb"],u:"1f33f",a:"0.6"},{n:["shamrock"],u:"2618-fe0f",a:"1.0"},{n:["four leaf clover"],u:"1f340",a:"0.6"},{n:["maple leaf"],u:"1f341",a:"0.6"},{n:["fallen leaf"],u:"1f342",a:"0.6"},{n:["leaves","leaf fluttering in wind"],u:"1f343",a:"0.6"},{n:["empty nest"],u:"1fab9",a:"14.0"},{n:["nest with eggs"],u:"1faba",a:"14.0"}],f4=[{n:["grapes"],u:"1f347",a:"0.6"},{n:["melon"],u:"1f348",a:"0.6"},{n:["watermelon"],u:"1f349",a:"0.6"},{n:["tangerine"],u:"1f34a",a:"0.6"},{n:["lemon"],u:"1f34b",a:"1.0"},{n:["banana"],u:"1f34c",a:"0.6"},{n:["pineapple"],u:"1f34d",a:"0.6"},{n:["mango"],u:"1f96d",a:"11.0"},{n:["apple","red apple"],u:"1f34e",a:"0.6"},{n:["green apple"],u:"1f34f",a:"0.6"},{n:["pear"],u:"1f350",a:"1.0"},{n:["peach"],u:"1f351",a:"0.6"},{n:["cherries"],u:"1f352",a:"0.6"},{n:["strawberry"],u:"1f353",a:"0.6"},{n:["blueberries"],u:"1fad0",a:"13.0"},{n:["kiwifruit"],u:"1f95d",a:"3.0"},{n:["tomato"],u:"1f345",a:"0.6"},{n:["olive"],u:"1fad2",a:"13.0"},{n:["coconut"],u:"1f965",a:"5.0"},{n:["avocado"],u:"1f951",a:"3.0"},{n:["eggplant","aubergine"],u:"1f346",a:"0.6"},{n:["potato"],u:"1f954",a:"3.0"},{n:["carrot"],u:"1f955",a:"3.0"},{n:["corn","ear of maize"],u:"1f33d",a:"0.6"},{n:["hot pepper"],u:"1f336-fe0f",a:"0.7"},{n:["bell pepper"],u:"1fad1",a:"13.0"},{n:["cucumber"],u:"1f952",a:"3.0"},{n:["leafy green"],u:"1f96c",a:"11.0"},{n:["broccoli"],u:"1f966",a:"5.0"},{n:["garlic"],u:"1f9c4",a:"12.0"},{n:["onion"],u:"1f9c5",a:"12.0"},{n:["mushroom"],u:"1f344",a:"0.6"},{n:["peanuts"],u:"1f95c",a:"3.0"},{n:["beans"],u:"1fad8",a:"14.0"},{n:["chestnut"],u:"1f330",a:"0.6"},{n:["bread"],u:"1f35e",a:"0.6"},{n:["croissant"],u:"1f950",a:"3.0"},{n:["baguette bread"],u:"1f956",a:"3.0"},{n:["flatbread"],u:"1fad3",a:"13.0"},{n:["pretzel"],u:"1f968",a:"5.0"},{n:["bagel"],u:"1f96f",a:"11.0"},{n:["pancakes"],u:"1f95e",a:"3.0"},{n:["waffle"],u:"1f9c7",a:"12.0"},{n:["cheese wedge"],u:"1f9c0",a:"1.0"},{n:["meat on bone"],u:"1f356",a:"0.6"},{n:["poultry leg"],u:"1f357",a:"0.6"},{n:["cut of meat"],u:"1f969",a:"5.0"},{n:["bacon"],u:"1f953",a:"3.0"},{n:["hamburger"],u:"1f354",a:"0.6"},{n:["fries","french fries"],u:"1f35f",a:"0.6"},{n:["pizza","slice of pizza"],u:"1f355",a:"0.6"},{n:["hotdog","hot dog"],u:"1f32d",a:"1.0"},{n:["sandwich"],u:"1f96a",a:"5.0"},{n:["taco"],u:"1f32e",a:"1.0"},{n:["burrito"],u:"1f32f",a:"1.0"},{n:["tamale"],u:"1fad4",a:"13.0"},{n:["stuffed flatbread"],u:"1f959",a:"3.0"},{n:["falafel"],u:"1f9c6",a:"12.0"},{n:["egg"],u:"1f95a",a:"3.0"},{n:["cooking","fried egg"],u:"1f373",a:"0.6"},{n:["shallow pan of food"],u:"1f958",a:"3.0"},{n:["stew","pot of food"],u:"1f372",a:"0.6"},{n:["fondue"],u:"1fad5",a:"13.0"},{n:["bowl with spoon"],u:"1f963",a:"5.0"},{n:["green salad"],u:"1f957",a:"3.0"},{n:["popcorn"],u:"1f37f",a:"1.0"},{n:["butter"],u:"1f9c8",a:"12.0"},{n:["salt","salt shaker"],u:"1f9c2",a:"11.0"},{n:["canned food"],u:"1f96b",a:"5.0"},{n:["bento","bento box"],u:"1f371",a:"0.6"},{n:["rice cracker"],u:"1f358",a:"0.6"},{n:["rice ball"],u:"1f359",a:"0.6"},{n:["rice","cooked rice"],u:"1f35a",a:"0.6"},{n:["curry","curry and rice"],u:"1f35b",a:"0.6"},{n:["ramen","steaming bowl"],u:"1f35c",a:"0.6"},{n:["spaghetti"],u:"1f35d",a:"0.6"},{n:["sweet potato","roasted sweet potato"],u:"1f360",a:"0.6"},{n:["oden"],u:"1f362",a:"0.6"},{n:["sushi"],u:"1f363",a:"0.6"},{n:["fried shrimp"],u:"1f364",a:"0.6"},{n:["fish cake","fish cake with swirl design"],u:"1f365",a:"0.6"},{n:["moon cake"],u:"1f96e",a:"11.0"},{n:["dango"],u:"1f361",a:"0.6"},{n:["dumpling"],u:"1f95f",a:"5.0"},{n:["fortune cookie"],u:"1f960",a:"5.0"},{n:["takeout box"],u:"1f961",a:"5.0"},{n:["crab"],u:"1f980",a:"1.0"},{n:["lobster"],u:"1f99e",a:"11.0"},{n:["shrimp"],u:"1f990",a:"3.0"},{n:["squid"],u:"1f991",a:"3.0"},{n:["oyster"],u:"1f9aa",a:"12.0"},{n:["icecream","soft ice cream"],u:"1f366",a:"0.6"},{n:["shaved ice"],u:"1f367",a:"0.6"},{n:["ice cream"],u:"1f368",a:"0.6"},{n:["doughnut"],u:"1f369",a:"0.6"},{n:["cookie"],u:"1f36a",a:"0.6"},{n:["birthday","birthday cake"],u:"1f382",a:"0.6"},{n:["cake","shortcake"],u:"1f370",a:"0.6"},{n:["cupcake"],u:"1f9c1",a:"11.0"},{n:["pie"],u:"1f967",a:"5.0"},{n:["chocolate bar"],u:"1f36b",a:"0.6"},{n:["candy"],u:"1f36c",a:"0.6"},{n:["lollipop"],u:"1f36d",a:"0.6"},{n:["custard"],u:"1f36e",a:"0.6"},{n:["honey pot"],u:"1f36f",a:"0.6"},{n:["baby bottle"],u:"1f37c",a:"1.0"},{n:["glass of milk"],u:"1f95b",a:"3.0"},{n:["coffee","hot beverage"],u:"2615",a:"0.6"},{n:["teapot"],u:"1fad6",a:"13.0"},{n:["tea","teacup without handle"],u:"1f375",a:"0.6"},{n:["sake","sake bottle and cup"],u:"1f376",a:"0.6"},{n:["champagne","bottle with popping cork"],u:"1f37e",a:"1.0"},{n:["wine glass"],u:"1f377",a:"0.6"},{n:["cocktail","cocktail glass"],u:"1f378",a:"0.6"},{n:["tropical drink"],u:"1f379",a:"0.6"},{n:["beer","beer mug"],u:"1f37a",a:"0.6"},{n:["beers","clinking beer mugs"],u:"1f37b",a:"0.6"},{n:["clinking glasses"],u:"1f942",a:"3.0"},{n:["tumbler glass"],u:"1f943",a:"3.0"},{n:["pouring liquid"],u:"1fad7",a:"14.0"},{n:["cup with straw"],u:"1f964",a:"5.0"},{n:["bubble tea"],u:"1f9cb",a:"13.0"},{n:["beverage box"],u:"1f9c3",a:"12.0"},{n:["mate drink"],u:"1f9c9",a:"12.0"},{n:["ice cube"],u:"1f9ca",a:"12.0"},{n:["chopsticks"],u:"1f962",a:"5.0"},{n:["knife fork plate","fork and knife with plate"],u:"1f37d-fe0f",a:"0.7"},{n:["fork and knife"],u:"1f374",a:"0.6"},{n:["spoon"],u:"1f944",a:"3.0"},{n:["hocho","knife"],u:"1f52a",a:"0.6"},{n:["jar"],u:"1fad9",a:"14.0"},{n:["amphora"],u:"1f3fa",a:"1.0"}],c4=[{n:["earth africa","earth globe europe-africa"],u:"1f30d",a:"0.7"},{n:["earth americas","earth globe americas"],u:"1f30e",a:"0.7"},{n:["earth asia","earth globe asia-australia"],u:"1f30f",a:"0.6"},{n:["globe with meridians"],u:"1f310",a:"1.0"},{n:["world map"],u:"1f5fa-fe0f",a:"0.7"},{n:["japan","silhouette of japan"],u:"1f5fe",a:"0.6"},{n:["compass"],u:"1f9ed",a:"11.0"},{n:["snow-capped mountain","snow capped mountain"],u:"1f3d4-fe0f",a:"0.7"},{n:["mountain"],u:"26f0-fe0f",a:"0.7"},{n:["volcano"],u:"1f30b",a:"0.6"},{n:["mount fuji"],u:"1f5fb",a:"0.6"},{n:["camping"],u:"1f3d5-fe0f",a:"0.7"},{n:["beach with umbrella"],u:"1f3d6-fe0f",a:"0.7"},{n:["desert"],u:"1f3dc-fe0f",a:"0.7"},{n:["desert island"],u:"1f3dd-fe0f",a:"0.7"},{n:["national park"],u:"1f3de-fe0f",a:"0.7"},{n:["stadium"],u:"1f3df-fe0f",a:"0.7"},{n:["classical building"],u:"1f3db-fe0f",a:"0.7"},{n:["building construction"],u:"1f3d7-fe0f",a:"0.7"},{n:["brick","bricks"],u:"1f9f1",a:"11.0"},{n:["rock"],u:"1faa8",a:"13.0"},{n:["wood"],u:"1fab5",a:"13.0"},{n:["hut"],u:"1f6d6",a:"13.0"},{n:["houses","house buildings"],u:"1f3d8-fe0f",a:"0.7"},{n:["derelict house","derelict house building"],u:"1f3da-fe0f",a:"0.7"},{n:["house","house building"],u:"1f3e0",a:"0.6"},{n:["house with garden"],u:"1f3e1",a:"0.6"},{n:["office","office building"],u:"1f3e2",a:"0.6"},{n:["post office","japanese post office"],u:"1f3e3",a:"0.6"},{n:["european post office"],u:"1f3e4",a:"1.0"},{n:["hospital"],u:"1f3e5",a:"0.6"},{n:["bank"],u:"1f3e6",a:"0.6"},{n:["hotel"],u:"1f3e8",a:"0.6"},{n:["love hotel"],u:"1f3e9",a:"0.6"},{n:["convenience store"],u:"1f3ea",a:"0.6"},{n:["school"],u:"1f3eb",a:"0.6"},{n:["department store"],u:"1f3ec",a:"0.6"},{n:["factory"],u:"1f3ed",a:"0.6"},{n:["japanese castle"],u:"1f3ef",a:"0.6"},{n:["european castle"],u:"1f3f0",a:"0.6"},{n:["wedding"],u:"1f492",a:"0.6"},{n:["tokyo tower"],u:"1f5fc",a:"0.6"},{n:["statue of liberty"],u:"1f5fd",a:"0.6"},{n:["church"],u:"26ea",a:"0.6"},{n:["mosque"],u:"1f54c",a:"1.0"},{n:["hindu temple"],u:"1f6d5",a:"12.0"},{n:["synagogue"],u:"1f54d",a:"1.0"},{n:["shinto shrine"],u:"26e9-fe0f",a:"0.7"},{n:["kaaba"],u:"1f54b",a:"1.0"},{n:["fountain"],u:"26f2",a:"0.6"},{n:["tent"],u:"26fa",a:"0.6"},{n:["foggy"],u:"1f301",a:"0.6"},{n:["night with stars"],u:"1f303",a:"0.6"},{n:["cityscape"],u:"1f3d9-fe0f",a:"0.7"},{n:["sunrise over mountains"],u:"1f304",a:"0.6"},{n:["sunrise"],u:"1f305",a:"0.6"},{n:["city sunset","cityscape at dusk"],u:"1f306",a:"0.6"},{n:["city sunrise","sunset over buildings"],u:"1f307",a:"0.6"},{n:["bridge at night"],u:"1f309",a:"0.6"},{n:["hotsprings","hot springs"],u:"2668-fe0f",a:"0.6"},{n:["carousel horse"],u:"1f3a0",a:"0.6"},{n:["playground slide"],u:"1f6dd",a:"14.0"},{n:["ferris wheel"],u:"1f3a1",a:"0.6"},{n:["roller coaster"],u:"1f3a2",a:"0.6"},{n:["barber","barber pole"],u:"1f488",a:"0.6"},{n:["circus tent"],u:"1f3aa",a:"0.6"},{n:["steam locomotive"],u:"1f682",a:"1.0"},{n:["railway car"],u:"1f683",a:"0.6"},{n:["high-speed train","bullettrain side"],u:"1f684",a:"0.6"},{n:["bullettrain front","high-speed train with bullet nose"],u:"1f685",a:"0.6"},{n:["train","train2"],u:"1f686",a:"1.0"},{n:["metro"],u:"1f687",a:"0.6"},{n:["light rail"],u:"1f688",a:"1.0"},{n:["station"],u:"1f689",a:"0.6"},{n:["tram"],u:"1f68a",a:"1.0"},{n:["monorail"],u:"1f69d",a:"1.0"},{n:["mountain railway"],u:"1f69e",a:"1.0"},{n:["train","tram car"],u:"1f68b",a:"1.0"},{n:["bus"],u:"1f68c",a:"0.6"},{n:["oncoming bus"],u:"1f68d",a:"0.7"},{n:["trolleybus"],u:"1f68e",a:"1.0"},{n:["minibus"],u:"1f690",a:"1.0"},{n:["ambulance"],u:"1f691",a:"0.6"},{n:["fire engine"],u:"1f692",a:"0.6"},{n:["police car"],u:"1f693",a:"0.6"},{n:["oncoming police car"],u:"1f694",a:"0.7"},{n:["taxi"],u:"1f695",a:"0.6"},{n:["oncoming taxi"],u:"1f696",a:"1.0"},{n:["car","red car","automobile"],u:"1f697",a:"0.6"},{n:["oncoming automobile"],u:"1f698",a:"0.7"},{n:["blue car","recreational vehicle"],u:"1f699",a:"0.6"},{n:["pickup truck"],u:"1f6fb",a:"13.0"},{n:["truck","delivery truck"],u:"1f69a",a:"0.6"},{n:["articulated lorry"],u:"1f69b",a:"1.0"},{n:["tractor"],u:"1f69c",a:"1.0"},{n:["racing car"],u:"1f3ce-fe0f",a:"0.7"},{n:["motorcycle","racing motorcycle"],u:"1f3cd-fe0f",a:"0.7"},{n:["motor scooter"],u:"1f6f5",a:"3.0"},{n:["manual wheelchair"],u:"1f9bd",a:"12.0"},{n:["motorized wheelchair"],u:"1f9bc",a:"12.0"},{n:["auto rickshaw"],u:"1f6fa",a:"12.0"},{n:["bike","bicycle"],u:"1f6b2",a:"0.6"},{n:["scooter"],u:"1f6f4",a:"3.0"},{n:["skateboard"],u:"1f6f9",a:"11.0"},{n:["roller skate"],u:"1f6fc",a:"13.0"},{n:["busstop","bus stop"],u:"1f68f",a:"0.6"},{n:["motorway"],u:"1f6e3-fe0f",a:"0.7"},{n:["railway track"],u:"1f6e4-fe0f",a:"0.7"},{n:["oil drum"],u:"1f6e2-fe0f",a:"0.7"},{n:["fuelpump","fuel pump"],u:"26fd",a:"0.6"},{n:["wheel"],u:"1f6de",a:"14.0"},{n:["rotating light","police cars revolving light"],u:"1f6a8",a:"0.6"},{n:["traffic light","horizontal traffic light"],u:"1f6a5",a:"0.6"},{n:["vertical traffic light"],u:"1f6a6",a:"1.0"},{n:["octagonal sign"],u:"1f6d1",a:"3.0"},{n:["construction","construction sign"],u:"1f6a7",a:"0.6"},{n:["anchor"],u:"2693",a:"0.6"},{n:["ring buoy"],u:"1f6df",a:"14.0"},{n:["boat","sailboat"],u:"26f5",a:"0.6"},{n:["canoe"],u:"1f6f6",a:"3.0"},{n:["speedboat"],u:"1f6a4",a:"0.6"},{n:["passenger ship"],u:"1f6f3-fe0f",a:"0.7"},{n:["ferry"],u:"26f4-fe0f",a:"0.7"},{n:["motor boat"],u:"1f6e5-fe0f",a:"0.7"},{n:["ship"],u:"1f6a2",a:"0.6"},{n:["airplane"],u:"2708-fe0f",a:"0.6"},{n:["small airplane"],u:"1f6e9-fe0f",a:"0.7"},{n:["airplane departure"],u:"1f6eb",a:"1.0"},{n:["airplane arriving"],u:"1f6ec",a:"1.0"},{n:["parachute"],u:"1fa82",a:"12.0"},{n:["seat"],u:"1f4ba",a:"0.6"},{n:["helicopter"],u:"1f681",a:"1.0"},{n:["suspension railway"],u:"1f69f",a:"1.0"},{n:["mountain cableway"],u:"1f6a0",a:"1.0"},{n:["aerial tramway"],u:"1f6a1",a:"1.0"},{n:["satellite"],u:"1f6f0-fe0f",a:"0.7"},{n:["rocket"],u:"1f680",a:"0.6"},{n:["flying saucer"],u:"1f6f8",a:"5.0"},{n:["bellhop bell"],u:"1f6ce-fe0f",a:"0.7"},{n:["luggage"],u:"1f9f3",a:"11.0"},{n:["hourglass"],u:"231b",a:"0.6"},{n:["hourglass flowing sand","hourglass with flowing sand"],u:"23f3",a:"0.6"},{n:["watch"],u:"231a",a:"0.6"},{n:["alarm clock"],u:"23f0",a:"0.6"},{n:["stopwatch"],u:"23f1-fe0f",a:"1.0"},{n:["timer clock"],u:"23f2-fe0f",a:"1.0"},{n:["mantelpiece clock"],u:"1f570-fe0f",a:"0.7"},{n:["clock12","clock face twelve oclock"],u:"1f55b",a:"0.6"},{n:["clock1230","clock face twelve-thirty"],u:"1f567",a:"0.7"},{n:["clock1","clock face one oclock"],u:"1f550",a:"0.6"},{n:["clock130","clock face one-thirty"],u:"1f55c",a:"0.7"},{n:["clock2","clock face two oclock"],u:"1f551",a:"0.6"},{n:["clock230","clock face two-thirty"],u:"1f55d",a:"0.7"},{n:["clock3","clock face three oclock"],u:"1f552",a:"0.6"},{n:["clock330","clock face three-thirty"],u:"1f55e",a:"0.7"},{n:["clock4","clock face four oclock"],u:"1f553",a:"0.6"},{n:["clock430","clock face four-thirty"],u:"1f55f",a:"0.7"},{n:["clock5","clock face five oclock"],u:"1f554",a:"0.6"},{n:["clock530","clock face five-thirty"],u:"1f560",a:"0.7"},{n:["clock6","clock face six oclock"],u:"1f555",a:"0.6"},{n:["clock630","clock face six-thirty"],u:"1f561",a:"0.7"},{n:["clock7","clock face seven oclock"],u:"1f556",a:"0.6"},{n:["clock730","clock face seven-thirty"],u:"1f562",a:"0.7"},{n:["clock8","clock face eight oclock"],u:"1f557",a:"0.6"},{n:["clock830","clock face eight-thirty"],u:"1f563",a:"0.7"},{n:["clock9","clock face nine oclock"],u:"1f558",a:"0.6"},{n:["clock930","clock face nine-thirty"],u:"1f564",a:"0.7"},{n:["clock10","clock face ten oclock"],u:"1f559",a:"0.6"},{n:["clock1030","clock face ten-thirty"],u:"1f565",a:"0.7"},{n:["clock11","clock face eleven oclock"],u:"1f55a",a:"0.6"},{n:["clock1130","clock face eleven-thirty"],u:"1f566",a:"0.7"},{n:["new moon","new moon symbol"],u:"1f311",a:"0.6"},{n:["waxing crescent moon","waxing crescent moon symbol"],u:"1f312",a:"1.0"},{n:["first quarter moon","first quarter moon symbol"],u:"1f313",a:"0.6"},{n:["moon","waxing gibbous moon","waxing gibbous moon symbol"],u:"1f314",a:"0.6"},{n:["full moon","full moon symbol"],u:"1f315",a:"0.6"},{n:["waning gibbous moon","waning gibbous moon symbol"],u:"1f316",a:"1.0"},{n:["last quarter moon","last quarter moon symbol"],u:"1f317",a:"1.0"},{n:["waning crescent moon","waning crescent moon symbol"],u:"1f318",a:"1.0"},{n:["crescent moon"],u:"1f319",a:"0.6"},{n:["new moon with face"],u:"1f31a",a:"1.0"},{n:["first quarter moon with face"],u:"1f31b",a:"0.6"},{n:["last quarter moon with face"],u:"1f31c",a:"0.7"},{n:["thermometer"],u:"1f321-fe0f",a:"0.7"},{n:["sunny","black sun with rays"],u:"2600-fe0f",a:"0.6"},{n:["full moon with face"],u:"1f31d",a:"1.0"},{n:["sun with face"],u:"1f31e",a:"1.0"},{n:["ringed planet"],u:"1fa90",a:"12.0"},{n:["star","white medium star"],u:"2b50",a:"0.6"},{n:["star2","glowing star"],u:"1f31f",a:"0.6"},{n:["stars","shooting star"],u:"1f320",a:"0.6"},{n:["milky way"],u:"1f30c",a:"0.6"},{n:["cloud"],u:"2601-fe0f",a:"0.6"},{n:["partly sunny","sun behind cloud"],u:"26c5",a:"0.6"},{n:["thunder cloud and rain","cloud with lightning and rain"],u:"26c8-fe0f",a:"0.7"},{n:["mostly sunny","sun small cloud","sun behind small cloud"],u:"1f324-fe0f",a:"0.7"},{n:["barely sunny","sun behind cloud","sun behind large cloud"],u:"1f325-fe0f",a:"0.7"},{n:["partly sunny rain","sun behind rain cloud"],u:"1f326-fe0f",a:"0.7"},{n:["rain cloud","cloud with rain"],u:"1f327-fe0f",a:"0.7"},{n:["snow cloud","cloud with snow"],u:"1f328-fe0f",a:"0.7"},{n:["lightning","lightning cloud","cloud with lightning"],u:"1f329-fe0f",a:"0.7"},{n:["tornado","tornado cloud"],u:"1f32a-fe0f",a:"0.7"},{n:["fog"],u:"1f32b-fe0f",a:"0.7"},{n:["wind face","wind blowing face"],u:"1f32c-fe0f",a:"0.7"},{n:["cyclone"],u:"1f300",a:"0.6"},{n:["rainbow"],u:"1f308",a:"0.6"},{n:["closed umbrella"],u:"1f302",a:"0.6"},{n:["umbrella"],u:"2602-fe0f",a:"0.7"},{n:["umbrella with rain drops"],u:"2614",a:"0.6"},{n:["umbrella on ground"],u:"26f1-fe0f",a:"0.7"},{n:["zap","high voltage sign"],u:"26a1",a:"0.6"},{n:["snowflake"],u:"2744-fe0f",a:"0.6"},{n:["snowman"],u:"2603-fe0f",a:"0.7"},{n:["snowman without snow"],u:"26c4",a:"0.6"},{n:["comet"],u:"2604-fe0f",a:"1.0"},{n:["fire"],u:"1f525",a:"0.6"},{n:["droplet"],u:"1f4a7",a:"0.6"},{n:["ocean","water wave"],u:"1f30a",a:"0.6"}],u4=[{n:["jack-o-lantern","jack o lantern"],u:"1f383",a:"0.6"},{n:["christmas tree"],u:"1f384",a:"0.6"},{n:["fireworks"],u:"1f386",a:"0.6"},{n:["sparkler","firework sparkler"],u:"1f387",a:"0.6"},{n:["firecracker"],u:"1f9e8",a:"11.0"},{n:["sparkles"],u:"2728",a:"0.6"},{n:["balloon"],u:"1f388",a:"0.6"},{n:["tada","party popper"],u:"1f389",a:"0.6"},{n:["confetti ball"],u:"1f38a",a:"0.6"},{n:["tanabata tree"],u:"1f38b",a:"0.6"},{n:["bamboo","pine decoration"],u:"1f38d",a:"0.6"},{n:["dolls","japanese dolls"],u:"1f38e",a:"0.6"},{n:["flags","carp streamer"],u:"1f38f",a:"0.6"},{n:["wind chime"],u:"1f390",a:"0.6"},{n:["rice scene","moon viewing ceremony"],u:"1f391",a:"0.6"},{n:["red envelope","red gift envelope"],u:"1f9e7",a:"11.0"},{n:["ribbon"],u:"1f380",a:"0.6"},{n:["gift","wrapped present"],u:"1f381",a:"0.6"},{n:["reminder ribbon"],u:"1f397-fe0f",a:"0.7"},{n:["admission tickets"],u:"1f39f-fe0f",a:"0.7"},{n:["ticket"],u:"1f3ab",a:"0.6"},{n:["medal","military medal"],u:"1f396-fe0f",a:"0.7"},{n:["trophy"],u:"1f3c6",a:"0.6"},{n:["sports medal"],u:"1f3c5",a:"1.0"},{n:["first place medal"],u:"1f947",a:"3.0"},{n:["second place medal"],u:"1f948",a:"3.0"},{n:["third place medal"],u:"1f949",a:"3.0"},{n:["soccer","soccer ball"],u:"26bd",a:"0.6"},{n:["baseball"],u:"26be",a:"0.6"},{n:["softball"],u:"1f94e",a:"11.0"},{n:["basketball","basketball and hoop"],u:"1f3c0",a:"0.6"},{n:["volleyball"],u:"1f3d0",a:"1.0"},{n:["football","american football"],u:"1f3c8",a:"0.6"},{n:["rugby football"],u:"1f3c9",a:"1.0"},{n:["tennis","tennis racquet and ball"],u:"1f3be",a:"0.6"},{n:["flying disc"],u:"1f94f",a:"11.0"},{n:["bowling"],u:"1f3b3",a:"0.6"},{n:["cricket bat and ball"],u:"1f3cf",a:"1.0"},{n:["field hockey stick and ball"],u:"1f3d1",a:"1.0"},{n:["ice hockey stick and puck"],u:"1f3d2",a:"1.0"},{n:["lacrosse","lacrosse stick and ball"],u:"1f94d",a:"11.0"},{n:["table tennis paddle and ball"],u:"1f3d3",a:"1.0"},{n:["badminton racquet and shuttlecock"],u:"1f3f8",a:"1.0"},{n:["boxing glove"],u:"1f94a",a:"3.0"},{n:["martial arts uniform"],u:"1f94b",a:"3.0"},{n:["goal net"],u:"1f945",a:"3.0"},{n:["golf","flag in hole"],u:"26f3",a:"0.6"},{n:["ice skate"],u:"26f8-fe0f",a:"0.7"},{n:["fishing pole and fish"],u:"1f3a3",a:"0.6"},{n:["diving mask"],u:"1f93f",a:"12.0"},{n:["running shirt with sash"],u:"1f3bd",a:"0.6"},{n:["ski","ski and ski boot"],u:"1f3bf",a:"0.6"},{n:["sled"],u:"1f6f7",a:"5.0"},{n:["curling stone"],u:"1f94c",a:"5.0"},{n:["dart","direct hit"],u:"1f3af",a:"0.6"},{n:["yo-yo"],u:"1fa80",a:"12.0"},{n:["kite"],u:"1fa81",a:"12.0"},{n:["8ball","billiards"],u:"1f3b1",a:"0.6"},{n:["crystal ball"],u:"1f52e",a:"0.6"},{n:["magic wand"],u:"1fa84",a:"13.0"},{n:["nazar amulet"],u:"1f9ff",a:"11.0"},{n:["hamsa"],u:"1faac",a:"14.0"},{n:["video game"],u:"1f3ae",a:"0.6"},{n:["joystick"],u:"1f579-fe0f",a:"0.7"},{n:["slot machine"],u:"1f3b0",a:"0.6"},{n:["game die"],u:"1f3b2",a:"0.6"},{n:["jigsaw","jigsaw puzzle piece"],u:"1f9e9",a:"11.0"},{n:["teddy bear"],u:"1f9f8",a:"11.0"},{n:["pinata"],u:"1fa85",a:"13.0"},{n:["mirror ball"],u:"1faa9",a:"14.0"},{n:["nesting dolls"],u:"1fa86",a:"13.0"},{n:["spades","black spade suit"],u:"2660-fe0f",a:"0.6"},{n:["hearts","black heart suit"],u:"2665-fe0f",a:"0.6"},{n:["diamonds","black diamond suit"],u:"2666-fe0f",a:"0.6"},{n:["clubs","black club suit"],u:"2663-fe0f",a:"0.6"},{n:["chess pawn"],u:"265f-fe0f",a:"11.0"},{n:["black joker","playing card black joker"],u:"1f0cf",a:"0.6"},{n:["mahjong","mahjong tile red dragon"],u:"1f004",a:"0.6"},{n:["flower playing cards"],u:"1f3b4",a:"0.6"},{n:["performing arts"],u:"1f3ad",a:"0.6"},{n:["framed picture","frame with picture"],u:"1f5bc-fe0f",a:"0.7"},{n:["art","artist palette"],u:"1f3a8",a:"0.6"},{n:["thread","spool of thread"],u:"1f9f5",a:"11.0"},{n:["sewing needle"],u:"1faa1",a:"13.0"},{n:["yarn","ball of yarn"],u:"1f9f6",a:"11.0"},{n:["knot"],u:"1faa2",a:"13.0"}],d4=[{n:["eyeglasses"],u:"1f453",a:"0.6"},{n:["sunglasses","dark sunglasses"],u:"1f576-fe0f",a:"0.7"},{n:["goggles"],u:"1f97d",a:"11.0"},{n:["lab coat"],u:"1f97c",a:"11.0"},{n:["safety vest"],u:"1f9ba",a:"12.0"},{n:["necktie"],u:"1f454",a:"0.6"},{n:["shirt","tshirt","t-shirt"],u:"1f455",a:"0.6"},{n:["jeans"],u:"1f456",a:"0.6"},{n:["scarf"],u:"1f9e3",a:"5.0"},{n:["gloves"],u:"1f9e4",a:"5.0"},{n:["coat"],u:"1f9e5",a:"5.0"},{n:["socks"],u:"1f9e6",a:"5.0"},{n:["dress"],u:"1f457",a:"0.6"},{n:["kimono"],u:"1f458",a:"0.6"},{n:["sari"],u:"1f97b",a:"12.0"},{n:["one-piece swimsuit"],u:"1fa71",a:"12.0"},{n:["briefs"],u:"1fa72",a:"12.0"},{n:["shorts"],u:"1fa73",a:"12.0"},{n:["bikini"],u:"1f459",a:"0.6"},{n:["womans clothes"],u:"1f45a",a:"0.6"},{n:["purse"],u:"1f45b",a:"0.6"},{n:["handbag"],u:"1f45c",a:"0.6"},{n:["pouch"],u:"1f45d",a:"0.6"},{n:["shopping bags"],u:"1f6cd-fe0f",a:"0.7"},{n:["school satchel"],u:"1f392",a:"0.6"},{n:["thong sandal"],u:"1fa74",a:"13.0"},{n:["shoe","mans shoe"],u:"1f45e",a:"0.6"},{n:["athletic shoe"],u:"1f45f",a:"0.6"},{n:["hiking boot"],u:"1f97e",a:"11.0"},{n:["flat shoe","womans flat shoe"],u:"1f97f",a:"11.0"},{n:["high heel","high-heeled shoe"],u:"1f460",a:"0.6"},{n:["sandal","womans sandal"],u:"1f461",a:"0.6"},{n:["ballet shoes"],u:"1fa70",a:"12.0"},{n:["boot","womans boots"],u:"1f462",a:"0.6"},{n:["crown"],u:"1f451",a:"0.6"},{n:["womans hat"],u:"1f452",a:"0.6"},{n:["tophat","top hat"],u:"1f3a9",a:"0.6"},{n:["mortar board","graduation cap"],u:"1f393",a:"0.6"},{n:["billed cap"],u:"1f9e2",a:"5.0"},{n:["military helmet"],u:"1fa96",a:"13.0"},{n:["rescue workers helmet","helmet with white cross"],u:"26d1-fe0f",a:"0.7"},{n:["prayer beads"],u:"1f4ff",a:"1.0"},{n:["lipstick"],u:"1f484",a:"0.6"},{n:["ring"],u:"1f48d",a:"0.6"},{n:["gem","gem stone"],u:"1f48e",a:"0.6"},{n:["mute","speaker with cancellation stroke"],u:"1f507",a:"1.0"},{n:["speaker"],u:"1f508",a:"0.7"},{n:["sound","speaker with one sound wave"],u:"1f509",a:"1.0"},{n:["loud sound","speaker with three sound waves"],u:"1f50a",a:"0.6"},{n:["loudspeaker","public address loudspeaker"],u:"1f4e2",a:"0.6"},{n:["mega","cheering megaphone"],u:"1f4e3",a:"0.6"},{n:["postal horn"],u:"1f4ef",a:"1.0"},{n:["bell"],u:"1f514",a:"0.6"},{n:["no bell","bell with cancellation stroke"],u:"1f515",a:"1.0"},{n:["musical score"],u:"1f3bc",a:"0.6"},{n:["musical note"],u:"1f3b5",a:"0.6"},{n:["notes","multiple musical notes"],u:"1f3b6",a:"0.6"},{n:["studio microphone"],u:"1f399-fe0f",a:"0.7"},{n:["level slider"],u:"1f39a-fe0f",a:"0.7"},{n:["control knobs"],u:"1f39b-fe0f",a:"0.7"},{n:["microphone"],u:"1f3a4",a:"0.6"},{n:["headphone","headphones"],u:"1f3a7",a:"0.6"},{n:["radio"],u:"1f4fb",a:"0.6"},{n:["saxophone"],u:"1f3b7",a:"0.6"},{n:["accordion"],u:"1fa97",a:"13.0"},{n:["guitar"],u:"1f3b8",a:"0.6"},{n:["musical keyboard"],u:"1f3b9",a:"0.6"},{n:["trumpet"],u:"1f3ba",a:"0.6"},{n:["violin"],u:"1f3bb",a:"0.6"},{n:["banjo"],u:"1fa95",a:"12.0"},{n:["drum with drumsticks"],u:"1f941",a:"3.0"},{n:["long drum"],u:"1fa98",a:"13.0"},{n:["iphone","mobile phone"],u:"1f4f1",a:"0.6"},{n:["calling","mobile phone with rightwards arrow at left"],u:"1f4f2",a:"0.6"},{n:["phone","telephone","black telephone"],u:"260e-fe0f",a:"0.6"},{n:["telephone receiver"],u:"1f4de",a:"0.6"},{n:["pager"],u:"1f4df",a:"0.6"},{n:["fax","fax machine"],u:"1f4e0",a:"0.6"},{n:["battery"],u:"1f50b",a:"0.6"},{n:["low battery"],u:"1faab",a:"14.0"},{n:["electric plug"],u:"1f50c",a:"0.6"},{n:["computer","personal computer"],u:"1f4bb",a:"0.6"},{n:["desktop computer"],u:"1f5a5-fe0f",a:"0.7"},{n:["printer"],u:"1f5a8-fe0f",a:"0.7"},{n:["keyboard"],u:"2328-fe0f",a:"1.0"},{n:["computer mouse","three button mouse"],u:"1f5b1-fe0f",a:"0.7"},{n:["trackball"],u:"1f5b2-fe0f",a:"0.7"},{n:["minidisc"],u:"1f4bd",a:"0.6"},{n:["floppy disk"],u:"1f4be",a:"0.6"},{n:["cd","optical disc"],u:"1f4bf",a:"0.6"},{n:["dvd"],u:"1f4c0",a:"0.6"},{n:["abacus"],u:"1f9ee",a:"11.0"},{n:["movie camera"],u:"1f3a5",a:"0.6"},{n:["film frames"],u:"1f39e-fe0f",a:"0.7"},{n:["film projector"],u:"1f4fd-fe0f",a:"0.7"},{n:["clapper","clapper board"],u:"1f3ac",a:"0.6"},{n:["tv","television"],u:"1f4fa",a:"0.6"},{n:["camera"],u:"1f4f7",a:"0.6"},{n:["camera with flash"],u:"1f4f8",a:"1.0"},{n:["video camera"],u:"1f4f9",a:"0.6"},{n:["vhs","videocassette"],u:"1f4fc",a:"0.6"},{n:["mag","left-pointing magnifying glass"],u:"1f50d",a:"0.6"},{n:["mag right","right-pointing magnifying glass"],u:"1f50e",a:"0.6"},{n:["candle"],u:"1f56f-fe0f",a:"0.7"},{n:["bulb","electric light bulb"],u:"1f4a1",a:"0.6"},{n:["flashlight","electric torch"],u:"1f526",a:"0.6"},{n:["lantern","izakaya lantern"],u:"1f3ee",a:"0.6"},{n:["diya lamp"],u:"1fa94",a:"12.0"},{n:["notebook with decorative cover"],u:"1f4d4",a:"0.6"},{n:["closed book"],u:"1f4d5",a:"0.6"},{n:["book","open book"],u:"1f4d6",a:"0.6"},{n:["green book"],u:"1f4d7",a:"0.6"},{n:["blue book"],u:"1f4d8",a:"0.6"},{n:["orange book"],u:"1f4d9",a:"0.6"},{n:["books"],u:"1f4da",a:"0.6"},{n:["notebook"],u:"1f4d3",a:"0.6"},{n:["ledger"],u:"1f4d2",a:"0.6"},{n:["page with curl"],u:"1f4c3",a:"0.6"},{n:["scroll"],u:"1f4dc",a:"0.6"},{n:["page facing up"],u:"1f4c4",a:"0.6"},{n:["newspaper"],u:"1f4f0",a:"0.6"},{n:["rolled-up newspaper","rolled up newspaper"],u:"1f5de-fe0f",a:"0.7"},{n:["bookmark tabs"],u:"1f4d1",a:"0.6"},{n:["bookmark"],u:"1f516",a:"0.6"},{n:["label"],u:"1f3f7-fe0f",a:"0.7"},{n:["moneybag","money bag"],u:"1f4b0",a:"0.6"},{n:["coin"],u:"1fa99",a:"13.0"},{n:["yen","banknote with yen sign"],u:"1f4b4",a:"0.6"},{n:["dollar","banknote with dollar sign"],u:"1f4b5",a:"0.6"},{n:["euro","banknote with euro sign"],u:"1f4b6",a:"1.0"},{n:["pound","banknote with pound sign"],u:"1f4b7",a:"1.0"},{n:["money with wings"],u:"1f4b8",a:"0.6"},{n:["credit card"],u:"1f4b3",a:"0.6"},{n:["receipt"],u:"1f9fe",a:"11.0"},{n:["chart","chart with upwards trend and yen sign"],u:"1f4b9",a:"0.6"},{n:["email","envelope"],u:"2709-fe0f",a:"0.6"},{n:["e-mail","e-mail symbol"],u:"1f4e7",a:"0.6"},{n:["incoming envelope"],u:"1f4e8",a:"0.6"},{n:["envelope with arrow","envelope with downwards arrow above"],u:"1f4e9",a:"0.6"},{n:["outbox tray"],u:"1f4e4",a:"0.6"},{n:["inbox tray"],u:"1f4e5",a:"0.6"},{n:["package"],u:"1f4e6",a:"0.6"},{n:["mailbox","closed mailbox with raised flag"],u:"1f4eb",a:"0.6"},{n:["mailbox closed","closed mailbox with lowered flag"],u:"1f4ea",a:"0.6"},{n:["mailbox with mail","open mailbox with raised flag"],u:"1f4ec",a:"0.7"},{n:["mailbox with no mail","open mailbox with lowered flag"],u:"1f4ed",a:"0.7"},{n:["postbox"],u:"1f4ee",a:"0.6"},{n:["ballot box with ballot"],u:"1f5f3-fe0f",a:"0.7"},{n:["pencil","pencil2"],u:"270f-fe0f",a:"0.6"},{n:["black nib"],u:"2712-fe0f",a:"0.6"},{n:["fountain pen","lower left fountain pen"],u:"1f58b-fe0f",a:"0.7"},{n:["pen","lower left ballpoint pen"],u:"1f58a-fe0f",a:"0.7"},{n:["paintbrush","lower left paintbrush"],u:"1f58c-fe0f",a:"0.7"},{n:["crayon","lower left crayon"],u:"1f58d-fe0f",a:"0.7"},{n:["memo","pencil"],u:"1f4dd",a:"0.6"},{n:["briefcase"],u:"1f4bc",a:"0.6"},{n:["file folder"],u:"1f4c1",a:"0.6"},{n:["open file folder"],u:"1f4c2",a:"0.6"},{n:["card index dividers"],u:"1f5c2-fe0f",a:"0.7"},{n:["date","calendar"],u:"1f4c5",a:"0.6"},{n:["calendar","tear-off calendar"],u:"1f4c6",a:"0.6"},{n:["spiral notepad","spiral note pad"],u:"1f5d2-fe0f",a:"0.7"},{n:["spiral calendar","spiral calendar pad"],u:"1f5d3-fe0f",a:"0.7"},{n:["card index"],u:"1f4c7",a:"0.6"},{n:["chart with upwards trend"],u:"1f4c8",a:"0.6"},{n:["chart with downwards trend"],u:"1f4c9",a:"0.6"},{n:["bar chart"],u:"1f4ca",a:"0.6"},{n:["clipboard"],u:"1f4cb",a:"0.6"},{n:["pushpin"],u:"1f4cc",a:"0.6"},{n:["round pushpin"],u:"1f4cd",a:"0.6"},{n:["paperclip"],u:"1f4ce",a:"0.6"},{n:["linked paperclips"],u:"1f587-fe0f",a:"0.7"},{n:["straight ruler"],u:"1f4cf",a:"0.6"},{n:["triangular ruler"],u:"1f4d0",a:"0.6"},{n:["scissors","black scissors"],u:"2702-fe0f",a:"0.6"},{n:["card file box"],u:"1f5c3-fe0f",a:"0.7"},{n:["file cabinet"],u:"1f5c4-fe0f",a:"0.7"},{n:["wastebasket"],u:"1f5d1-fe0f",a:"0.7"},{n:["lock"],u:"1f512",a:"0.6"},{n:["unlock","open lock"],u:"1f513",a:"0.6"},{n:["lock with ink pen"],u:"1f50f",a:"0.6"},{n:["closed lock with key"],u:"1f510",a:"0.6"},{n:["key"],u:"1f511",a:"0.6"},{n:["old key"],u:"1f5dd-fe0f",a:"0.7"},{n:["hammer"],u:"1f528",a:"0.6"},{n:["axe"],u:"1fa93",a:"12.0"},{n:["pick"],u:"26cf-fe0f",a:"0.7"},{n:["hammer and pick"],u:"2692-fe0f",a:"1.0"},{n:["hammer and wrench"],u:"1f6e0-fe0f",a:"0.7"},{n:["dagger","dagger knife"],u:"1f5e1-fe0f",a:"0.7"},{n:["crossed swords"],u:"2694-fe0f",a:"1.0"},{n:["gun","pistol"],u:"1f52b",a:"0.6"},{n:["boomerang"],u:"1fa83",a:"13.0"},{n:["bow and arrow"],u:"1f3f9",a:"1.0"},{n:["shield"],u:"1f6e1-fe0f",a:"0.7"},{n:["carpentry saw"],u:"1fa9a",a:"13.0"},{n:["wrench"],u:"1f527",a:"0.6"},{n:["screwdriver"],u:"1fa9b",a:"13.0"},{n:["nut and bolt"],u:"1f529",a:"0.6"},{n:["gear"],u:"2699-fe0f",a:"1.0"},{n:["clamp","compression"],u:"1f5dc-fe0f",a:"0.7"},{n:["scales","balance scale"],u:"2696-fe0f",a:"1.0"},{n:["probing cane"],u:"1f9af",a:"12.0"},{n:["link","link symbol"],u:"1f517",a:"0.6"},{n:["chains"],u:"26d3-fe0f",a:"0.7"},{n:["hook"],u:"1fa9d",a:"13.0"},{n:["toolbox"],u:"1f9f0",a:"11.0"},{n:["magnet"],u:"1f9f2",a:"11.0"},{n:["ladder"],u:"1fa9c",a:"13.0"},{n:["alembic"],u:"2697-fe0f",a:"1.0"},{n:["test tube"],u:"1f9ea",a:"11.0"},{n:["petri dish"],u:"1f9eb",a:"11.0"},{n:["dna","dna double helix"],u:"1f9ec",a:"11.0"},{n:["microscope"],u:"1f52c",a:"1.0"},{n:["telescope"],u:"1f52d",a:"1.0"},{n:["satellite antenna"],u:"1f4e1",a:"0.6"},{n:["syringe"],u:"1f489",a:"0.6"},{n:["drop of blood"],u:"1fa78",a:"12.0"},{n:["pill"],u:"1f48a",a:"0.6"},{n:["adhesive bandage"],u:"1fa79",a:"12.0"},{n:["crutch"],u:"1fa7c",a:"14.0"},{n:["stethoscope"],u:"1fa7a",a:"12.0"},{n:["x-ray"],u:"1fa7b",a:"14.0"},{n:["door"],u:"1f6aa",a:"0.6"},{n:["elevator"],u:"1f6d7",a:"13.0"},{n:["mirror"],u:"1fa9e",a:"13.0"},{n:["window"],u:"1fa9f",a:"13.0"},{n:["bed"],u:"1f6cf-fe0f",a:"0.7"},{n:["couch and lamp"],u:"1f6cb-fe0f",a:"0.7"},{n:["chair"],u:"1fa91",a:"12.0"},{n:["toilet"],u:"1f6bd",a:"0.6"},{n:["plunger"],u:"1faa0",a:"13.0"},{n:["shower"],u:"1f6bf",a:"1.0"},{n:["bathtub"],u:"1f6c1",a:"1.0"},{n:["mouse trap"],u:"1faa4",a:"13.0"},{n:["razor"],u:"1fa92",a:"12.0"},{n:["lotion bottle"],u:"1f9f4",a:"11.0"},{n:["safety pin"],u:"1f9f7",a:"11.0"},{n:["broom"],u:"1f9f9",a:"11.0"},{n:["basket"],u:"1f9fa",a:"11.0"},{n:["roll of paper"],u:"1f9fb",a:"11.0"},{n:["bucket"],u:"1faa3",a:"13.0"},{n:["soap","bar of soap"],u:"1f9fc",a:"11.0"},{n:["bubbles"],u:"1fae7",a:"14.0"},{n:["toothbrush"],u:"1faa5",a:"13.0"},{n:["sponge"],u:"1f9fd",a:"11.0"},{n:["fire extinguisher"],u:"1f9ef",a:"11.0"},{n:["shopping trolley"],u:"1f6d2",a:"3.0"},{n:["smoking","smoking symbol"],u:"1f6ac",a:"0.6"},{n:["coffin"],u:"26b0-fe0f",a:"1.0"},{n:["headstone"],u:"1faa6",a:"13.0"},{n:["funeral urn"],u:"26b1-fe0f",a:"1.0"},{n:["moyai"],u:"1f5ff",a:"0.6"},{n:["placard"],u:"1faa7",a:"13.0"},{n:["identification card"],u:"1faaa",a:"14.0"}],h4=[{n:["atm","automated teller machine"],u:"1f3e7",a:"0.6"},{n:["put litter in its place","put litter in its place symbol"],u:"1f6ae",a:"1.0"},{n:["potable water","potable water symbol"],u:"1f6b0",a:"1.0"},{n:["wheelchair","wheelchair symbol"],u:"267f",a:"0.6"},{n:["mens","mens symbol"],u:"1f6b9",a:"0.6"},{n:["womens","womens symbol"],u:"1f6ba",a:"0.6"},{n:["restroom"],u:"1f6bb",a:"0.6"},{n:["baby symbol"],u:"1f6bc",a:"0.6"},{n:["wc","water closet"],u:"1f6be",a:"0.6"},{n:["passport control"],u:"1f6c2",a:"1.0"},{n:["customs"],u:"1f6c3",a:"1.0"},{n:["baggage claim"],u:"1f6c4",a:"1.0"},{n:["left luggage"],u:"1f6c5",a:"1.0"},{n:["warning","warning sign"],u:"26a0-fe0f",a:"0.6"},{n:["children crossing"],u:"1f6b8",a:"1.0"},{n:["no entry"],u:"26d4",a:"0.6"},{n:["no entry sign"],u:"1f6ab",a:"0.6"},{n:["no bicycles"],u:"1f6b3",a:"1.0"},{n:["no smoking","no smoking symbol"],u:"1f6ad",a:"0.6"},{n:["do not litter","do not litter symbol"],u:"1f6af",a:"1.0"},{n:["non-potable water","non-potable water symbol"],u:"1f6b1",a:"1.0"},{n:["no pedestrians"],u:"1f6b7",a:"1.0"},{n:["no mobile phones"],u:"1f4f5",a:"1.0"},{n:["underage","no one under eighteen symbol"],u:"1f51e",a:"0.6"},{n:["radioactive","radioactive sign"],u:"2622-fe0f",a:"1.0"},{n:["biohazard","biohazard sign"],u:"2623-fe0f",a:"1.0"},{n:["arrow up","upwards black arrow"],u:"2b06-fe0f",a:"0.6"},{n:["north east arrow","arrow upper right"],u:"2197-fe0f",a:"0.6"},{n:["arrow right","black rightwards arrow"],u:"27a1-fe0f",a:"0.6"},{n:["south east arrow","arrow lower right"],u:"2198-fe0f",a:"0.6"},{n:["arrow down","downwards black arrow"],u:"2b07-fe0f",a:"0.6"},{n:["south west arrow","arrow lower left"],u:"2199-fe0f",a:"0.6"},{n:["arrow left","leftwards black arrow"],u:"2b05-fe0f",a:"0.6"},{n:["north west arrow","arrow upper left"],u:"2196-fe0f",a:"0.6"},{n:["up down arrow","arrow up down"],u:"2195-fe0f",a:"0.6"},{n:["left right arrow"],u:"2194-fe0f",a:"0.6"},{n:["leftwards arrow with hook"],u:"21a9-fe0f",a:"0.6"},{n:["arrow right hook","rightwards arrow with hook"],u:"21aa-fe0f",a:"0.6"},{n:["arrow heading up","arrow pointing rightwards then curving upwards"],u:"2934-fe0f",a:"0.6"},{n:["arrow heading down","arrow pointing rightwards then curving downwards"],u:"2935-fe0f",a:"0.6"},{n:["arrows clockwise","clockwise downwards and upwards open circle arrows"],u:"1f503",a:"0.6"},{n:["arrows counterclockwise","anticlockwise downwards and upwards open circle arrows"],u:"1f504",a:"1.0"},{n:["back","back with leftwards arrow above"],u:"1f519",a:"0.6"},{n:["end","end with leftwards arrow above"],u:"1f51a",a:"0.6"},{n:["on","on with exclamation mark with left right arrow above"],u:"1f51b",a:"0.6"},{n:["soon","soon with rightwards arrow above"],u:"1f51c",a:"0.6"},{n:["top","top with upwards arrow above"],u:"1f51d",a:"0.6"},{n:["place of worship"],u:"1f6d0",a:"1.0"},{n:["atom symbol"],u:"269b-fe0f",a:"1.0"},{n:["om","om symbol"],u:"1f549-fe0f",a:"0.7"},{n:["star of david"],u:"2721-fe0f",a:"0.7"},{n:["wheel of dharma"],u:"2638-fe0f",a:"0.7"},{n:["yin yang"],u:"262f-fe0f",a:"0.7"},{n:["latin cross"],u:"271d-fe0f",a:"0.7"},{n:["orthodox cross"],u:"2626-fe0f",a:"1.0"},{n:["star and crescent"],u:"262a-fe0f",a:"0.7"},{n:["peace symbol"],u:"262e-fe0f",a:"1.0"},{n:["menorah with nine branches"],u:"1f54e",a:"1.0"},{n:["six pointed star","six pointed star with middle dot"],u:"1f52f",a:"0.6"},{n:["aries"],u:"2648",a:"0.6"},{n:["taurus"],u:"2649",a:"0.6"},{n:["gemini"],u:"264a",a:"0.6"},{n:["cancer"],u:"264b",a:"0.6"},{n:["leo"],u:"264c",a:"0.6"},{n:["virgo"],u:"264d",a:"0.6"},{n:["libra"],u:"264e",a:"0.6"},{n:["scorpius"],u:"264f",a:"0.6"},{n:["sagittarius"],u:"2650",a:"0.6"},{n:["capricorn"],u:"2651",a:"0.6"},{n:["aquarius"],u:"2652",a:"0.6"},{n:["pisces"],u:"2653",a:"0.6"},{n:["ophiuchus"],u:"26ce",a:"0.6"},{n:["twisted rightwards arrows"],u:"1f500",a:"1.0"},{n:["repeat","clockwise rightwards and leftwards open circle arrows"],u:"1f501",a:"1.0"},{n:["repeat one","clockwise rightwards and leftwards open circle arrows with circled one overlay"],u:"1f502",a:"1.0"},{n:["arrow forward","black right-pointing triangle"],u:"25b6-fe0f",a:"0.6"},{n:["fast forward","black right-pointing double triangle"],u:"23e9",a:"0.6"},{n:["next track button","black right pointing double triangle with vertical bar"],u:"23ed-fe0f",a:"0.7"},{n:["play or pause button","black right pointing triangle with double vertical bar"],u:"23ef-fe0f",a:"1.0"},{n:["arrow backward","black left-pointing triangle"],u:"25c0-fe0f",a:"0.6"},{n:["rewind","black left-pointing double triangle"],u:"23ea",a:"0.6"},{n:["last track button","black left pointing double triangle with vertical bar"],u:"23ee-fe0f",a:"0.7"},{n:["arrow up small","up-pointing small red triangle"],u:"1f53c",a:"0.6"},{n:["arrow double up","black up-pointing double triangle"],u:"23eb",a:"0.6"},{n:["arrow down small","down-pointing small red triangle"],u:"1f53d",a:"0.6"},{n:["arrow double down","black down-pointing double triangle"],u:"23ec",a:"0.6"},{n:["pause button","double vertical bar"],u:"23f8-fe0f",a:"0.7"},{n:["stop button","black square for stop"],u:"23f9-fe0f",a:"0.7"},{n:["record button","black circle for record"],u:"23fa-fe0f",a:"0.7"},{n:["eject","eject button"],u:"23cf-fe0f",a:"1.0"},{n:["cinema"],u:"1f3a6",a:"0.6"},{n:["low brightness","low brightness symbol"],u:"1f505",a:"1.0"},{n:["high brightness","high brightness symbol"],u:"1f506",a:"1.0"},{n:["signal strength","antenna with bars"],u:"1f4f6",a:"0.6"},{n:["vibration mode"],u:"1f4f3",a:"0.6"},{n:["mobile phone off"],u:"1f4f4",a:"0.6"},{n:["female sign"],u:"2640-fe0f",a:"4.0"},{n:["male sign"],u:"2642-fe0f",a:"4.0"},{n:["transgender symbol"],u:"26a7-fe0f",a:"13.0"},{n:["heavy multiplication x"],u:"2716-fe0f",a:"0.6"},{n:["heavy plus sign"],u:"2795",a:"0.6"},{n:["heavy minus sign"],u:"2796",a:"0.6"},{n:["heavy division sign"],u:"2797",a:"0.6"},{n:["heavy equals sign"],u:"1f7f0",a:"14.0"},{n:["infinity"],u:"267e-fe0f",a:"11.0"},{n:["bangbang","double exclamation mark"],u:"203c-fe0f",a:"0.6"},{n:["interrobang","exclamation question mark"],u:"2049-fe0f",a:"0.6"},{n:["question","black question mark ornament"],u:"2753",a:"0.6"},{n:["grey question","white question mark ornament"],u:"2754",a:"0.6"},{n:["grey exclamation","white exclamation mark ornament"],u:"2755",a:"0.6"},{n:["exclamation","heavy exclamation mark","heavy exclamation mark symbol"],u:"2757",a:"0.6"},{n:["wavy dash"],u:"3030-fe0f",a:"0.6"},{n:["currency exchange"],u:"1f4b1",a:"0.6"},{n:["heavy dollar sign"],u:"1f4b2",a:"0.6"},{n:["medical symbol","staff of aesculapius"],u:"2695-fe0f",a:"4.0"},{n:["recycle","black universal recycling symbol"],u:"267b-fe0f",a:"0.6"},{n:["fleur-de-lis","fleur de lis"],u:"269c-fe0f",a:"1.0"},{n:["trident","trident emblem"],u:"1f531",a:"0.6"},{n:["name badge"],u:"1f4db",a:"0.6"},{n:["beginner","japanese symbol for beginner"],u:"1f530",a:"0.6"},{n:["o","heavy large circle"],u:"2b55",a:"0.6"},{n:["white check mark","white heavy check mark"],u:"2705",a:"0.6"},{n:["ballot box with check"],u:"2611-fe0f",a:"0.6"},{n:["heavy check mark"],u:"2714-fe0f",a:"0.6"},{n:["x","cross mark"],u:"274c",a:"0.6"},{n:["negative squared cross mark"],u:"274e",a:"0.6"},{n:["curly loop"],u:"27b0",a:"0.6"},{n:["loop","double curly loop"],u:"27bf",a:"1.0"},{n:["part alternation mark"],u:"303d-fe0f",a:"0.6"},{n:["eight spoked asterisk"],u:"2733-fe0f",a:"0.6"},{n:["eight pointed black star"],u:"2734-fe0f",a:"0.6"},{n:["sparkle"],u:"2747-fe0f",a:"0.6"},{n:["copyright","copyright sign"],u:"00a9-fe0f",a:"0.6"},{n:["registered","registered sign"],u:"00ae-fe0f",a:"0.6"},{n:["tm","trade mark sign"],u:"2122-fe0f",a:"0.6"},{n:["hash","hash key"],u:"0023-fe0f-20e3",a:"0.6"},{n:["keycap: *","keycap star"],u:"002a-fe0f-20e3",a:"2.0"},{n:["zero","keycap 0"],u:"0030-fe0f-20e3",a:"0.6"},{n:["one","keycap 1"],u:"0031-fe0f-20e3",a:"0.6"},{n:["two","keycap 2"],u:"0032-fe0f-20e3",a:"0.6"},{n:["three","keycap 3"],u:"0033-fe0f-20e3",a:"0.6"},{n:["four","keycap 4"],u:"0034-fe0f-20e3",a:"0.6"},{n:["five","keycap 5"],u:"0035-fe0f-20e3",a:"0.6"},{n:["six","keycap 6"],u:"0036-fe0f-20e3",a:"0.6"},{n:["seven","keycap 7"],u:"0037-fe0f-20e3",a:"0.6"},{n:["eight","keycap 8"],u:"0038-fe0f-20e3",a:"0.6"},{n:["nine","keycap 9"],u:"0039-fe0f-20e3",a:"0.6"},{n:["keycap ten"],u:"1f51f",a:"0.6"},{n:["capital abcd","input symbol for latin capital letters"],u:"1f520",a:"0.6"},{n:["abcd","input symbol for latin small letters"],u:"1f521",a:"0.6"},{n:["1234","input symbol for numbers"],u:"1f522",a:"0.6"},{n:["symbols","input symbol for symbols"],u:"1f523",a:"0.6"},{n:["abc","input symbol for latin letters"],u:"1f524",a:"0.6"},{n:["a","negative squared latin capital letter a"],u:"1f170-fe0f",a:"0.6"},{n:["ab","negative squared ab"],u:"1f18e",a:"0.6"},{n:["b","negative squared latin capital letter b"],u:"1f171-fe0f",a:"0.6"},{n:["cl","squared cl"],u:"1f191",a:"0.6"},{n:["cool","squared cool"],u:"1f192",a:"0.6"},{n:["free","squared free"],u:"1f193",a:"0.6"},{n:["information source"],u:"2139-fe0f",a:"0.6"},{n:["id","squared id"],u:"1f194",a:"0.6"},{n:["m","circled latin capital letter m"],u:"24c2-fe0f",a:"0.6"},{n:["new","squared new"],u:"1f195",a:"0.6"},{n:["ng","squared ng"],u:"1f196",a:"0.6"},{n:["o2","negative squared latin capital letter o"],u:"1f17e-fe0f",a:"0.6"},{n:["ok","squared ok"],u:"1f197",a:"0.6"},{n:["parking","negative squared latin capital letter p"],u:"1f17f-fe0f",a:"0.6"},{n:["sos","squared sos"],u:"1f198",a:"0.6"},{n:["up","squared up with exclamation mark"],u:"1f199",a:"0.6"},{n:["vs","squared vs"],u:"1f19a",a:"0.6"},{n:["koko","squared katakana koko"],u:"1f201",a:"0.6"},{n:["sa","squared katakana sa"],u:"1f202-fe0f",a:"0.6"},{n:["u6708","squared cjk unified ideograph-6708"],u:"1f237-fe0f",a:"0.6"},{n:["u6709","squared cjk unified ideograph-6709"],u:"1f236",a:"0.6"},{n:["u6307","squared cjk unified ideograph-6307"],u:"1f22f",a:"0.6"},{n:["ideograph advantage","circled ideograph advantage"],u:"1f250",a:"0.6"},{n:["u5272","squared cjk unified ideograph-5272"],u:"1f239",a:"0.6"},{n:["u7121","squared cjk unified ideograph-7121"],u:"1f21a",a:"0.6"},{n:["u7981","squared cjk unified ideograph-7981"],u:"1f232",a:"0.6"},{n:["accept","circled ideograph accept"],u:"1f251",a:"0.6"},{n:["u7533","squared cjk unified ideograph-7533"],u:"1f238",a:"0.6"},{n:["u5408","squared cjk unified ideograph-5408"],u:"1f234",a:"0.6"},{n:["u7a7a","squared cjk unified ideograph-7a7a"],u:"1f233",a:"0.6"},{n:["congratulations","circled ideograph congratulation"],u:"3297-fe0f",a:"0.6"},{n:["secret","circled ideograph secret"],u:"3299-fe0f",a:"0.6"},{n:["u55b6","squared cjk unified ideograph-55b6"],u:"1f23a",a:"0.6"},{n:["u6e80","squared cjk unified ideograph-6e80"],u:"1f235",a:"0.6"},{n:["red circle","large red circle"],u:"1f534",a:"0.6"},{n:["large orange circle"],u:"1f7e0",a:"12.0"},{n:["large yellow circle"],u:"1f7e1",a:"12.0"},{n:["large green circle"],u:"1f7e2",a:"12.0"},{n:["large blue circle"],u:"1f535",a:"0.6"},{n:["large purple circle"],u:"1f7e3",a:"12.0"},{n:["large brown circle"],u:"1f7e4",a:"12.0"},{n:["black circle","medium black circle"],u:"26ab",a:"0.6"},{n:["white circle","medium white circle"],u:"26aa",a:"0.6"},{n:["large red square"],u:"1f7e5",a:"12.0"},{n:["large orange square"],u:"1f7e7",a:"12.0"},{n:["large yellow square"],u:"1f7e8",a:"12.0"},{n:["large green square"],u:"1f7e9",a:"12.0"},{n:["large blue square"],u:"1f7e6",a:"12.0"},{n:["large purple square"],u:"1f7ea",a:"12.0"},{n:["large brown square"],u:"1f7eb",a:"12.0"},{n:["black large square"],u:"2b1b",a:"0.6"},{n:["white large square"],u:"2b1c",a:"0.6"},{n:["black medium square"],u:"25fc-fe0f",a:"0.6"},{n:["white medium square"],u:"25fb-fe0f",a:"0.6"},{n:["black medium small square"],u:"25fe",a:"0.6"},{n:["white medium small square"],u:"25fd",a:"0.6"},{n:["black small square"],u:"25aa-fe0f",a:"0.6"},{n:["white small square"],u:"25ab-fe0f",a:"0.6"},{n:["large orange diamond"],u:"1f536",a:"0.6"},{n:["large blue diamond"],u:"1f537",a:"0.6"},{n:["small orange diamond"],u:"1f538",a:"0.6"},{n:["small blue diamond"],u:"1f539",a:"0.6"},{n:["small red triangle","up-pointing red triangle"],u:"1f53a",a:"0.6"},{n:["small red triangle down","down-pointing red triangle"],u:"1f53b",a:"0.6"},{n:["diamond shape with a dot inside"],u:"1f4a0",a:"0.6"},{n:["radio button"],u:"1f518",a:"0.6"},{n:["white square button"],u:"1f533",a:"0.6"},{n:["black square button"],u:"1f532",a:"0.6"}],m4=[{n:["chequered flag","checkered flag"],u:"1f3c1",a:"0.6"},{n:["triangular flag on post"],u:"1f6a9",a:"0.6"},{n:["crossed flags"],u:"1f38c",a:"0.6"},{n:["waving black flag"],u:"1f3f4",a:"1.0"},{n:["white flag","waving white flag"],u:"1f3f3-fe0f",a:"0.7"},{n:["rainbow flag","rainbow-flag"],u:"1f3f3-fe0f-200d-1f308",a:"4.0"},{n:["transgender flag"],u:"1f3f3-fe0f-200d-26a7-fe0f",a:"13.0"},{n:["pirate flag"],u:"1f3f4-200d-2620-fe0f",a:"11.0"},{n:["flag-ac","ascension island flag"],u:"1f1e6-1f1e8",a:"2.0"},{n:["flag-ad","andorra flag"],u:"1f1e6-1f1e9",a:"2.0"},{n:["flag-ae","united arab emirates flag"],u:"1f1e6-1f1ea",a:"2.0"},{n:["flag-af","afghanistan flag"],u:"1f1e6-1f1eb",a:"2.0"},{n:["flag-ag","antigua & barbuda flag"],u:"1f1e6-1f1ec",a:"2.0"},{n:["flag-ai","anguilla flag"],u:"1f1e6-1f1ee",a:"2.0"},{n:["flag-al","albania flag"],u:"1f1e6-1f1f1",a:"2.0"},{n:["flag-am","armenia flag"],u:"1f1e6-1f1f2",a:"2.0"},{n:["flag-ao","angola flag"],u:"1f1e6-1f1f4",a:"2.0"},{n:["flag-aq","antarctica flag"],u:"1f1e6-1f1f6",a:"2.0"},{n:["flag-ar","argentina flag"],u:"1f1e6-1f1f7",a:"2.0"},{n:["flag-as","american samoa flag"],u:"1f1e6-1f1f8",a:"2.0"},{n:["flag-at","austria flag"],u:"1f1e6-1f1f9",a:"2.0"},{n:["flag-au","australia flag"],u:"1f1e6-1f1fa",a:"2.0"},{n:["flag-aw","aruba flag"],u:"1f1e6-1f1fc",a:"2.0"},{n:["flag-ax","land islands flag"],u:"1f1e6-1f1fd",a:"2.0"},{n:["flag-az","azerbaijan flag"],u:"1f1e6-1f1ff",a:"2.0"},{n:["flag-ba","bosnia & herzegovina flag"],u:"1f1e7-1f1e6",a:"2.0"},{n:["flag-bb","barbados flag"],u:"1f1e7-1f1e7",a:"2.0"},{n:["flag-bd","bangladesh flag"],u:"1f1e7-1f1e9",a:"2.0"},{n:["flag-be","belgium flag"],u:"1f1e7-1f1ea",a:"2.0"},{n:["flag-bf","burkina faso flag"],u:"1f1e7-1f1eb",a:"2.0"},{n:["flag-bg","bulgaria flag"],u:"1f1e7-1f1ec",a:"2.0"},{n:["flag-bh","bahrain flag"],u:"1f1e7-1f1ed",a:"2.0"},{n:["flag-bi","burundi flag"],u:"1f1e7-1f1ee",a:"2.0"},{n:["flag-bj","benin flag"],u:"1f1e7-1f1ef",a:"2.0"},{n:["flag-bl","st. barthlemy flag"],u:"1f1e7-1f1f1",a:"2.0"},{n:["flag-bm","bermuda flag"],u:"1f1e7-1f1f2",a:"2.0"},{n:["flag-bn","brunei flag"],u:"1f1e7-1f1f3",a:"2.0"},{n:["flag-bo","bolivia flag"],u:"1f1e7-1f1f4",a:"2.0"},{n:["flag-bq","caribbean netherlands flag"],u:"1f1e7-1f1f6",a:"2.0"},{n:["flag-br","brazil flag"],u:"1f1e7-1f1f7",a:"2.0"},{n:["flag-bs","bahamas flag"],u:"1f1e7-1f1f8",a:"2.0"},{n:["flag-bt","bhutan flag"],u:"1f1e7-1f1f9",a:"2.0"},{n:["flag-bv","bouvet island flag"],u:"1f1e7-1f1fb",a:"2.0"},{n:["flag-bw","botswana flag"],u:"1f1e7-1f1fc",a:"2.0"},{n:["flag-by","belarus flag"],u:"1f1e7-1f1fe",a:"2.0"},{n:["flag-bz","belize flag"],u:"1f1e7-1f1ff",a:"2.0"},{n:["flag-ca","canada flag"],u:"1f1e8-1f1e6",a:"2.0"},{n:["flag-cc","cocos (keeling) islands flag"],u:"1f1e8-1f1e8",a:"2.0"},{n:["flag-cd","congo - kinshasa flag"],u:"1f1e8-1f1e9",a:"2.0"},{n:["flag-cf","central african republic flag"],u:"1f1e8-1f1eb",a:"2.0"},{n:["flag-cg","congo - brazzaville flag"],u:"1f1e8-1f1ec",a:"2.0"},{n:["flag-ch","switzerland flag"],u:"1f1e8-1f1ed",a:"2.0"},{n:["flag-ci","cte divoire flag"],u:"1f1e8-1f1ee",a:"2.0"},{n:["flag-ck","cook islands flag"],u:"1f1e8-1f1f0",a:"2.0"},{n:["flag-cl","chile flag"],u:"1f1e8-1f1f1",a:"2.0"},{n:["flag-cm","cameroon flag"],u:"1f1e8-1f1f2",a:"2.0"},{n:["cn","flag-cn","china flag"],u:"1f1e8-1f1f3",a:"0.6"},{n:["flag-co","colombia flag"],u:"1f1e8-1f1f4",a:"2.0"},{n:["flag-cp","clipperton island flag"],u:"1f1e8-1f1f5",a:"2.0"},{n:["flag-cr","costa rica flag"],u:"1f1e8-1f1f7",a:"2.0"},{n:["flag-cu","cuba flag"],u:"1f1e8-1f1fa",a:"2.0"},{n:["flag-cv","cape verde flag"],u:"1f1e8-1f1fb",a:"2.0"},{n:["flag-cw","curaao flag"],u:"1f1e8-1f1fc",a:"2.0"},{n:["flag-cx","christmas island flag"],u:"1f1e8-1f1fd",a:"2.0"},{n:["flag-cy","cyprus flag"],u:"1f1e8-1f1fe",a:"2.0"},{n:["flag-cz","czechia flag"],u:"1f1e8-1f1ff",a:"2.0"},{n:["de","flag-de","germany flag"],u:"1f1e9-1f1ea",a:"0.6"},{n:["flag-dg","diego garcia flag"],u:"1f1e9-1f1ec",a:"2.0"},{n:["flag-dj","djibouti flag"],u:"1f1e9-1f1ef",a:"2.0"},{n:["flag-dk","denmark flag"],u:"1f1e9-1f1f0",a:"2.0"},{n:["flag-dm","dominica flag"],u:"1f1e9-1f1f2",a:"2.0"},{n:["flag-do","dominican republic flag"],u:"1f1e9-1f1f4",a:"2.0"},{n:["flag-dz","algeria flag"],u:"1f1e9-1f1ff",a:"2.0"},{n:["flag-ea","ceuta & melilla flag"],u:"1f1ea-1f1e6",a:"2.0"},{n:["flag-ec","ecuador flag"],u:"1f1ea-1f1e8",a:"2.0"},{n:["flag-ee","estonia flag"],u:"1f1ea-1f1ea",a:"2.0"},{n:["flag-eg","egypt flag"],u:"1f1ea-1f1ec",a:"2.0"},{n:["flag-eh","western sahara flag"],u:"1f1ea-1f1ed",a:"2.0"},{n:["flag-er","eritrea flag"],u:"1f1ea-1f1f7",a:"2.0"},{n:["es","flag-es","spain flag"],u:"1f1ea-1f1f8",a:"0.6"},{n:["flag-et","ethiopia flag"],u:"1f1ea-1f1f9",a:"2.0"},{n:["flag-eu","european union flag"],u:"1f1ea-1f1fa",a:"2.0"},{n:["flag-fi","finland flag"],u:"1f1eb-1f1ee",a:"2.0"},{n:["flag-fj","fiji flag"],u:"1f1eb-1f1ef",a:"2.0"},{n:["flag-fk","falkland islands flag"],u:"1f1eb-1f1f0",a:"2.0"},{n:["flag-fm","micronesia flag"],u:"1f1eb-1f1f2",a:"2.0"},{n:["flag-fo","faroe islands flag"],u:"1f1eb-1f1f4",a:"2.0"},{n:["fr","flag-fr","france flag"],u:"1f1eb-1f1f7",a:"0.6"},{n:["flag-ga","gabon flag"],u:"1f1ec-1f1e6",a:"2.0"},{n:["gb","uk","flag-gb","united kingdom flag"],u:"1f1ec-1f1e7",a:"0.6"},{n:["flag-gd","grenada flag"],u:"1f1ec-1f1e9",a:"2.0"},{n:["flag-ge","georgia flag"],u:"1f1ec-1f1ea",a:"2.0"},{n:["flag-gf","french guiana flag"],u:"1f1ec-1f1eb",a:"2.0"},{n:["flag-gg","guernsey flag"],u:"1f1ec-1f1ec",a:"2.0"},{n:["flag-gh","ghana flag"],u:"1f1ec-1f1ed",a:"2.0"},{n:["flag-gi","gibraltar flag"],u:"1f1ec-1f1ee",a:"2.0"},{n:["flag-gl","greenland flag"],u:"1f1ec-1f1f1",a:"2.0"},{n:["flag-gm","gambia flag"],u:"1f1ec-1f1f2",a:"2.0"},{n:["flag-gn","guinea flag"],u:"1f1ec-1f1f3",a:"2.0"},{n:["flag-gp","guadeloupe flag"],u:"1f1ec-1f1f5",a:"2.0"},{n:["flag-gq","equatorial guinea flag"],u:"1f1ec-1f1f6",a:"2.0"},{n:["flag-gr","greece flag"],u:"1f1ec-1f1f7",a:"2.0"},{n:["flag-gs","south georgia & south sandwich islands flag"],u:"1f1ec-1f1f8",a:"2.0"},{n:["flag-gt","guatemala flag"],u:"1f1ec-1f1f9",a:"2.0"},{n:["flag-gu","guam flag"],u:"1f1ec-1f1fa",a:"2.0"},{n:["flag-gw","guinea-bissau flag"],u:"1f1ec-1f1fc",a:"2.0"},{n:["flag-gy","guyana flag"],u:"1f1ec-1f1fe",a:"2.0"},{n:["flag-hk","hong kong sar china flag"],u:"1f1ed-1f1f0",a:"2.0"},{n:["flag-hm","heard & mcdonald islands flag"],u:"1f1ed-1f1f2",a:"2.0"},{n:["flag-hn","honduras flag"],u:"1f1ed-1f1f3",a:"2.0"},{n:["flag-hr","croatia flag"],u:"1f1ed-1f1f7",a:"2.0"},{n:["flag-ht","haiti flag"],u:"1f1ed-1f1f9",a:"2.0"},{n:["flag-hu","hungary flag"],u:"1f1ed-1f1fa",a:"2.0"},{n:["flag-ic","canary islands flag"],u:"1f1ee-1f1e8",a:"2.0"},{n:["flag-id","indonesia flag"],u:"1f1ee-1f1e9",a:"2.0"},{n:["flag-ie","ireland flag"],u:"1f1ee-1f1ea",a:"2.0"},{n:["flag-il","israel flag"],u:"1f1ee-1f1f1",a:"2.0"},{n:["flag-im","isle of man flag"],u:"1f1ee-1f1f2",a:"2.0"},{n:["flag-in","india flag"],u:"1f1ee-1f1f3",a:"2.0"},{n:["flag-io","british indian ocean territory flag"],u:"1f1ee-1f1f4",a:"2.0"},{n:["flag-iq","iraq flag"],u:"1f1ee-1f1f6",a:"2.0"},{n:["flag-ir","iran flag"],u:"1f1ee-1f1f7",a:"2.0"},{n:["flag-is","iceland flag"],u:"1f1ee-1f1f8",a:"2.0"},{n:["it","flag-it","italy flag"],u:"1f1ee-1f1f9",a:"0.6"},{n:["flag-je","jersey flag"],u:"1f1ef-1f1ea",a:"2.0"},{n:["flag-jm","jamaica flag"],u:"1f1ef-1f1f2",a:"2.0"},{n:["flag-jo","jordan flag"],u:"1f1ef-1f1f4",a:"2.0"},{n:["jp","flag-jp","japan flag"],u:"1f1ef-1f1f5",a:"0.6"},{n:["flag-ke","kenya flag"],u:"1f1f0-1f1ea",a:"2.0"},{n:["flag-kg","kyrgyzstan flag"],u:"1f1f0-1f1ec",a:"2.0"},{n:["flag-kh","cambodia flag"],u:"1f1f0-1f1ed",a:"2.0"},{n:["flag-ki","kiribati flag"],u:"1f1f0-1f1ee",a:"2.0"},{n:["flag-km","comoros flag"],u:"1f1f0-1f1f2",a:"2.0"},{n:["flag-kn","st. kitts & nevis flag"],u:"1f1f0-1f1f3",a:"2.0"},{n:["flag-kp","north korea flag"],u:"1f1f0-1f1f5",a:"2.0"},{n:["kr","flag-kr","south korea flag"],u:"1f1f0-1f1f7",a:"0.6"},{n:["flag-kw","kuwait flag"],u:"1f1f0-1f1fc",a:"2.0"},{n:["flag-ky","cayman islands flag"],u:"1f1f0-1f1fe",a:"2.0"},{n:["flag-kz","kazakhstan flag"],u:"1f1f0-1f1ff",a:"2.0"},{n:["flag-la","laos flag"],u:"1f1f1-1f1e6",a:"2.0"},{n:["flag-lb","lebanon flag"],u:"1f1f1-1f1e7",a:"2.0"},{n:["flag-lc","st. lucia flag"],u:"1f1f1-1f1e8",a:"2.0"},{n:["flag-li","liechtenstein flag"],u:"1f1f1-1f1ee",a:"2.0"},{n:["flag-lk","sri lanka flag"],u:"1f1f1-1f1f0",a:"2.0"},{n:["flag-lr","liberia flag"],u:"1f1f1-1f1f7",a:"2.0"},{n:["flag-ls","lesotho flag"],u:"1f1f1-1f1f8",a:"2.0"},{n:["flag-lt","lithuania flag"],u:"1f1f1-1f1f9",a:"2.0"},{n:["flag-lu","luxembourg flag"],u:"1f1f1-1f1fa",a:"2.0"},{n:["flag-lv","latvia flag"],u:"1f1f1-1f1fb",a:"2.0"},{n:["flag-ly","libya flag"],u:"1f1f1-1f1fe",a:"2.0"},{n:["flag-ma","morocco flag"],u:"1f1f2-1f1e6",a:"2.0"},{n:["flag-mc","monaco flag"],u:"1f1f2-1f1e8",a:"2.0"},{n:["flag-md","moldova flag"],u:"1f1f2-1f1e9",a:"2.0"},{n:["flag-me","montenegro flag"],u:"1f1f2-1f1ea",a:"2.0"},{n:["flag-mf","st. martin flag"],u:"1f1f2-1f1eb",a:"2.0"},{n:["flag-mg","madagascar flag"],u:"1f1f2-1f1ec",a:"2.0"},{n:["flag-mh","marshall islands flag"],u:"1f1f2-1f1ed",a:"2.0"},{n:["flag-mk","north macedonia flag"],u:"1f1f2-1f1f0",a:"2.0"},{n:["flag-ml","mali flag"],u:"1f1f2-1f1f1",a:"2.0"},{n:["flag-mm","myanmar (burma) flag"],u:"1f1f2-1f1f2",a:"2.0"},{n:["flag-mn","mongolia flag"],u:"1f1f2-1f1f3",a:"2.0"},{n:["flag-mo","macao sar china flag"],u:"1f1f2-1f1f4",a:"2.0"},{n:["flag-mp","northern mariana islands flag"],u:"1f1f2-1f1f5",a:"2.0"},{n:["flag-mq","martinique flag"],u:"1f1f2-1f1f6",a:"2.0"},{n:["flag-mr","mauritania flag"],u:"1f1f2-1f1f7",a:"2.0"},{n:["flag-ms","montserrat flag"],u:"1f1f2-1f1f8",a:"2.0"},{n:["flag-mt","malta flag"],u:"1f1f2-1f1f9",a:"2.0"},{n:["flag-mu","mauritius flag"],u:"1f1f2-1f1fa",a:"2.0"},{n:["flag-mv","maldives flag"],u:"1f1f2-1f1fb",a:"2.0"},{n:["flag-mw","malawi flag"],u:"1f1f2-1f1fc",a:"2.0"},{n:["flag-mx","mexico flag"],u:"1f1f2-1f1fd",a:"2.0"},{n:["flag-my","malaysia flag"],u:"1f1f2-1f1fe",a:"2.0"},{n:["flag-mz","mozambique flag"],u:"1f1f2-1f1ff",a:"2.0"},{n:["flag-na","namibia flag"],u:"1f1f3-1f1e6",a:"2.0"},{n:["flag-nc","new caledonia flag"],u:"1f1f3-1f1e8",a:"2.0"},{n:["flag-ne","niger flag"],u:"1f1f3-1f1ea",a:"2.0"},{n:["flag-nf","norfolk island flag"],u:"1f1f3-1f1eb",a:"2.0"},{n:["flag-ng","nigeria flag"],u:"1f1f3-1f1ec",a:"2.0"},{n:["flag-ni","nicaragua flag"],u:"1f1f3-1f1ee",a:"2.0"},{n:["flag-nl","netherlands flag"],u:"1f1f3-1f1f1",a:"2.0"},{n:["flag-no","norway flag"],u:"1f1f3-1f1f4",a:"2.0"},{n:["flag-np","nepal flag"],u:"1f1f3-1f1f5",a:"2.0"},{n:["flag-nr","nauru flag"],u:"1f1f3-1f1f7",a:"2.0"},{n:["flag-nu","niue flag"],u:"1f1f3-1f1fa",a:"2.0"},{n:["flag-nz","new zealand flag"],u:"1f1f3-1f1ff",a:"2.0"},{n:["flag-om","oman flag"],u:"1f1f4-1f1f2",a:"2.0"},{n:["flag-pa","panama flag"],u:"1f1f5-1f1e6",a:"2.0"},{n:["flag-pe","peru flag"],u:"1f1f5-1f1ea",a:"2.0"},{n:["flag-pf","french polynesia flag"],u:"1f1f5-1f1eb",a:"2.0"},{n:["flag-pg","papua new guinea flag"],u:"1f1f5-1f1ec",a:"2.0"},{n:["flag-ph","philippines flag"],u:"1f1f5-1f1ed",a:"2.0"},{n:["flag-pk","pakistan flag"],u:"1f1f5-1f1f0",a:"2.0"},{n:["flag-pl","poland flag"],u:"1f1f5-1f1f1",a:"2.0"},{n:["flag-pm","st. pierre & miquelon flag"],u:"1f1f5-1f1f2",a:"2.0"},{n:["flag-pn","pitcairn islands flag"],u:"1f1f5-1f1f3",a:"2.0"},{n:["flag-pr","puerto rico flag"],u:"1f1f5-1f1f7",a:"2.0"},{n:["flag-ps","palestinian territories flag"],u:"1f1f5-1f1f8",a:"2.0"},{n:["flag-pt","portugal flag"],u:"1f1f5-1f1f9",a:"2.0"},{n:["flag-pw","palau flag"],u:"1f1f5-1f1fc",a:"2.0"},{n:["flag-py","paraguay flag"],u:"1f1f5-1f1fe",a:"2.0"},{n:["flag-qa","qatar flag"],u:"1f1f6-1f1e6",a:"2.0"},{n:["flag-re","runion flag"],u:"1f1f7-1f1ea",a:"2.0"},{n:["flag-ro","romania flag"],u:"1f1f7-1f1f4",a:"2.0"},{n:["flag-rs","serbia flag"],u:"1f1f7-1f1f8",a:"2.0"},{n:["ru","flag-ru","russia flag"],u:"1f1f7-1f1fa",a:"0.6"},{n:["flag-rw","rwanda flag"],u:"1f1f7-1f1fc",a:"2.0"},{n:["flag-sa","saudi arabia flag"],u:"1f1f8-1f1e6",a:"2.0"},{n:["flag-sb","solomon islands flag"],u:"1f1f8-1f1e7",a:"2.0"},{n:["flag-sc","seychelles flag"],u:"1f1f8-1f1e8",a:"2.0"},{n:["flag-sd","sudan flag"],u:"1f1f8-1f1e9",a:"2.0"},{n:["flag-se","sweden flag"],u:"1f1f8-1f1ea",a:"2.0"},{n:["flag-sg","singapore flag"],u:"1f1f8-1f1ec",a:"2.0"},{n:["flag-sh","st. helena flag"],u:"1f1f8-1f1ed",a:"2.0"},{n:["flag-si","slovenia flag"],u:"1f1f8-1f1ee",a:"2.0"},{n:["flag-sj","svalbard & jan mayen flag"],u:"1f1f8-1f1ef",a:"2.0"},{n:["flag-sk","slovakia flag"],u:"1f1f8-1f1f0",a:"2.0"},{n:["flag-sl","sierra leone flag"],u:"1f1f8-1f1f1",a:"2.0"},{n:["flag-sm","san marino flag"],u:"1f1f8-1f1f2",a:"2.0"},{n:["flag-sn","senegal flag"],u:"1f1f8-1f1f3",a:"2.0"},{n:["flag-so","somalia flag"],u:"1f1f8-1f1f4",a:"2.0"},{n:["flag-sr","suriname flag"],u:"1f1f8-1f1f7",a:"2.0"},{n:["flag-ss","south sudan flag"],u:"1f1f8-1f1f8",a:"2.0"},{n:["flag-st","so tom & prncipe flag"],u:"1f1f8-1f1f9",a:"2.0"},{n:["flag-sv","el salvador flag"],u:"1f1f8-1f1fb",a:"2.0"},{n:["flag-sx","sint maarten flag"],u:"1f1f8-1f1fd",a:"2.0"},{n:["flag-sy","syria flag"],u:"1f1f8-1f1fe",a:"2.0"},{n:["flag-sz","eswatini flag"],u:"1f1f8-1f1ff",a:"2.0"},{n:["flag-ta","tristan da cunha flag"],u:"1f1f9-1f1e6",a:"2.0"},{n:["flag-tc","turks & caicos islands flag"],u:"1f1f9-1f1e8",a:"2.0"},{n:["flag-td","chad flag"],u:"1f1f9-1f1e9",a:"2.0"},{n:["flag-tf","french southern territories flag"],u:"1f1f9-1f1eb",a:"2.0"},{n:["flag-tg","togo flag"],u:"1f1f9-1f1ec",a:"2.0"},{n:["flag-th","thailand flag"],u:"1f1f9-1f1ed",a:"2.0"},{n:["flag-tj","tajikistan flag"],u:"1f1f9-1f1ef",a:"2.0"},{n:["flag-tk","tokelau flag"],u:"1f1f9-1f1f0",a:"2.0"},{n:["flag-tl","timor-leste flag"],u:"1f1f9-1f1f1",a:"2.0"},{n:["flag-tm","turkmenistan flag"],u:"1f1f9-1f1f2",a:"2.0"},{n:["flag-tn","tunisia flag"],u:"1f1f9-1f1f3",a:"2.0"},{n:["flag-to","tonga flag"],u:"1f1f9-1f1f4",a:"2.0"},{n:["flag-tr","turkey flag"],u:"1f1f9-1f1f7",a:"2.0"},{n:["flag-tt","trinidad & tobago flag"],u:"1f1f9-1f1f9",a:"2.0"},{n:["flag-tv","tuvalu flag"],u:"1f1f9-1f1fb",a:"2.0"},{n:["flag-tw","taiwan flag"],u:"1f1f9-1f1fc",a:"2.0"},{n:["flag-tz","tanzania flag"],u:"1f1f9-1f1ff",a:"2.0"},{n:["flag-ua","ukraine flag"],u:"1f1fa-1f1e6",a:"2.0"},{n:["flag-ug","uganda flag"],u:"1f1fa-1f1ec",a:"2.0"},{n:["flag-um","u.s. outlying islands flag"],u:"1f1fa-1f1f2",a:"2.0"},{n:["flag-un","united nations flag"],u:"1f1fa-1f1f3",a:"4.0"},{n:["us","flag-us","united states flag"],u:"1f1fa-1f1f8",a:"0.6"},{n:["flag-uy","uruguay flag"],u:"1f1fa-1f1fe",a:"2.0"},{n:["flag-uz","uzbekistan flag"],u:"1f1fa-1f1ff",a:"2.0"},{n:["flag-va","vatican city flag"],u:"1f1fb-1f1e6",a:"2.0"},{n:["flag-vc","st. vincent & grenadines flag"],u:"1f1fb-1f1e8",a:"2.0"},{n:["flag-ve","venezuela flag"],u:"1f1fb-1f1ea",a:"2.0"},{n:["flag-vg","british virgin islands flag"],u:"1f1fb-1f1ec",a:"2.0"},{n:["flag-vi","u.s. virgin islands flag"],u:"1f1fb-1f1ee",a:"2.0"},{n:["flag-vn","vietnam flag"],u:"1f1fb-1f1f3",a:"2.0"},{n:["flag-vu","vanuatu flag"],u:"1f1fb-1f1fa",a:"2.0"},{n:["flag-wf","wallis & futuna flag"],u:"1f1fc-1f1eb",a:"2.0"},{n:["flag-ws","samoa flag"],u:"1f1fc-1f1f8",a:"2.0"},{n:["flag-xk","kosovo flag"],u:"1f1fd-1f1f0",a:"2.0"},{n:["flag-ye","yemen flag"],u:"1f1fe-1f1ea",a:"2.0"},{n:["flag-yt","mayotte flag"],u:"1f1fe-1f1f9",a:"2.0"},{n:["flag-za","south africa flag"],u:"1f1ff-1f1e6",a:"2.0"},{n:["flag-zm","zambia flag"],u:"1f1ff-1f1f2",a:"2.0"},{n:["flag-zw","zimbabwe flag"],u:"1f1ff-1f1fc",a:"2.0"},{n:["england flag","flag-england"],u:"1f3f4-e0067-e0062-e0065-e006e-e0067-e007f",a:"5.0"},{n:["scotland flag","flag-scotland"],u:"1f3f4-e0067-e0062-e0073-e0063-e0074-e007f",a:"5.0"},{n:["wales flag","flag-wales"],u:"1f3f4-e0067-e0062-e0077-e006c-e0073-e007f",a:"5.0"}],Ed={custom:o4,smileys_people:s4,animals_nature:l4,food_drink:f4,travel_places:c4,activities:u4,objects:d4,symbols:h4,flags:m4},n0=[lo.NEUTRAL,lo.LIGHT,lo.MEDIUM_LIGHT,lo.MEDIUM,lo.MEDIUM_DARK,lo.DARK],p4=Object.entries(lo).reduce(function(n,c){var l=c[0],g=c[1];return n[g]=l,n},{}),g4=n0.reduce(function(n,c){var l;return Object.assign(n,(l={},l[c]=c,l))},{}),Da;(function(n){n.name="n",n.unified="u",n.variations="v",n.added_in="a",n.imgUrl="imgUrl"})(Da||(Da={}));var Sd={};setTimeout(function(){d0.reduce(function(n,c){return Qp(c),n},Sd)});function Qp(n){var c=Zd(n).flat().join("").toLowerCase().replace(/[^a-zA-Z\d]/g,"").split("");c.forEach(function(l){var g;Sd[l]=(g=Sd[l])!=null?g:{},Sd[l][si(n)]=n})}function Zd(n){var c;return(c=n[Da.name])!=null?c:[]}function w4(n){return parseFloat(n[Da.added_in])}function Sm(n){return n?Zd(n)[0]:""}function Fm(n){var c=n.split("-"),l=c.splice(1,1),g=l[0];return g4[g]?c.join("-"):n}function si(n,c){var l,g=n[Da.unified];return!c||!gu(n)?g:(l=v4(n,c))!=null?l:g}function y4(n){var c;return(c=Ed==null?void 0:Ed[n])!=null?c:[]}function Wp(n,c){return""+a4(c)+n+".png"}function Yd(n){var c;return(c=n[Da.variations])!=null?c:[]}function gu(n){return Yd(n).length>0}function v4(n,c){return c?Yd(n).find(function(l){return l.includes(c)}):si(n)}function cu(n){if(n){if(su[n])return su[n];var c=Fm(n);return su[c]}}var d0=Object.values(Ed).flat();function b4(n){Ed[Wt.CUSTOM].length=0,n.forEach(function(c){var l=L4(c);Ed[Wt.CUSTOM].push(l),!su[l[Da.unified]]&&(d0.push(l),su[l[Da.unified]]=l,Qp(l))})}function L4(n){var c;return c={},c[Da.name]=n.names.map(function(l){return l.toLowerCase()}),c[Da.unified]=n.id.toLowerCase(),c[Da.added_in]="0",c[Da.imgUrl]=n.imgUrl,c}var su={};setTimeout(function(){d0.reduce(function(n,c){return n[si(c)]=c,gu(c)&&Yd(c).forEach(function(l){n[l]=c}),n},su)});function x4(n){var c=n.split("-"),l=c[1];return n0.includes(l)?l:null}var _4=["2640-fe0f","2642-fe0f","2695-fe0f"],r0="Search",M4="No results found",Jp=" found. Use up and down arrow keys to navigate.",N4="1 result"+Jp,C4="%n results"+Jp;function G1(n){var c,l;n===void 0&&(n={});var g=$p(),x=Object.assign(g.previewConfig,(c=n.previewConfig)!=null?c:{}),h=Object.assign(g,n),v=e4(n.categories,{suggestionMode:h.suggestedEmojisMode});h.hiddenEmojis.forEach(function(k){h.unicodeToHide.add(k)}),b4((l=h.customEmojis)!=null?l:[]);var _=h.searchDisabled?fu.PREVIEW:h.skinTonePickerLocation;return Un({},h,{categories:v,previewConfig:x,skinTonePickerLocation:_})}function $p(){return{autoFocusSearch:!0,categories:Yp(),className:"",customEmojis:[],defaultSkinTone:lo.NEUTRAL,emojiStyle:oa.APPLE,emojiVersion:null,getEmojiUrl:Wp,height:450,lazyLoadEmojis:!1,previewConfig:Un({},k4),searchDisabled:!1,searchPlaceHolder:r0,searchPlaceholder:r0,skinTonePickerLocation:fu.SEARCH,skinTonesDisabled:!1,style:{},suggestedEmojisMode:Id.FREQUENT,theme:jd.LIGHT,unicodeToHide:new Set(_4),width:350,reactionsDefaultOpen:!1,reactions:q2,open:!0,allowExpandReactions:!0,hiddenEmojis:[]}}var k4={defaultEmoji:"1f60a",defaultCaption:"What's your mood?",showPreview:!0},S4=["children"],Hp=b.createContext($p());function I4(n){var c=n.children,l=Fp(n,S4),g=j4(l);return b.createElement(Hp.Provider,{value:g},c)}function j4(n){var c,l=b.useState(function(){return G1(n)}),g=l[0],x=l[1];return b.useEffect(function(){Up(g,n)||x(G1(n))},[(c=n.customEmojis)==null?void 0:c.length,n.open,n.emojiVersion,n.reactionsDefaultOpen,n.searchPlaceHolder,n.searchPlaceholder,n.defaultSkinTone,n.skinTonesDisabled,n.autoFocusSearch,n.emojiStyle,n.theme,n.suggestedEmojisMode,n.lazyLoadEmojis,n.className,n.height,n.width,n.searchDisabled,n.skinTonePickerLocation,n.allowExpandReactions]),g}function Wn(){return b.useContext(Hp)}var Vp=Gr.createContext({});function qp(){var n=Gr.useContext(Vp);return n}function E4(n){var c=Gr.useRef({onEmojiClick:n.onEmojiClick||Fh,onReactionClick:n.onReactionClick||n.onEmojiClick,onSkinToneChange:n.onSkinToneChange||Fh});return Gr.useEffect(function(){c.current.onEmojiClick=n.onEmojiClick||Fh,c.current.onReactionClick=n.onReactionClick||n.onEmojiClick},[n.onEmojiClick,n.onReactionClick]),Gr.useEffect(function(){c.current.onSkinToneChange=n.onSkinToneChange||Fh},[n.onSkinToneChange]),c}function Fh(){}var Td;(function(n){n.REACTIONS="reactions",n.PICKER="picker"})(Td||(Td={}));function T4(){var n,c=Wn(),l=c.searchPlaceHolder,g=c.searchPlaceholder;return(n=[l,g].find(function(x){return x!==r0}))!=null?n:r0}function A4(){var n=Wn(),c=n.defaultSkinTone;return c}function Kp(){var n=Wn(),c=n.allowExpandReactions;return c}function Xp(){var n=Wn(),c=n.skinTonesDisabled;return c}function Uf(){var n=Wn(),c=n.emojiStyle;return c}function D4(){var n=Wn(),c=n.autoFocusSearch;return c}function eg(){var n=Wn(),c=n.categories;return c}function P4(){var n=Wn(),c=n.customEmojis;return c}function z4(){var n=Wn(),c=n.open;return c}function R4(n){var c,l=qp(),g=l.current,x=(c=n===Td.REACTIONS?g.onReactionClick:g.onEmojiClick)!=null?c:g.onEmojiClick;return x||function(){}}function O4(){var n=qp(),c=n.current;return c.onSkinToneChange||function(){}}function tg(){var n=Wn(),c=n.previewConfig;return c}function B4(){var n=Wn(),c=n.theme;return c}function F4(){var n=Wn(),c=n.suggestedEmojisMode;return c}function U4(){var n=Wn(),c=n.lazyLoadEmojis;return c}function Z4(){var n=Wn(),c=n.className;return c}function Y4(){var n=Wn(),c=n.height,l=n.width,g=n.style;return Un({height:Q1(c),width:Q1(l)},g)}function G4(){var n=Wn(),c=n.reactionsDefaultOpen;return c}function Q4(){var n=Wn(),c=n.emojiVersion;return c}function ng(){var n=Wn(),c=n.searchDisabled;return c}function rg(){var n=Wn(),c=n.skinTonePickerLocation;return c}function W4(){var n=Wn(),c=n.unicodeToHide;return c}function J4(){var n=Wn(),c=n.reactions;return c}function Zf(){var n=Wn(),c=n.getEmojiUrl;return c}function Q1(n){return typeof n=="number"?n+"px":n}function $4(n){var c=n>0,l=n>1;return c?l?C4.replace("%n",n.toString()):N4:M4}function W1(n,c){c===void 0&&(c=0);var l=b.useState(n),g=l[0],x=l[1],h=b.useRef(null);function v(_){return new Promise(function(k){var S;h.current&&clearTimeout(h.current),h.current=(S=window)==null?void 0:S.setTimeout(function(){x(_),k(_)},c)})}return[g,v]}function H4(){var n=W4();return function(c){return n.has(c)}}function ig(){var n=b.useRef({}),c=Q4();return b.useMemo(function(){var l=parseFloat(""+c);return!c||Number.isNaN(l)?n.current:d0.reduce(function(g,x){return q4(x,l)&&(g[si(x)]=!0),g},n.current)},[c])}function V4(){var n=ig(),c=H4();return function(g){var x=Fm(si(g));return!!(n[x]||c(x))}}function q4(n,c){return w4(n)>c}function K4(n){b.useEffect(function(){n(!0)},[n])}function X4(n){var c=n.children,l=ig(),g=A4(),x=G4(),h=b.useRef(Sd),v=b.useRef(!1),_=b.useRef(!1),k=b.useRef(l),S=W1(Date.now(),200),A=W1("",100),I=b.useState(!1),E=b.useState(g),j=b.useState(null),Z=b.useState(new Set),J=b.useState(null),$=b.useState(x),V=b.useState(!1),re=V[0],we=V[1];return K4(we),b.createElement(Pa.Provider,{value:{activeCategoryState:j,activeSkinTone:E,disallowClickRef:v,disallowMouseRef:_,disallowedEmojisRef:k,emojiVariationPickerState:J,emojisThatFailedToLoadState:Z,filterRef:h,isPastInitialLoad:re,searchTerm:A,skinToneFanOpenState:I,suggestedUpdateState:S,reactionsModeState:$}},c)}var Pa=b.createContext({activeCategoryState:[null,function(){}],activeSkinTone:[lo.NEUTRAL,function(){}],disallowClickRef:{current:!1},disallowMouseRef:{current:!1},disallowedEmojisRef:{current:{}},emojiVariationPickerState:[null,function(){}],emojisThatFailedToLoadState:[new Set,function(){}],filterRef:{current:{}},isPastInitialLoad:!0,searchTerm:["",function(){return new Promise(function(){})}],skinToneFanOpenState:[!1,function(){}],suggestedUpdateState:[Date.now(),function(){}],reactionsModeState:[!1,function(){}]});function Um(){var n=b.useContext(Pa),c=n.filterRef;return c}function eb(){var n=b.useContext(Pa),c=n.disallowClickRef;return c}function Zm(){var n=b.useContext(Pa),c=n.disallowMouseRef;return c}function h0(){var n=b.useContext(Pa),c=n.reactionsModeState;return c}function m0(){var n=b.useContext(Pa),c=n.searchTerm;return c}function Ym(){var n=b.useContext(Pa),c=n.activeSkinTone;return c}function ag(){var n=b.useContext(Pa),c=n.emojisThatFailedToLoadState;return c}function tb(){var n=b.useContext(Pa),c=n.isPastInitialLoad;return c}function wu(){var n=b.useContext(Pa),c=n.emojiVariationPickerState;return c}function Gd(){var n=b.useContext(Pa),c=n.skinToneFanOpenState;return c}function og(){var n=b.useContext(Pa),c=n.suggestedUpdateState,l=c[0],g=c[1];return[l,function(){g(Date.now())}]}function p0(){var n=m0(),c=n[0];return!!c}function fa(n){n&&requestAnimationFrame(function(){n.focus()})}function sg(n){if(n){var c=n.previousElementSibling;fa(c)}}function lg(n){if(n){var c=n.nextElementSibling;fa(c)}}function fg(n){if(n){var c=n.firstElementChild;fa(c)}}function Ad(){return document.activeElement}function nb(n){var c=n.children,l=b.useRef(null),g=b.useRef(null),x=b.useRef(null),h=b.useRef(null),v=b.useRef(null),_=b.useRef(null),k=b.useRef(null),S=b.useRef(null);return b.createElement(cg.Provider,{value:{AnchoredEmojiRef:g,BodyRef:x,CategoryNavigationRef:_,PickerMainRef:l,SearchInputRef:h,SkinTonePickerRef:v,VariationPickerRef:k,ReactionsRef:S}},c)}var cg=b.createContext({AnchoredEmojiRef:b.createRef(),BodyRef:b.createRef(),CategoryNavigationRef:b.createRef(),PickerMainRef:b.createRef(),SearchInputRef:b.createRef(),SkinTonePickerRef:b.createRef(),VariationPickerRef:b.createRef(),ReactionsRef:b.createRef()});function Al(){return b.useContext(cg)}function Qd(){return Al().PickerMainRef}function g0(){return Al().AnchoredEmojiRef}function ug(){var n=g0();return function(c){c===null&&n.current!==null&&fa(n.current),n.current=c}}function za(){return Al().BodyRef}function rb(){return Al().ReactionsRef}function Dl(){return Al().SearchInputRef}function Gm(){return Al().SkinTonePickerRef}function Qm(){return Al().CategoryNavigationRef}function ib(){return Al().VariationPickerRef}function dg(n,c){c===void 0&&(c=0);var l=kg(n);l&&requestAnimationFrame(function(){l.scrollTop=c})}function ab(n,c){var l=kg(n);l&&requestAnimationFrame(function(){l.scrollTop=l.scrollTop+c})}function ob(){var n=za();return b.useCallback(function(c){requestAnimationFrame(function(){n.current&&(n.current.scrollTop=c)})},[n])}function w0(n){if(!(!n||!Vb(n))&&!n.closest(Qr(Jt.variationPicker))){var c=Ig(n),l=Sg(n);ab(c,-(qm(Pl(n))-l))}}function y0(n){var c=t1(n);fa(c),w0(c)}function sb(n){var c=t1(n);fa(c),c==null||c.click()}function lb(n){fa(Ag(n))}function fb(n){if(n){var c=Dg(n);if(!c)return y0(b0(n));fa(c),w0(c)}}function cb(n){if(n){var c=e1(n);if(!c)return lb(v0(n));fa(c),w0(c)}}function ub(n,c){if(n){var l=hb(n);if(!l)return c();fa(l),w0(l)}}function db(n){if(n){var c=mb(n);return fa(c)}}function hb(n){if(!n)return null;var c=Pg(n),l=Pl(c),g=_g(c,n),x=Mg(c,n),h=xg(c,n);if(x===0){var v=v0(l);return v?Ng(uu(v),-1,h,g):null}return Gb(uu(c),x,h,g)}function mb(n){if(!n)return null;var c=Pg(n),l=Pl(c),g=_g(c,n),x=Mg(c,n),h=xg(c,n);if(!Ub(c,n)){var v=b0(l);return v?Ng(uu(v),0,h,g):null}var _=Yb(uu(c),x,h,g);return _}function Yf(){var n=wu(),c=n[0],l=n[1],g=Gd(),x=g[0],h=g[1],v=b.useCallback(function(){c&&l(null),x&&h(!1)},[c,x,l,h]);return v}function hg(){var n=wu(),c=n[0],l=Gd(),g=l[0];return function(){return!!c||g}}function pb(){var n=Zm();return function(){n.current=!0}}function mg(){var n=Zm();return function(){n.current=!1}}function pg(){var n=Zm();return function(){return n.current}}function gb(){var n=za(),c=mg(),l=pg();b.useEffect(function(){var g=n.current;g==null||g.addEventListener("mousemove",x,{passive:!0});function x(){l()&&c()}return function(){g==null||g.removeEventListener("mousemove",x)}},[n,c,l])}function Gf(){var n=Dl();return b.useCallback(function(){fa(n.current)},[n])}function wb(){var n=Gm();return b.useCallback(function(){n.current&&fg(n.current)},[n])}function gg(){var n=Qm();return b.useCallback(function(){n.current&&fg(n.current)},[n])}function yb(){var n=Um();return function c(l){if(typeof l=="function")return c(l(n.current));n.current=l}}function wg(){var n=Wm(),c=Dl(),l=Gf();return function(){c.current&&(c.current.value=""),n(""),l()}}function vb(){var n=Dl(),c=Wm();return function(g){n.current?(n.current.value=""+n.current.value+g,c(Im(n.current.value))):c(Im(g))}}function bb(){var n=Dl(),c=Um(),l=yb(),g=Wm(),x=m0(),h=x[0],v=Cb(c.current,h);return{onChange:_,searchTerm:h,SearchInputRef:n,statusSearchResults:v};function _(k){var S=c.current,A=k.toLowerCase();if(S!=null&&S[A]||A.length<=1)return g(A);var I=Nb(A,S);if(!I)return g(A);l(function(E){var j;return Object.assign(E,(j={},j[A]=Lb(I,A),j))}),g(A)}}function Wm(){var n=m0(),c=n[1],l=Qd();return function(x){requestAnimationFrame(function(){c(x&&(x==null?void 0:x.toLowerCase())).then(function(){dg(l.current,0)})})}}function Lb(n,c){var l={};for(var g in n){var x=n[g];xb(x,c)&&(l[g]=x)}return l}function xb(n,c){return Zd(n).some(function(l){return l.includes(c)})}function _b(){var n=Um(),c=n.current,l=m0(),g=l[0];return function(x){return Mb(x,c,g)}}function Mb(n,c,l){var g;return!c||!l?!1:!((g=c[l])!=null&&g[n])}function Nb(n,c){if(!c)return null;if(c[n])return c[n];var l=Object.keys(c).sort(function(g,x){return x.length-g.length}).find(function(g){return n.includes(g)});return l?c[l]:null}function Im(n){return!n||typeof n!="string"?"":n.trim().toLowerCase()}function Cb(n,c){var l;if(!(n!=null&&n[c]))return"";var g=((l=Object.entries(n==null?void 0:n[c]))==null?void 0:l.length)||0;return $4(g)}function yg(){var n=ug(),c=wu(),l=c[1];return function(x){var h=Vm(x),v=h[0];v&&(n(x),l(v))}}function Jm(){var n=rg();return n===fu.SEARCH}function vg(){var n=rg();return n===fu.PREVIEW}var lr;(function(n){n.ArrowDown="ArrowDown",n.ArrowUp="ArrowUp",n.ArrowLeft="ArrowLeft",n.ArrowRight="ArrowRight",n.Escape="Escape",n.Enter="Enter",n.Space=" "})(lr||(lr={}));function kb(){Sb(),Ib(),jb(),Eb(),Tb()}function Sb(){var n=Qd(),c=wg(),l=ob(),g=Dl(),x=Gf(),h=hg(),v=pb(),_=Yf(),k=b.useMemo(function(){return function(A){var I=A.key;switch(v(),I){case lr.Escape:if(A.preventDefault(),h()){_();return}c(),l(0),x();break}}},[l,c,_,x,h,v]);b.useEffect(function(){var S=n.current;if(S)return S.addEventListener("keydown",k),function(){S.removeEventListener("keydown",k)}},[n,g,l,k])}function Ib(){var n=wb(),c=Qd(),l=za(),g=Dl(),x=Gd(),h=x[1],v=bg(),_=Jm(),k=b.useMemo(function(){return function(A){var I=A.key;switch(I){case lr.ArrowRight:if(!_)return;A.preventDefault(),h(!0),n();break;case lr.ArrowDown:A.preventDefault(),v();break;case lr.Enter:A.preventDefault(),sb(l.current);break}}},[n,v,h,l,_]);b.useEffect(function(){var S=g.current;if(S)return S.addEventListener("keydown",k),function(){S.removeEventListener("keydown",k)}},[c,g,k])}function jb(){var n=Gm(),c=Gf(),l=Dl(),g=bg(),x=Gd(),h=x[0],v=x[1],_=vg(),k=Jm(),S=$m(),A=b.useMemo(function(){return function(E){var j=E.key;if(k)switch(j){case lr.ArrowLeft:if(E.preventDefault(),!h)return c();J1(c);break;case lr.ArrowRight:if(E.preventDefault(),!h)return c();$1();break;case lr.ArrowDown:E.preventDefault(),h&&v(!1),g();break;default:S(E);break}if(_)switch(j){case lr.ArrowUp:if(E.preventDefault(),!h)return c();J1(c);break;case lr.ArrowDown:if(E.preventDefault(),!h)return c();$1();break;default:S(E);break}}},[h,c,v,g,S,_,k]);b.useEffect(function(){var I=n.current;if(I)return I.addEventListener("keydown",A),function(){I.removeEventListener("keydown",A)}},[n,l,h,A])}function Eb(){var n=Gf(),c=Qm(),l=za(),g=$m(),x=b.useMemo(function(){return function(v){var _=v.key;switch(_){case lr.ArrowUp:v.preventDefault(),n();break;case lr.ArrowRight:v.preventDefault(),lg(Ad());break;case lr.ArrowLeft:v.preventDefault(),sg(Ad());break;case lr.ArrowDown:v.preventDefault(),y0(l.current);break;default:g(v);break}}},[l,n,g]);b.useEffect(function(){var h=c.current;if(h)return h.addEventListener("keydown",x),function(){h.removeEventListener("keydown",x)}},[c,l,x])}function Tb(){var n=za(),c=Ab(),l=yg(),g=hg(),x=Yf(),h=$m(),v=b.useMemo(function(){return function(k){var S=k.key,A=co(Ad());switch(S){case lr.ArrowRight:k.preventDefault(),fb(A);break;case lr.ArrowLeft:k.preventDefault(),cb(A);break;case lr.ArrowDown:if(k.preventDefault(),g()){x();break}db(A);break;case lr.ArrowUp:if(k.preventDefault(),g()){x();break}ub(A,c);break;case lr.Space:k.preventDefault(),l(k.target);break;default:h(k);break}}},[c,h,l,g,x]);b.useEffect(function(){var _=n.current;if(_)return _.addEventListener("keydown",v),function(){_.removeEventListener("keydown",v)}},[n,v])}function bg(){var n=gg(),c=p0(),l=za();return b.useCallback(function(){return c?y0(l.current):n()},[l,n,c])}function Ab(){var n=Gf(),c=gg(),l=p0();return b.useCallback(function(){return l?n():c()},[n,l,c])}function J1(n){var c=Ad();c&&(Wb(c)||n(),lg(c))}function $1(){var n=Ad();n&&sg(n)}function $m(){var n=vb(),c=Gf(),l=ng(),g=Yf();return function(h){var v=h.key;Db(h)||l||v.match(/(^[a-zA-Z0-9]$){1}/)&&(h.preventDefault(),g(),c(),n(v))}}function Db(n){var c=n.metaKey,l=n.ctrlKey,g=n.altKey;return c||l||g}function Pb(n,c,l){if(c&&l!==oa.NATIVE){var g=si(c);H1.has(g)||(Yd(c).forEach(function(x){var h=n(x,l);zb(h)}),H1.add(g))}}var H1=new Set;function zb(n){var c=new Image;c.src=n}function Rb(){var n=za(),c=Uf(),l=Zf();b.useEffect(function(){if(c===oa.NATIVE)return;var g=n.current;return g==null||g.addEventListener("focusin",x),function(){g==null||g.removeEventListener("focusin",x)};function x(h){var v=co(h.target);if(v){var _=Vm(v),k=_[0];k&&gu(k)&&Pb(l,k,c)}}},[n,c,l])}var Ob=["width","height"],Lg=40;function Bb(n){var c=n.children;return b.createElement(X4,null,b.createElement(Fb,null,c))}function Fb(n){var c,l=n.children,g=h0(),x=g[0],h=B4(),v=p0(),_=Qd(),k=Z4(),S=Y4();kb(),Rb();var A=S||{},I=A.width,E=A.height,j=Fp(A,Ob);return b.createElement("aside",{className:Xt(Ld.main,Ld.baseVariables,h===jd.DARK&&Ld.darkTheme,h===jd.AUTO&&Ld.autoThemeDark,(c={},c[Jt.searchActive]=v,c),x&&Ld.reactionsMenu,k),ref:_,style:Un({},j,!x&&{height:E,width:I})},l)}var V1={"--epr-emoji-variation-picker-bg-color":"var(--epr-dark-emoji-variation-picker-bg-color)","--epr-hover-bg-color-reduced-opacity":"var(--epr-dark-hover-bg-color-reduced-opacity)","--epr-highlight-color":"var(--epr-dark-highlight-color)","--epr-text-color":"var(--epr-dark-text-color)","--epr-hover-bg-color":"var(--epr-dark-hover-bg-color)","--epr-focus-bg-color":"var(--epr-dark-focus-bg-color)","--epr-search-input-bg-color":"var(--epr-dark-search-input-bg-color)","--epr-category-label-bg-color":"var(--epr-dark-category-label-bg-color)","--epr-picker-border-color":"var(--epr-dark-picker-border-color)","--epr-bg-color":"var(--epr-dark-bg-color)","--epr-reactions-bg-color":"var(--epr-dark-reactions-bg-color)","--epr-search-input-bg-color-active":"var(--epr-dark-search-input-bg-color-active)","--epr-emoji-variation-indicator-color":"var(--epr-dark-emoji-variation-indicator-color)","--epr-category-icon-active-color":"var(--epr-dark-category-icon-active-color)","--epr-skin-tone-picker-menu-color":"var(--epr-dark-skin-tone-picker-menu-color)"},Ld=An.create({main:{".":["epr-main",Jt.emojiPicker],position:"relative",display:"flex",flexDirection:"column",borderWidth:"1px",borderStyle:"solid",borderRadius:"var(--epr-picker-border-radius)",borderColor:"var(--epr-picker-border-color)",backgroundColor:"var(--epr-bg-color)",overflow:"hidden",transition:"all 0.3s ease-in-out, background-color 0.1s ease-in-out","*":{boxSizing:"border-box",fontFamily:"sans-serif"}},baseVariables:{"--":{"--epr-highlight-color":"#007aeb","--epr-hover-bg-color":"#f1f8ff","--epr-hover-bg-color-reduced-opacity":"#f1f8ff80","--epr-focus-bg-color":"#e0f0ff","--epr-text-color":"#858585","--epr-search-input-bg-color":"#f6f6f6","--epr-picker-border-color":"#e7e7e7","--epr-bg-color":"#fff","--epr-reactions-bg-color":"#ffffff90","--epr-category-icon-active-color":"#6aa8de","--epr-skin-tone-picker-menu-color":"#ffffff95","--epr-horizontal-padding":"10px","--epr-picker-border-radius":"8px","--epr-search-border-color":"var(--epr-highlight-color)","--epr-header-padding":"15px var(--epr-horizontal-padding)","--epr-active-skin-tone-indicator-border-color":"var(--epr-highlight-color)","--epr-active-skin-hover-color":"var(--epr-hover-bg-color)","--epr-search-input-bg-color-active":"var(--epr-search-input-bg-color)","--epr-search-input-padding":"0 30px","--epr-search-input-border-radius":"8px","--epr-search-input-height":"40px","--epr-search-input-text-color":"var(--epr-text-color)","--epr-search-input-placeholder-color":"var(--epr-text-color)","--epr-search-bar-inner-padding":"var(--epr-horizontal-padding)","--epr-category-navigation-button-size":"30px","--epr-emoji-variation-picker-height":"45px","--epr-emoji-variation-picker-bg-color":"var(--epr-bg-color)","--epr-preview-height":"70px","--epr-preview-text-size":"14px","--epr-preview-text-padding":"0 var(--epr-horizontal-padding)","--epr-preview-border-color":"var(--epr-picker-border-color)","--epr-preview-text-color":"var(--epr-text-color)","--epr-category-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-bg-color":"#ffffffe6","--epr-category-label-text-color":"var(--epr-text-color)","--epr-category-label-padding":"0 var(--epr-horizontal-padding)","--epr-category-label-height":Lg+"px","--epr-emoji-size":"30px","--epr-emoji-padding":"5px","--epr-emoji-fullsize":"calc(var(--epr-emoji-size) + var(--epr-emoji-padding) * 2)","--epr-emoji-hover-color":"var(--epr-hover-bg-color)","--epr-emoji-variation-indicator-color":"var(--epr-picker-border-color)","--epr-emoji-variation-indicator-color-hover":"var(--epr-text-color)","--epr-header-overlay-z-index":"3","--epr-emoji-variations-indictator-z-index":"1","--epr-category-label-z-index":"2","--epr-skin-variation-picker-z-index":"5","--epr-preview-z-index":"6","--epr-dark":"#000","--epr-dark-emoji-variation-picker-bg-color":"var(--epr-dark)","--epr-dark-highlight-color":"#c0c0c0","--epr-dark-text-color":"var(--epr-highlight-color)","--epr-dark-hover-bg-color":"#363636f6","--epr-dark-hover-bg-color-reduced-opacity":"#36363680","--epr-dark-focus-bg-color":"#474747","--epr-dark-search-input-bg-color":"#333333","--epr-dark-category-label-bg-color":"#222222e6","--epr-dark-picker-border-color":"#151617","--epr-dark-bg-color":"#222222","--epr-dark-reactions-bg-color":"#22222290","--epr-dark-search-input-bg-color-active":"var(--epr-dark)","--epr-dark-emoji-variation-indicator-color":"#444","--epr-dark-category-icon-active-color":"#3271b7","--epr-dark-skin-tone-picker-menu-color":"#22222295"}},autoThemeDark:{".":Jt.autoTheme,"@media (prefers-color-scheme: dark)":{"--":V1}},darkTheme:{".":Jt.darkTheme,"--":V1},reactionsMenu:{".":"epr-reactions",height:"50px",display:"inline-flex",backgroundColor:"var(--epr-reactions-bg-color)",backdropFilter:"blur(8px)","--":{"--epr-picker-border-radius":"50px"}}});function xg(n,c){if(!n||!c)return 0;var l=n.getBoundingClientRect().width,g=c.getBoundingClientRect().width;return Math.floor(l/g)}function _g(n,c){if(!n||!c)return 0;var l=c.getBoundingClientRect().width,g=c.getBoundingClientRect().left,x=n.getBoundingClientRect().left;return Math.floor((g-x)/l)}function Mg(n,c){if(!n||!c)return 0;var l=c.getBoundingClientRect().height,g=c.getBoundingClientRect().top,x=n.getBoundingClientRect().top;return Math.round((g-x)/l)}function Ub(n,c){if(!n||!c)return!1;var l=c.getBoundingClientRect().height,g=c.getBoundingClientRect().top,x=n.getBoundingClientRect().top,h=n.getBoundingClientRect().height;return Math.round(g-x+l)<h}function Hm(n,c,l){if(c===-1){var g=Math.floor((n.length-1)/l),x=g*l,h=n.length-1;return n.slice(x,h+1)}return n.slice(c*l,(c+1)*l)}function Zb(n,c,l){var g=c+1;return g*l>n.length?[]:Hm(n,g,l)}function Ng(n,c,l,g){var x=Hm(n,c,l);return x[g]||x[x.length-1]||null}function Yb(n,c,l,g){var x=Zb(n,c,l);return x[g]||x[x.length-1]||null}function Gb(n,c,l,g){var x=Hm(n,c-1,l);return x[g]||x[x.length-1]||null}function Qb(n,c,l){if(!n||!c.length)return null;var g=n.getBoundingClientRect().top,x=n.getBoundingClientRect().bottom,h=g+Jb(n),v=c.find(function(_){var k=_.getBoundingClientRect().top,S=_.getBoundingClientRect().bottom,A=_.clientHeight*l,I=k+A,E=S-A;return I<h?!1:I>=g&&I<=x||E>=g&&E<=x});return v||null}function Wb(n){return!!n.nextElementSibling}function Jb(n){for(var c=Array.from(n.querySelectorAll(Qr(Jt.label))),l=0,g=c;l<g.length;l++){var x=g[l],h=x.getBoundingClientRect().height;if(h>0)return h}return Lg}var i0="button"+Qr(Jt.emoji),$b=[i0,Qr(Jt.visible),":not("+Qr(Jt.hidden)+")"].join("");function co(n){var c;return(c=n==null?void 0:n.closest(i0))!=null?c:null}function Vm(n){var c=jg(n),l=Km(n);if(!c)return[];var g=cu(l??c);return g?[g,l]:[]}function Hb(n){var c;return!!(n!=null&&n.matches(i0)||!(n==null||(c=n.parentElement)==null)&&c.matches(i0))}function q1(n){var c;return(c=n==null?void 0:n.clientHeight)!=null?c:0}function Cg(n){if(!n)return 0;var c=co(n),l=Pl(c),g=qm(l);return K1(c)+K1(l)+g}function qm(n){var c,l;if(!n)return 0;var g=n.querySelector(Qr(Jt.categoryContent));return((c=n==null?void 0:n.clientHeight)!=null?c:0)-((l=g==null?void 0:g.clientHeight)!=null?l:0)}function Vb(n){return n?Sg(n)<qm(Pl(n)):!1}function kg(n){return n?n.matches(Qr(Jt.scrollBody))?n:n.querySelector(Qr(Jt.scrollBody)):null}function Sg(n){var c,l;return n?Cg(n)-((c=(l=Ig(n))==null?void 0:l.scrollTop)!=null?c:0):0}function Ig(n){var c;return n&&(c=n.closest(Qr(Jt.scrollBody)))!=null?c:null}function qb(n){var c=co(n),l=Pl(c);return X1(c)+X1(l)}function K1(n){var c;return(c=n==null?void 0:n.offsetTop)!=null?c:0}function X1(n){var c;return(c=n==null?void 0:n.offsetLeft)!=null?c:0}function Km(n){var c;return(c=Kb(co(n),"unified"))!=null?c:null}function jg(n){var c=Km(n);return c?Fm(c):null}function Eg(n){return n?{unified:Km(n),originalUnified:jg(n)}:{unified:null,originalUnified:null}}function Kb(n,c){var l;return(l=Xb(n)[c])!=null?l:null}function Xb(n){var c;return(c=n==null?void 0:n.dataset)!=null?c:{}}function Xm(n){return n.classList.contains(Jt.visible)}function Tg(n){return n?n.classList.contains(Jt.hidden):!0}function uu(n){return n?Array.from(n.querySelectorAll($b)):[]}function Ag(n){if(!n)return null;var c=uu(n),l=c.slice(-1),g=l[0];return g?Xm(g)?g:e1(g):null}function Dg(n){var c=n.nextElementSibling;return c?Xm(c)?c:Dg(c):t1(b0(n))}function e1(n){var c=n.previousElementSibling;return c?Xm(c)?c:e1(c):Ag(v0(n))}function t1(n){if(!n)return null;var c=uu(n);return Qb(n,c,.1)}function v0(n){var c=Pl(n);if(!c)return null;var l=c.previousElementSibling;return l?Tg(l)?v0(l):l:null}function b0(n){var c=Pl(n);if(!c)return null;var l=c.nextElementSibling;return l?Tg(l)?b0(l):l:null}function Pl(n){return n?n.closest(Qr(Jt.category)):null}function Pg(n){return n?n.closest(Qr(Jt.categoryContent)):null}function zg(n){return n.split("-").map(function(c){return String.fromCodePoint(parseInt(c,16))}).join("")}var Rg="epr_suggested";function Og(n){try{var c,l,g;if(!((c=window)!=null&&c.localStorage))return[];var x=JSON.parse((l=(g=window)==null?void 0:g.localStorage.getItem(Rg))!=null?l:"[]");return n===Id.FREQUENT?x.sort(function(h,v){return v.count-h.count}):x}catch{return[]}}function eL(n,c){var l=Og(),g=si(n,c),x=si(n),h=l.find(function(k){var S=k.unified;return S===g}),v;h?v=[h].concat(l.filter(function(k){return k!==h})):(h={unified:g,original:x,count:0},v=[h].concat(l)),h.count++,v.length=Math.min(v.length,14);try{var _;(_=window)==null||_.localStorage.setItem(Rg,JSON.stringify(v))}catch{}}function tL(n){return n.category===Wt.CUSTOM}function Bg(n){return n.imgUrl!==void 0}function Fg(n,c){var l=b.useRef(),g=yg(),x=eb(),h=wu(),v=h[1],_=Yf(),k=Ym(),S=k[0],A=R4(c),I=og(),E=I[1],j=Zf(),Z=Uf(),J=b.useCallback(function(we){if(!x.current){_();var xe=ep(we),fe=xe[0],U=xe[1];if(!(!fe||!U)){var Y=x4(U)||S;E(),eL(fe,Y),A(nL(fe,Y,Z,j),we)}}},[S,_,x,A,E,j,Z]),$=b.useCallback(function(we){var xe;l.current&&clearTimeout(l.current);var fe=ep(we),U=fe[0];!U||!gu(U)||(l.current=(xe=window)==null?void 0:xe.setTimeout(function(){x.current=!0,l.current=void 0,_(),g(we.target),v(U)},500))},[x,_,g,v]),V=b.useCallback(function(){l.current?(clearTimeout(l.current),l.current=void 0):x.current&&requestAnimationFrame(function(){x.current=!1})},[x]);b.useEffect(function(){if(n.current){var re=n.current;return re.addEventListener("click",J,{passive:!0}),re.addEventListener("mousedown",$,{passive:!0}),re.addEventListener("mouseup",V,{passive:!0}),function(){re==null||re.removeEventListener("click",J),re==null||re.removeEventListener("mousedown",$),re==null||re.removeEventListener("mouseup",V)}}},[n,J,$,V])}function ep(n){var c=n==null?void 0:n.target;return Hb(c)?Vm(c):[]}function nL(n,c,l,g){var x=Zd(n);if(Bg(n)){var h=si(n);return{activeSkinTone:c,emoji:h,getImageUrl:function(){return n.imgUrl},imageUrl:n.imgUrl,isCustom:!0,names:x,unified:h,unifiedWithoutSkinTone:h}}var v=si(n,c);return{activeSkinTone:c,emoji:zg(v),getImageUrl:function(k){return k===void 0&&(k=l??oa.APPLE),g(v,k)},imageUrl:g(v,l??oa.APPLE),isCustom:!1,names:x,unified:v,unifiedWithoutSkinTone:si(n)}}function Wd(n){return b.createElement("button",Object.assign({type:"button"},n,{className:Xt(rL.button,n.className)}),n.children)}var rL=An.create({button:{".":"epr-btn",cursor:"pointer",border:"0",background:"none",outline:"none"}});function iL(n){var c,l=n.emojiNames,g=n.unified,x=n.hidden,h=n.hiddenOnSearch,v=n.showVariations,_=v===void 0?!0:v,k=n.hasVariations,S=n.children,A=n.className,I=n.noBackground,E=I===void 0?!1:I;return b.createElement(Wd,{className:Xt(pm.emoji,x&&Om.hidden,h&&Ff.hiddenOnSearch,(c={},c[Jt.visible]=!x&&!h,c),!!(k&&_)&&pm.hasVariations,E&&pm.noBackground,A),"data-unified":g,"aria-label":aL(l),"data-full-name":l},S)}function aL(n){var c;return n[0].match("flag-")&&(c=n[1])!=null?c:n[0]}var pm=An.create({emoji:{".":Jt.emoji,position:"relative",width:"var(--epr-emoji-fullsize)",height:"var(--epr-emoji-fullsize)",boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",borderRadius:"8px",overflow:"hidden",transition:"background-color 0.2s",":hover":{backgroundColor:"var(--epr-emoji-hover-color)"},":focus":{backgroundColor:"var(--epr-focus-bg-color)"}},noBackground:{background:"none",":hover":{backgroundColor:"transparent",background:"none"},":focus":{backgroundColor:"transparent",background:"none"}},hasVariations:{".":Jt.emojiHasVariations,":after":{content:"",display:"block",width:"0",height:"0",right:"0px",bottom:"1px",position:"absolute",borderLeft:"4px solid transparent",borderRight:"4px solid transparent",transform:"rotate(135deg)",borderBottom:"4px solid var(--epr-emoji-variation-indicator-color)",zIndex:"var(--epr-emoji-variations-indictator-z-index)"},":hover:after":{borderBottom:"4px solid var(--epr-emoji-variation-indicator-color-hover)"}}}),a0=An.create({external:{".":Jt.external,fontSize:"0"},common:{alignSelf:"center",justifySelf:"center",display:"block"}});function tp(n){var c=n.emojiName,l=n.style,g=n.lazyLoad,x=g===void 0?!1:g,h=n.imgUrl,v=n.onError,_=n.className;return b.createElement("img",{src:h,alt:c,className:Xt(oL.emojiImag,a0.external,a0.common,_),loading:x?"lazy":"eager",onError:v,style:l})}var oL=An.create({emojiImag:{".":"epr-emoji-img",maxWidth:"var(--epr-emoji-fullsize)",maxHeight:"var(--epr-emoji-fullsize)",minWidth:"var(--epr-emoji-fullsize)",minHeight:"var(--epr-emoji-fullsize)",padding:"var(--epr-emoji-padding)"}});function sL(n){var c=n.unified,l=n.style,g=n.className;return b.createElement("span",{className:Xt(lL.nativeEmoji,a0.common,a0.external,g),"data-unified":c,style:l},zg(c))}var lL=An.create({nativeEmoji:{".":"epr-emoji-native",fontFamily:'"Segoe UI Emoji", "Segoe UI Symbol", "Segoe UI", "Apple Color Emoji", "Twemoji Mozilla", "Noto Color Emoji", "EmojiOne Color", "Android Emoji"!important',position:"relative",lineHeight:"100%",fontSize:"var(--epr-emoji-size)",textAlign:"center",alignSelf:"center",justifySelf:"center",letterSpacing:"0",padding:"var(--epr-emoji-padding)"}});function jm(n){var c=n.emoji,l=n.unified,g=n.emojiStyle,x=n.size,h=n.lazyLoad,v=n.getEmojiUrl,_=v===void 0?Wp:v,k=n.className,S=ag(),A=S[1],I={};x&&(I.width=I.height=I.fontSize=x+"px");var E=c||cu(l);if(!E)return null;if(Bg(E))return b.createElement(tp,{style:I,emojiName:l,emojiStyle:oa.NATIVE,lazyLoad:h,imgUrl:E.imgUrl,onError:j,className:k});return b.createElement(b.Fragment,null,g===oa.NATIVE?b.createElement(sL,{unified:l,style:I,className:k}):b.createElement(tp,{style:I,emojiName:Sm(E),emojiStyle:g,lazyLoad:h,imgUrl:_(l,g),onError:j,className:k}));function j(){A(function(Z){return new Set(Z).add(l)})}}function L0(n){var c=n.emoji,l=n.unified,g=n.hidden,x=n.hiddenOnSearch,h=n.emojiStyle,v=n.showVariations,_=v===void 0?!0:v,k=n.size,S=n.lazyLoad,A=n.getEmojiUrl,I=n.className,E=n.noBackground,j=E===void 0?!1:E,Z=gu(c);return b.createElement(iL,{hasVariations:Z,showVariations:_,hidden:g,hiddenOnSearch:x,emojiNames:Zd(c),unified:l,noBackground:j},b.createElement(jm,{unified:l,emoji:c,size:k,emojiStyle:h,lazyLoad:S,getEmojiUrl:A,className:I}))}var fL="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI4LjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNS43LDEwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsMTAuOSw2LjEsMTEsNi4zLDExaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjRWNi43YzAtMC4zLTAuMi0wLjUtMC41LTAuNQoJQzkuOCw2LDkuNiw2LjIsOS42LDYuNXYzLjRINi4yQzUuOSw5LjksNS43LDEwLjEsNS43LDEwLjRMNS43LDEwLjR6Ii8+CjxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik01LjcsMzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDMxLDYuMywzMWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuMgoJQzUuOSwyOS45LDUuNywzMC4xLDUuNywzMC40TDUuNywzMC40eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNS43LDUwLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40QzYsNTAuOSw2LjEsNTEsNi4zLDUxaDMuNHYzLjRjMCwwLjEsMC4xLDAuMywwLjIsMC40CgljMC4xLDAuMSwwLjIsMC4yLDAuNCwwLjJjMC4zLDAsMC41LTAuMiwwLjUtMC41di0zLjRoMy40YzAuMywwLDAuNS0wLjIsMC41LTAuNXMtMC4yLTAuNS0wLjUtMC41aC0zLjR2LTMuNGMwLTAuMy0wLjItMC41LTAuNS0wLjUKCXMtMC41LDAuMi0wLjUsMC41djMuNEg2LjJDNS45LDQ5LjksNS43LDUwLjEsNS43LDUwLjRMNS43LDUwLjR6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik01LjcsNzAuNGMwLDAuMSwwLjEsMC4zLDAuMiwwLjRTNi4xLDcxLDYuMyw3MWgzLjR2My40YzAsMC4xLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMiwwLjIsMC40LDAuMgoJYzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMy40aDMuNGMwLjMsMCwwLjUtMC4yLDAuNS0wLjVzLTAuMi0wLjUtMC41LTAuNWgtMy40di0zLjRjMC0wLjMtMC4yLTAuNS0wLjUtMC41cy0wLjUsMC4yLTAuNSwwLjV2My40SDYuNAoJQzUuOSw2OS45LDUuNyw3MC4xLDUuNyw3MC40TDUuNyw3MC40eiIvPgo8L3N2Zz4=";function cL(){var n=h0(),c=n[1];return b.createElement(Wd,{"aria-label":"Show all Emojis",title:"Show all Emojis",tabIndex:0,className:Xt(uL.plusSign),onClick:function(){return c(!1)}})}var uL=An.create(Un({plusSign:{fontSize:"20px",padding:"17px",color:"var(--epr-text-color)",borderRadius:"50%",textAlign:"center",lineHeight:"100%",width:"20px",height:"20px",display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.2s ease-in-out",":after":{content:"",minWidth:"20px",minHeight:"20px",backgroundImage:"url("+fL+")",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",backgroundPositionY:"0"},":hover":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-20px"}},":focus":{color:"var(--epr-highlight-color)",backgroundColor:"var(--epr-hover-bg-color-reduced-opacity)",":after":{backgroundPositionY:"-40px"}}}},Tl("plusSign",{":after":{backgroundPositionY:"-40px"},":hover:after":{backgroundPositionY:"-60px"}})));function dL(){var n=h0(),c=n[0],l=rb(),g=J4();Fg(l,Td.REACTIONS);var x=Uf(),h=Kp(),v=Zf();return c?b.createElement("ul",{className:Xt(np.list,!c&&Om.hidden),ref:l},g.map(function(_){return b.createElement("li",{key:_},b.createElement(L0,{emoji:cu(_),emojiStyle:x,unified:_,showVariations:!1,className:Xt(np.emojiButton),noBackground:!0,getEmojiUrl:v}))}),h?b.createElement("li",null,b.createElement(cL,null)):null):null}var np=An.create({list:{listStyle:"none",margin:"0",padding:"0 5px",display:"flex",justifyContent:"space-between",alignItems:"center",height:"100%"},emojiButton:{":hover":{transform:"scale(1.2)"},":focus":{transform:"scale(1.2)"},":active":{transform:"scale(1.1)"},transition:"transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.5)"}});function hL(n){var c=Yf();b.useEffect(function(){var l=n.current;if(!l)return;l.addEventListener("scroll",g,{passive:!0});function g(){c()}return function(){l==null||l.removeEventListener("scroll",g)}},[n,c])}function mL(){var n=ag(),c=n[0],l=_b();return function(g){var x=si(g),h=c.has(x),v=l(x);return{failedToLoad:h,filteredOut:v,hidden:h||v}}}function Ug(n){var c=n.categoryConfig,l=n.children,g=n.hidden,x=n.hiddenOnSearch,h=Bm(c),v=Gp(c);return b.createElement("li",{className:Xt(gm.category,g&&Om.hidden,x&&Ff.hiddenOnSearch),"data-name":h,"aria-label":v},b.createElement("h2",{className:Xt(gm.label)},v),b.createElement("div",{className:Xt(gm.categoryContent)},l))}var gm=An.create({category:{".":Jt.category,":not(:has(.epr-visible))":{display:"none"}},categoryContent:{".":Jt.categoryContent,display:"grid",gridGap:"0",gridTemplateColumns:"repeat(auto-fill, var(--epr-emoji-fullsize))",justifyContent:"space-between",margin:"var(--epr-category-padding)",position:"relative"},label:{".":Jt.label,alignItems:"center",backdropFilter:"blur(3px)",backgroundColor:"var(--epr-category-label-bg-color)",color:"var(--epr-category-label-text-color)",display:"flex",fontSize:"16px",fontWeight:"bold",height:"var(--epr-category-label-height)",margin:"0",padding:"var(--epr-category-label-padding)",position:"sticky",textTransform:"capitalize",top:"0",width:"100%",zIndex:"var(--epr-category-label-z-index)"}}),wm=!1;function pL(){var n=b.useState(wm),c=n[0],l=n[1];return b.useEffect(function(){l(!0),wm=!0},[]),c||wm}function gL(n){var c=n.categoryConfig,l=og(),g=l[0],x=pL(),h=F4(),v=Zf(),_=b.useMemo(function(){var S;return(S=Og(h))!=null?S:[]},[g,h]),k=Uf();return x?b.createElement(Ug,{categoryConfig:c,hiddenOnSearch:!0,hidden:_.length===0},_.map(function(S){var A=cu(S.original);return A?b.createElement(L0,{showVariations:!1,unified:S.unified,emojiStyle:k,emoji:A,key:S.unified,getEmojiUrl:v}):null})):null}function wL(){var n=eg(),c=b.useRef(0);return b.createElement("ul",{className:Xt(vL.emojiList)},n.map(function(l){var g=Bm(l);return g===Wt.SUGGESTED?b.createElement(gL,{key:g,categoryConfig:l}):b.createElement(b.Suspense,{key:g},b.createElement(yL,{category:g,categoryConfig:l,renderdCategoriesCountRef:c}))}))}function yL(n){var c=n.category,l=n.categoryConfig,g=n.renderdCategoriesCountRef,x=mL(),h=U4(),v=Uf(),_=tb(),k=Ym(),S=k[0],A=V4(),I=Zf(),E=!Xp(),j=!_&&g.current>0?[]:y4(c);j.length>0&&g.current++;var Z=0,J=j.map(function($){var V=si($,S),re=x($),we=re.failedToLoad,xe=re.filteredOut,fe=re.hidden,U=A($);return(fe||U)&&Z++,U?null:b.createElement(L0,{showVariations:E,key:V,emoji:$,unified:V,hidden:we,hiddenOnSearch:xe,emojiStyle:v,lazyLoad:h,getEmojiUrl:I})});return b.createElement(Ug,{categoryConfig:l,hidden:Z===J.length},J)}var vL=An.create({emojiList:{".":Jt.emojiList,listStyle:"none",margin:"0",padding:"0"}}),bL="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI1MHB4IgoJIGhlaWdodD0iMTVweCIgdmlld0JveD0iMCAwIDUwIDE1IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MCAxNSIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJMYXllcl8xIj4KPC9nPgo8ZyBpZD0iTGF5ZXJfMiI+Cgk8cGF0aCBmaWxsPSIjRkZGRkZGIiBzdHJva2U9IiNFOEU3RTciIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KCTxwYXRoIGZpbGw9IiMwMTAyMDIiIHN0cm9rZT0iIzE1MTYxNyIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMjYuODYtMC40M2w5LjgzLDExLjUzYzAuNTksMC42OSwxLjU2LDAuNjksMi4xNCwwbDkuODMtMTEuNTMiLz4KPC9nPgo8L3N2Zz4=",lu;(function(n){n[n.Up=0]="Up",n[n.Down=1]="Down"})(lu||(lu={}));function LL(){var n=g0(),c=ib(),l=wu(),g=l[0],x=Uf(),h=_L(c),v=h.getTop,_=h.getMenuDirection,k=ug(),S=xL(c),A=Zf(),I=co(n.current),E=!!(g&&I&&gu(g)&&I.classList.contains(Jt.emojiHasVariations));b.useEffect(function(){E&&y0(c.current)},[c,E,n]);var j,Z;return!E&&n.current?k(null):(j=v(),Z=S()),b.createElement("div",{ref:c,className:Xt(Uh.variationPicker,_()===lu.Down&&Uh.pointingUp,E&&Uh.visible),style:{top:j}},E&&g?[si(g)].concat(Yd(g)).slice(0,6).map(function(J){return b.createElement(L0,{key:J,emoji:g,unified:J,emojiStyle:x,showVariations:!1,getEmojiUrl:A})}):null,b.createElement("div",{className:Xt(Uh.pointer),style:Z}))}function xL(n){var c=g0();return function(){var g={};if(!n.current)return g;if(c.current){var x=co(c.current),h=qb(x);if(!x)return g;g.left=h+(x==null?void 0:x.clientWidth)/2}return g}}function _L(n){var c=g0(),l=za(),g=lu.Up;return{getMenuDirection:x,getTop:h};function x(){return g}function h(){g=lu.Up;var v=0;if(!n.current)return 0;var _=q1(n.current);if(c.current){var k,S=l.current,A=co(c.current),I=q1(A);v=Cg(A);var E=(k=S==null?void 0:S.scrollTop)!=null?k:0;E>v-_&&(g=lu.Down,v+=I+_)}return v-_}}var Uh=An.create(Un({variationPicker:{".":Jt.variationPicker,position:"absolute",right:"15px",left:"15px",padding:"5px",boxShadow:"0px 2px 5px rgba(0, 0, 0, 0.2)",borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"space-around",opacity:"0",visibility:"hidden",pointerEvents:"none",top:"-100%",border:"1px solid var(--epr-picker-border-color)",height:"var(--epr-emoji-variation-picker-height)",zIndex:"var(--epr-skin-variation-picker-z-index)",background:"var(--epr-emoji-variation-picker-bg-color)",transform:"scale(0.9)",transition:"transform 0.1s ease-out, opacity 0.2s ease-out"},visible:{opacity:"1",visibility:"visible",pointerEvents:"all",transform:"scale(1)"},pointingUp:{".":"pointing-up",transformOrigin:"center 0%",transform:"scale(0.9)"},".pointing-up":{pointer:{top:"0",transform:"rotate(180deg) translateY(100%) translateX(18px)"}},pointer:{".":"epr-emoji-pointer",content:"",position:"absolute",width:"25px",height:"15px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"50px 15px",top:"100%",transform:"translateX(-18px)",backgroundImage:"url("+bL+")"}},Tl("pointer",{backgroundPosition:"-25px 0"})));function ML(){var n=za();return hL(n),Fg(n,Td.PICKER),gb(),b.createElement("div",{className:Xt(NL.body,Ff.hiddenOnReactions),ref:n},b.createElement(LL,null),b.createElement(wL,null))}var NL=An.create({body:{".":Jt.scrollBody,flex:"1",overflowY:"scroll",overflowX:"hidden",position:"relative"}});function CL(n,c){if(!n||!c)return 0;var l=n.getBoundingClientRect(),g=c.getBoundingClientRect();return g.height-(l.y-g.y)}function kL(n,c){var l=za(),g=pg(),x=mg();b.useEffect(function(){if(!n)return;var h=l.current;h==null||h.addEventListener("keydown",k,{passive:!0}),h==null||h.addEventListener("mouseover",S,!0),h==null||h.addEventListener("focus",v,!0),h==null||h.addEventListener("mouseout",_,{passive:!0}),h==null||h.addEventListener("blur",_,!0);function v(A){var I=co(A.target);if(!I)return _();var E=Eg(I),j=E.unified,Z=E.originalUnified;if(!j||!Z)return _();c({unified:j,originalUnified:Z})}function _(A){if(A){var I=A.relatedTarget;if(!co(I))return c(null)}c(null)}function k(A){A.key==="Escape"&&c(null)}function S(A){if(!g()){var I=co(A.target);if(I){var E=CL(I,h),j=I.getBoundingClientRect().height;if(E<j)return SL(I,c);fa(I)}}}return function(){h==null||h.removeEventListener("mouseover",S),h==null||h.removeEventListener("mouseout",_),h==null||h.removeEventListener("focus",v,!0),h==null||h.removeEventListener("blur",_,!0),h==null||h.removeEventListener("keydown",k)}},[l,n,c,g,x])}function SL(n,c){var l,g=Eg(n),x=g.unified,h=g.originalUnified;!x||!h||((l=document.activeElement)==null||l.blur==null||l.blur(),c({unified:x,originalUnified:h}))}var Zh,Dd;(function(n){n.ROW="FlexRow",n.COLUMN="FlexColumn"})(Dd||(Dd={}));function Zg(n){var c=n.children,l=n.className,g=n.style,x=g===void 0?{}:g,h=n.direction,v=h===void 0?Dd.ROW:h;return b.createElement("div",{style:Un({},x),className:Xt(rp.flex,l,rp[v])},c)}var rp=An.create((Zh={flex:{display:"flex"}},Zh[Dd.ROW]={flexDirection:"row"},Zh[Dd.COLUMN]={flexDirection:"column"},Zh));function IL(n){var c=n.className,l=n.style,g=l===void 0?{}:l;return b.createElement("div",{style:Un({flex:1},g),className:Xt(c)})}function jL(n){var c=n.children,l=n.className,g=n.style;return b.createElement("div",{style:Un({},g,{position:"absolute"}),className:l},c)}function x0(n){var c=n.children,l=n.className,g=n.style;return b.createElement("div",{style:Un({},g,{position:"relative"}),className:l},c)}function EL(n){var c=n.isOpen,l=n.onClick,g=n.isActive,x=n.skinToneVariation,h=n.style;return b.createElement(Wd,{style:h,onClick:l,className:Xt("epr-tone-"+x,ym.tone,!c&&ym.closedTone,g&&ym.active),tabIndex:c?0:-1,"aria-pressed":g,"aria-label":"Skin tone "+p4[x]})}var ym=An.create({closedTone:{opacity:"0",zIndex:"0"},active:{".":"epr-active",zIndex:"1",opacity:"1"},tone:{".":"epr-tone",":hover":{boxShadow:"0 0 0 3px var(--epr-active-skin-hover-color)"},":focus":{boxShadow:"0 0 0 3px var(--epr-focus-bg-color)"},"&.epr-tone-neutral":{backgroundColor:"#ffd225"},"&.epr-tone-1f3fb":{backgroundColor:"#ffdfbd"},"&.epr-tone-1f3fc":{backgroundColor:"#e9c197"},"&.epr-tone-1f3fd":{backgroundColor:"#c88e62"},"&.epr-tone-1f3fe":{backgroundColor:"#a86637"},"&.epr-tone-1f3ff":{backgroundColor:"#60463a"}}}),Nd=28;function TL(){return b.createElement(x0,{style:{height:Nd}},b.createElement(jL,{style:{bottom:0,right:0}},b.createElement(Yg,{direction:Pd.VERTICAL})))}function Yg(n){var c=n.direction,l=c===void 0?Pd.HORIZONTAL:c,g=Gm(),x=Xp(),h=Gd(),v=h[0],_=h[1],k=Ym(),S=k[0],A=k[1],I=O4(),E=Yf(),j=Gf();if(x)return null;var Z=Nd*n0.length+"px",J=v?Z:Nd+"px",$=l===Pd.VERTICAL;return b.createElement(x0,{className:Xt(xd.skinTones,$&&xd.vertical,v&&xd.open,$&&v&&xd.verticalShadow),style:$?{flexBasis:J,height:J}:{flexBasis:J}},b.createElement("div",{className:Xt(xd.select),ref:g},n0.map(function(V,re){var we=V===S;return b.createElement(EL,{key:V,skinToneVariation:V,isOpen:v,style:{transform:Xt($?"translateY(-"+re*(v?Nd:0)+"px)":"translateX(-"+re*(v?Nd:0)+"px)",v&&we&&"scale(1.3)")},isActive:we,onClick:function(){v?(A(V),I(V),j()):_(!0),E()}})})))}var Pd;(function(n){n.VERTICAL="epr-vertical",n.HORIZONTAL="epr-horizontal"})(Pd||(Pd={}));var xd=An.create({skinTones:{".":"epr-skin-tones","--":{"--epr-skin-tone-size":"15px"},display:"flex",alignItems:"center",justifyContent:"flex-end",transition:"all 0.3s ease-in-out",padding:"10px 0"},vertical:{padding:"9px",alignItems:"flex-end",flexDirection:"column",borderRadius:"6px",border:"1px solid var(--epr-bg-color)"},verticalShadow:{boxShadow:"0px 0 7px var(--epr-picker-border-color)"},open:{backdropFilter:"blur(5px)",background:"var(--epr-skin-tone-picker-menu-color)",".epr-active:after":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",borderRadius:"5px",border:"1px solid var(--epr-active-skin-tone-indicator-border-color)"}},select:{".":"epr-skin-tone-select",position:"relative",width:"var(--epr-skin-tone-size)",height:"var(--epr-skin-tone-size)","> button":{width:"var(--epr-skin-tone-size)",display:"block",cursor:"pointer",borderRadius:"4px",height:"var(--epr-skin-tone-size)",position:"absolute",right:"0",transition:"transform 0.3s ease-in-out, opacity 0.35s ease-in-out",zIndex:"0",boxShadow:"0 0 0 0px var(--epr-active-skin-hover-color)"}}});function AL(){var n=tg(),c=vg();return n.showPreview?b.createElement(Zg,{className:Xt(Hh.preview,Ff.hiddenOnReactions)},b.createElement(DL,null),b.createElement(IL,null),c?b.createElement(TL,null):null):null}function DL(){var n,c=tg(),l=b.useState(null),g=l[0],x=l[1],h=Uf(),v=wu(),_=v[0],k=Zf();kL(c.showPreview,x);var S=cu((n=g==null?void 0:g.unified)!=null?n:g==null?void 0:g.originalUnified),A=S!=null&&g!=null;return b.createElement(I,null);function I(){var E=_??cu(c.defaultEmoji);if(!E)return null;var j=_?Sm(_):c.defaultCaption;return b.createElement(b.Fragment,null,b.createElement("div",null,A?b.createElement(jm,{unified:g==null?void 0:g.unified,emoji:S,emojiStyle:h,size:45,getEmojiUrl:k,className:Xt(Hh.emoji)}):E?b.createElement(jm,{unified:si(E),emoji:E,emojiStyle:h,size:45,getEmojiUrl:k,className:Xt(Hh.emoji)}):null),b.createElement("div",{className:Xt(Hh.label)},A?Sm(S):j))}}var Hh=An.create({preview:{alignItems:"center",borderTop:"1px solid var(--epr-preview-border-color)",height:"var(--epr-preview-height)",padding:"0 var(--epr-horizontal-padding)",position:"relative",zIndex:"var(--epr-preview-z-index)"},label:{color:"var(--epr-preview-text-color)",fontSize:"var(--epr-preview-text-size)",padding:"var(--epr-preview-text-padding)",textTransform:"capitalize"},emoji:{padding:"0"}});function PL(n){var c;return(c=n==null?void 0:n.getAttribute("data-name"))!=null?c:null}function zL(n){var c=za();b.useEffect(function(){var l=new Map,g=c.current,x=new IntersectionObserver(function(h){if(g){for(var v=H2(h),_;!(_=v()).done;){var k=_.value,S=PL(k.target);l.set(S,k.intersectionRatio)}var A=Array.from(l),I=A[A.length-1];if(I[1]==1)return n(I[0]);for(var E=0,j=A;E<j.length;E++){var Z=j[E],J=Z[0],$=Z[1];if($){n(J);break}}}},{threshold:[0,1]});g==null||g.querySelectorAll(Qr(Jt.category)).forEach(function(h){x.observe(h)})},[c,n])}function RL(){var n=za(),c=Qd();return function(g){var x;if(n.current){var h=(x=n.current)==null?void 0:x.querySelector('[data-name="'+g+'"]');if(h){var v=h.offsetTop||0;dg(c.current,v)}}}}function OL(){var n=P4();return n?n.length===0:!1}var BL="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMDBweCIgaGVpZ2h0PSI4MHB4IiB2aWV3Qm94PSIwIDAgMjAwIDgwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAyMDAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8ZyBpZD0iTGF5ZXJfMTEiPgoJPGc+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTIuOCwyOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjEtMS4yYy0wLjYsMC0xLjIsMC41LTEuMiwxLjJDMTEuNiwyOSwxMi4yLDI5LjUsMTIuOCwyOS41eiBNMTIuOCwyOGMwLjIsMCwwLjQsMC4yLDAuNCwwLjQKCQkJYzAsMC4yLTAuMiwwLjQtMC40LDAuNGMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzEyLjQsMjguMSwxMi42LDI4LDEyLjgsMjh6Ii8+CgkJPHBhdGggZmlsbD0iIzMzNzFCNyIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsMjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNywyNi4yLDEzLjgsMjMsMTAsMjN6IE0xMCwzNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiwzMy40LDEzLjQsMzYuMiwxMCwzNi4yeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsMzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDMxLjUsMTQuNywzMS4zLDE0LjYsMzEuMnogTTEwLDM0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywzMy4yLDExLjYsMzQuMSwxMCwzNC4xeiIvPgoJCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiwyOS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDI5LDYuNiwyOS41LDcuMiwyOS41eiBNNy4yLDI4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDI4LjEsNywyOCw3LjIsMjh6Ii8+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjQuMSwzMy40bDIuMywwYzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjMKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40di0yLjFDNjMuNywzMy42LDYzLjgsMzMuNCw2NC4xLDMzLjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTczLjUsMzMuNWgyLjRjMC4yLDAsMC40LDAuMiwwLjQsMC40djJjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMkM3My4xLDMzLjYsNzMuMywzMy41LDczLjUsMzMuNXoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNNjMuNywyOC40aDEyLjZ2NUg2My43VjI4LjR6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTY1LjUsMjMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN3YtMy4xQzYzLjcsMjQuNSw2NC41LDIzLjYsNjUuNSwyMy42eiIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNjYuMiIgY3k9IjMwLjkiIHJ4PSIwLjkiIHJ5PSIxIi8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSI3My44IiBjeT0iMzAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNOTYuNCwzMGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCwyNi40LDk2LjQsMzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTk2LjMsMjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4xYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xYy0wLjEtMC4xLTAuMS0wLjEtMC4xLTAuMmMwLjUtMC4xLDEuMi0wLjIsMi0wLjFjMS4yLDAsMi41LDAuMywzLjUsMS4xYzEsMC44LDEuNywxLjgsMi4xLDIuOAoJCQkJQzk2LjEsMjcuOSw5Ni4yLDI4LjMsOTYuMywyOC42eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik04NCwzMi4yYzAsMCwwLTAuMSwwLTAuMWMwLjktMC4yLDIuOS0wLjQsNC43LDAuNmMxLjEsMC43LDEuOSwxLjUsMi40LDIuMwoJCQkJYzAuNCwwLjUsMC42LDEsMC43LDEuM2MtMC40LDAuMS0xLDAuMi0xLjcsMC4zYy0xLDAtMi4xLTAuMS0zLjItMC44cy0xLjktMS42LTIuNC0yLjVDODQuMiwzMi44LDg0LjEsMzIuNSw4NCwzMi4yeiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTExNi4zLDI2LjhsLTEuNCwybC0wLjgtMC44bC0wLjYtMC42bDAsMC45bC0wLjEsOC4yaC02LjgKCQkJCWwtMC4xLTguMmwwLTAuOWwtMC42LDAuNmwtMC44LDAuOGwtMS40LTJsMi42LTIuOWMwLjEtMC4xLDAuMi0wLjEsMC4zLTAuMWgxLjNsMC40LDAuN2MwLjcsMS4zLDIuNiwxLjMsMy4zLTAuMWwwLjMtMC42aDEuMgoJCQkJYzAuMSwwLDAuMiwwLDAuMywwLjFsMC4zLTAuM2wtMC4zLDAuM0wxMTYuMywyNi44eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMTAuMSwyNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDI3LjdMMTEwLjEsMjcuN3oiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMTI2LjgsMzQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMzMuMSwxMjYuOCwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNiwzNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDMyLjEsMTM3LjYsMzMuMSwxMzcuNiwzNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMzcuNywyNC40djkuOSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIGQ9Ik0xMjYuOCwyMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDI2LjIsMTI2LjgsMjMuNSwxMjYuOCwyMy41eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSIjMzM3MUI3IiBkPSJNMTcwLjgsMjMuMUwxNzAuOCwyMy4xYy0wLjMsMC0wLjUsMC0wLjgsMGMtMi4xLDAtNCwxLTUuMywyLjVsLTAuMSwwbC0wLjEtMC4xbC0xLTEuMmwtMC4zLDMuNGwzLjQsMC4zCgkJCQlsLTEuMS0xLjNsLTAuMS0wLjFsMC4xLTAuMWMxLjEtMS41LDMtMi4zLDUtMi4xbDAsMGMzLjIsMC4zLDUuNSwzLjEsNS4yLDYuM2MtMC4zLDMtMy4xLDUuMy02LjEsNS4xYy0zLjEtMC4yLTUuNC0yLjktNS4zLTYKCQkJCWwtMS4zLTAuMWMtMC4yLDMuOCwyLjYsNy4xLDYuMyw3LjRjMy45LDAuMyw3LjMtMi42LDcuNi02LjVDMTc3LjIsMjYuOCwxNzQuNCwyMy41LDE3MC44LDIzLjF6Ii8+CgkJCTxwYXRoIGZpbGw9IiMzMzcxQjciIGQ9Ik0xNzAuMywyNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNnMtMC42LDAuMy0wLjYsMC42djMuMmMwLDAuMiwwLjEsMC4zLDAuMiwwLjRjMC4xLDAuMSwwLjMsMC4yLDAuNCwwLjIKCQkJCWgyLjRjMC40LDAsMC42LTAuMywwLjYtMC42YzAtMC40LTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJ2LTAuMkwxNzAuMywyNy40TDE3MC4zLDI3LjR6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTE4Ni4yLDIzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43di03LjdDMTgzLjQsMjQuNiwxODQuNywyMy40LDE4Ni4yLDIzLjR6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxODYiIGN5PSIyOC45IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiMzMzcxQjciIGN4PSIxOTQiIGN5PSIyNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDMzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KCTxwYXRoIGZpbGw9IiMzMzcxQjciIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLXdpZHRoPSIwLjI1IiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNTYsMjQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgkJYzAsMC0wLjIsMC4xLTAuOSwwLjJjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMC44LTAuMy0xLjctMC41LTIuNS0wLjVjLTAuMiwwLTAuNCwwLTAuNSwwYy0xLjMsMC0yLjUsMC4zLTMuNiwxCgkJYy0wLjIsMC4xLTAuMiwwLjItMC4yLDAuNHYxMS42YzAsMC4zLDAuMSwwLjUsMC4zLDAuNWMwLjYsMCwwLjUtMC40LDAuNS0wLjZ2LTUuN2MwLjctMC4zLDMuMi0xLjEsNS44LTAuMQoJCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjR2LTUuN0MxNTYuMiwyNC42LDE1Ni4xLDI0LjQsMTU2LDI0LjN6IE0xNTUuNiwzMC4yCgkJYy0wLjEsMC0wLjcsMC4xLTEsMC4xYy0wLjcsMC0yLjQtMC4xLTMuOC0wLjZjLTIuNS0xLTUtMC41LTYuMi0wLjF2LTQuOWMwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMAoJCWMwLjcsMCwxLjUsMC4yLDIuMiwwLjRjMS42LDAuNiwzLjUsMC43LDQuMywwLjdjMC4yLDAsMC44LDAsMS0wLjFWMzAuMnoiLz4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgZD0iTTQ4LjEsMjMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCUM0My42LDI1LjUsNDUuNiwyMy41LDQ4LjEsMjMuNXoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMjguOGMtMC4yLDAuMS0wLjUsMS4yLDAsMS41YzEuNCwxLDguNSwwLjgsMTEuMywwLjYKCQkJYzAuOC0wLjEsMS42LTAuNCwxLjctMS4yYzAtMC4zLTAuMS0wLjYtMC42LTAuOSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMC42TDQzLjMsMzFjLTAuMiwwLjUsMC4yLDEsMC43LDAuOWMwLjMtMC4xLDAuNSwwLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMiwwbDAuMi0wLjFjMC4zLTAuMiwwLjgtMC4yLDEuMSwwLjFsMC4yLDAuMmMwLjMsMC4zLDAuOCwwLjIsMS0wLjJsMC4xLTAuMmMwLjEtMC4yLDAtMC4zLDAuMi0wLjMKCQkJYzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMi4yYy0wLjEsMC4yLTAuMywwLjgsMCwxLjFjMC4zLDAuNCwzLDEuMSw2LjQsMS4xCgkJCWMyLjIsMCw0LjYtMC4zLDYtMC42YzAuNS0wLjEsMC45LTAuNSwwLjgtMC45YzAtMC4yLTAuMi0wLjUtMC40LTAuNyIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwzMy4zYzAsMC41LDAuNiwyLjMsMS4zLDIuN2MxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQljMS4zLTAuMSwyLjUtMC43LDMuMi0xLjhjMC4zLTAuNSwwLjUtMSwwLjUtMS40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUxLjYiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUzIiBjeT0iMjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjMzM3MUI3IiBjeD0iNTMiIGN5PSIyNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjU0LjMiIGN5PSIyNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjUwLjkiIGN5PSIyNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJPC9nPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBkPSJNMjQuMiwzMXYtNy42YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjYsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDMyLjksMjQuMiwzMiwyNC4yLDMxeiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiwzMGw1LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMzM3MUI3IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDM0LjFsNS40LTEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzMGwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzMzNzFCNyIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCwzNC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMzMzcxQjciIGQ9Ik0yOS41LDMyLjRMMjksMzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVzMC40LDAsMC41LDAuMmwwLjEsMC4yCgkJCUMyOC4zLDMyLjgsMjkuMSwzMi45LDI5LjUsMzIuNHoiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiMzMzcxQjciIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTMyLjQsMzIuMWwtMC4xLDAuMmMtMC40LDEtMS44LDEuMS0yLjMsMC4yIi8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjI3LjYiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJPGVsbGlwc2UgZmlsbD0iIzMzNzFCNyIgY3g9IjMyLjQiIGN5PSIyOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xMi44LDQ5LjVjMC42LDAsMS4xLTAuNSwxLjEtMS4xCgkJCWMwLTAuNi0wLjUtMS4yLTEuMS0xLjJjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMkMxMS42LDQ5LDEyLjIsNDkuNSwxMi44LDQ5LjV6IE0xMi44LDQ4YzAuMiwwLDAuNCwwLjIsMC40LDAuNAoJCQljMCwwLjItMC4yLDAuNC0wLjQsMC40Yy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDMTIuNCw0OC4xLDEyLjYsNDgsMTIuOCw0OHoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik0xNC42LDUxLjJjLTAuMS0wLjEtMC4yLTAuMi0wLjMtMC4ySDUuNwoJCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNyw1MS41LDE0LjcsNTEuMywxNC42LDUxLjJ6IE0xMCw1NC4xCgkJCWMtMS42LDAtMy0wLjktMy43LTIuMmg3LjNDMTMsNTMuMiwxMS42LDU0LjEsMTAsNTQuMXoiLz4KCQk8cGF0aCBmaWxsPSIjQzBDMEJGIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS13aWR0aD0iMC4xIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIGQ9Ik03LjIsNDkuNWMwLjYsMCwxLjItMC41LDEuMi0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4yLTEuMmMtMC42LDAtMS4xLDAuNS0xLjEsMS4yQzYuMSw0OSw2LjYsNDkuNSw3LjIsNDkuNXogTTcuMiw0OGMwLjIsMCwwLjQsMC4yLDAuNCwwLjRjMCwwLjItMC4yLDAuNC0wLjQsMC40CgkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40QzYuOCw0OC4xLDcsNDgsNy4yLDQ4eiIvPgoJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEwLDQzYy0zLjgsMC03LDMuMS03LDdjMCwzLjgsMy4xLDcsNyw3CgkJCXM3LTMuMSw3LTdDMTcsNDYuMiwxMy44LDQzLDEwLDQzeiBNMTAsNTYuMmMtMy40LDAtNi4yLTIuOC02LjItNi4yYzAtMy40LDIuOC02LjIsNi4yLTYuMnM2LjIsMi44LDYuMiw2LjIKCQkJQzE2LjIsNTMuNCwxMy40LDU2LjIsMTAsNTYuMnoiLz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02NC4xLDUzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDUzLjYsNjMuOCw1My40LDY0LjEsNTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNzMuNSw1My41aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2MmMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuNAoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRsMC0yQzczLjEsNTMuNiw3My4zLDUzLjUsNzMuNSw1My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik02My43LDQ4LjRoMTIuNnY1SDYzLjdWNDguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNjUuNSw0My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw0NC41LDY0LjUsNDMuNiw2NS41LDQzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI2Ni4yIiBjeT0iNTAuOSIgcng9IjAuOSIgcnk9IjEiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjczLjgiIGN5PSI1MC45IiByeD0iMC45IiByeT0iMSIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik05Ni40LDUwYzAsMy42LTIuOSw2LjUtNi40LDYuNXMtNi40LTIuOS02LjQtNi41czIuOS02LjUsNi40LTYuNVM5Ni40LDQ2LjQsOTYuNCw1MHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNOTYuMyw0OC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw0Ny45LDk2LjIsNDguMyw5Ni4zLDQ4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTg0LDUyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDUyLjgsODQuMSw1Mi41LDg0LDUyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNDYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDQ2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTExMC4xLDQ3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNDcuN0wxMTAuMSw0Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0xMjYuOCw1NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw1My4xLDEyNi44LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy42LDU0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNTIuMSwxMzcuNiw1My4xLDEzNy42LDU0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEzNy43LDQ0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgZD0iTTEyNi44LDQzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNDYuMiwxMjYuOCw0My41LDEyNi44LDQzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiNDMEMwQkYiIGQ9Ik0xNzAuOCw0My4xTDE3MC44LDQzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjUsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw0Ni44LDE3NC40LDQzLjUsMTcwLjgsNDMuMXoiLz4KCQkJPHBhdGggZmlsbD0iI0MwQzBCRiIgZD0iTTE3MC4zLDQ3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZjMC0wLjMtMC4zLTAuNi0wLjYtMC42aC0xLjZoLTAuMnYtMC4yTDE3MC4zLDQ3LjRMMTcwLjMsNDcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNMTg2LjIsNDMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw0NC43LDE4NC43LDQzLjQsMTg2LjIsNDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE4NiIgY3k9IjQ4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iI0MwQzBCRiIgY3g9IjE5NCIgY3k9IjQ2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNTMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iI0MwQzBCRiIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw0NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDQ0LjYsMTU2LjEsNDQuNCwxNTYsNDQuM3ogTTE1NS42LDUwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY1MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBkPSJNNDguMSw0My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNDUuNSw0NS42LDQzLjUsNDguMSw0My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw0OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDEsOC41LDAuOCwxMS4zLDAuNgoJCQljMC44LTAuMSwxLjYtMC40LDEuNy0xLjJjMC0wLjMtMC4xLTAuNi0wLjYtMC45Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUwLjZMNDMuMyw1MWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45YzAuMy0wLjEsMC41LDAsMC43LDAuMwoJCQlsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjIsMC44LDAuMSwxLjIsMGwwLjUtMC4yYzAuNC0wLjIsMC45LTAuMiwxLjMsMGwwLjUsMC4yCgkJCWMwLjQsMC4yLDAuOCwwLjIsMS4yLDBsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC41LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDUzLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTEuNiIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTMiIGN5PSI0NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiNDMEMwQkYiIGN4PSI1MyIgY3k9IjQ3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTQuMyIgY3k9IjQ2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iNTAuOSIgY3k9IjQ1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIGQ9Ik0yNC4yLDUxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNTIuOSwyNC4yLDUyLDI0LjIsNTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDUwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiNDMEMwQkYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsNTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDUwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjQzBDMEJGIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDU0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTI5LjUsNTIuNEwyOSw1MS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNTIuOCwyOS4xLDUyLjksMjkuNSw1Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iI0MwQzBCRiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw1Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMjcuNiIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjQzBDMEJGIiBjeD0iMzIuNCIgY3k9IjQ5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KCTxnPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE0LjYsNzEuMmMtMC4xLTAuMS0wLjItMC4yLTAuMy0wLjJINS43CgkJCWMtMC4xLDAtMC4yLDAuMS0wLjMsMC4yYy0wLjEsMC4xLTAuMSwwLjIsMCwwLjRjMC43LDIsMi41LDMuMyw0LjYsMy4zczMuOS0xLjMsNC42LTMuM0MxNC43LDcxLjUsMTQuNyw3MS4zLDE0LjYsNzEuMnogTTEwLDc0LjEKCQkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMyw3My4yLDExLjYsNzQuMSwxMCw3NC4xeiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsNjkuNWMwLjYsMCwxLjEtMC41LDEuMS0xLjEKCQkJYzAtMC42LTAuNS0xLjItMS4xLTEuMmMtMC42LDAtMS4yLDAuNS0xLjIsMS4yQzExLjYsNjksMTIuMiw2OS41LDEyLjgsNjkuNXogTTEyLjgsNjhjMC4yLDAsMC40LDAuMiwwLjQsMC40CgkJCWMwLDAuMi0wLjIsMC40LTAuNCwwLjRjLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDY4LjEsMTIuNiw2OCwxMi44LDY4eiIvPgoJCTxwYXRoIGZpbGw9IiM2QUE5REQiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw2OS41YzAuNiwwLDEuMi0wLjUsMS4yLTEuMQoJCQljMC0wLjYtMC41LTEuMi0xLjItMS4yYy0wLjYsMC0xLjEsMC41LTEuMSwxLjJDNi4xLDY5LDYuNiw2OS41LDcuMiw2OS41eiBNNy4yLDY4YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjRDNi44LDY4LjEsNyw2OCw3LjIsNjh6Ii8+CgkJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsNjNjLTMuOCwwLTcsMy4xLTcsN2MwLDMuOCwzLjEsNyw3LDcKCQkJczctMy4xLDctN0MxNyw2Ni4yLDEzLjgsNjMsMTAsNjN6IE0xMCw3Ni4yYy0zLjQsMC02LjItMi44LTYuMi02LjJjMC0zLjQsMi44LTYuMiw2LjItNi4yczYuMiwyLjgsNi4yLDYuMgoJCQlDMTYuMiw3My40LDEzLjQsNzYuMiwxMCw3Ni4yeiIvPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTY0LjEsNzMuNGwyLjMsMGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi4zCgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNHYtMi4xQzYzLjcsNzMuNiw2My44LDczLjQsNjQuMSw3My40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik03My41LDczLjVoMi40YzAuMiwwLDAuNCwwLjIsMC40LDAuNHYyLjFjMCwwLjItMC4yLDAuNC0wLjQsMC40aC0yLjQKCQkJCWMtMC4yLDAtMC40LTAuMi0wLjQtMC40bDAtMi4xQzczLjEsNzMuNiw3My4zLDczLjUsNzMuNSw3My41eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik02My43LDY4LjRoMTIuNnY1SDYzLjdWNjguNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNjUuNSw2My42aDguOWMxLDAsMS45LDAuOCwxLjksMS45djMuMUg2My43di0zLjFDNjMuNyw2NC41LDY0LjUsNjMuNiw2NS41LDYzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI2Ni4yIiBjeT0iNzAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNzMuOCIgY3k9IjcwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNOTYuNCw3MGMwLDMuNi0yLjksNi41LTYuNCw2LjVzLTYuNC0yLjktNi40LTYuNXMyLjktNi41LDYuNC02LjVTOTYuNCw2Ni40LDk2LjQsNzB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTk2LjMsNjguNmMwLDAsMCwwLjEsMCwwLjFjLTAuOSwwLjEtMi45LDAuMS00LjYtMS4yYy0xLjEtMC44LTItMS43LTIuNi0yLjUKCQkJCWMtMC4zLTAuNC0wLjYtMC44LTAuNy0xLjFjLTAuMS0wLjEtMC4xLTAuMi0wLjEtMC4yYzAuNS0wLjEsMS4yLTAuMiwyLTAuMmMxLjIsMCwyLjUsMC4zLDMuNSwxLjFjMSwwLjgsMS43LDEuOCwyLjEsMi44CgkJCQlDOTYuMSw2Ny45LDk2LjIsNjguMyw5Ni4zLDY4LjZ6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTg0LDcyLjJjMCwwLDAtMC4xLDAtMC4xYzAuOS0wLjIsMi45LTAuNCw0LjcsMC42YzEuMSwwLjcsMS45LDEuNSwyLjQsMi4zCgkJCQljMC40LDAuNSwwLjYsMSwwLjcsMS4zYy0wLjQsMC4xLTEsMC4yLTEuNywwLjNjLTEsMC0yLjEtMC4xLTMuMi0wLjhzLTEuOS0xLjYtMi40LTIuNUM4NC4yLDcyLjgsODQuMSw3Mi40LDg0LDcyLjJ6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNjYuOGwtMS40LDJsLTAuOC0wLjhsLTAuNi0wLjdsMCwwLjlsLTAuMSw4LjJoLTYuOAoJCQkJbC0wLjEtOC4ybDAtMC45bC0wLjYsMC43bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDY2Ljh6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTExMC4xLDY3LjdoMnYwLjljMCwwLjQtMC40LDAuNy0xLDAuN2MtMC42LDAtMS0wLjMtMS0wLjdMMTEwLjEsNjcuN0wxMTAuMSw2Ny43eiIvPgoJCTwvZz4KCTwvZz4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0xMjYuOCw3NC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJzLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMlMxMjYuOCw3My4xLDEyNi44LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy42LDc0LjNjMCwxLjItMSwyLjItMi4yLDIuMmMtMS4yLDAtMi4yLTEtMi4yLTIuMnMxLTIuMiwyLjItMi4yCgkJCQlDMTM2LjYsNzIuMSwxMzcuNiw3My4xLDEzNy42LDc0LjN6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEzNy43LDY0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgZD0iTTEyNi44LDYzLjVoMTAuOHYyLjdoLTEwLjhDMTI2LjgsNjYuMiwxMjYuOCw2My41LDEyNi44LDYzLjV6Ii8+CgkJPC9nPgoJPC9nPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xNzAuOCw2My4xTDE3MC44LDYzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJbC0xLjMtMC4xYy0wLjIsMy44LDIuNiw3LjEsNi4zLDcuNGMzLjksMC4zLDcuMy0yLjYsNy42LTYuNUMxNzcuMiw2Ni44LDE3NC40LDYzLjUsMTcwLjgsNjMuMXoiLz4KCQkJPHBhdGggZmlsbD0iIzZBQTlERCIgZD0iTTE3MC4zLDY3LjRjMC0wLjMtMC4zLTAuNi0wLjYtMC42cy0wLjYsMC4zLTAuNiwwLjZ2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZTMTcyLjQsNzAsMTcyLDcwaC0xLjZoLTAuMnYtMC4yTDE3MC4zLDY3LjRMMTcwLjMsNjcuNHoiLz4KCQk8L2c+Cgk8L2c+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNMTg2LjIsNjMuNGg3LjdjMS41LDAsMi43LDEuMiwyLjcsMi43djcuN2MwLDEuNS0xLjIsMi43LTIuNywyLjdoLTcuNwoJCQkJYy0xLjUsMC0yLjctMS4yLTIuNy0yLjd2LTcuN0MxODMuNCw2NC43LDE4NC43LDYzLjQsMTg2LjIsNjMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE4NiIgY3k9IjY4LjkiIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzZBQTlERCIgY3g9IjE5NCIgY3k9IjY2LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0xODYsNzMuM2wwLjQtMC4zYzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLDAuNAoJCQkJYzAuNSwwLjIsMSwwLjIsMS41LTAuMWwwLjgtMC41YzAuNC0wLjMsMS0wLjMsMS41LTAuMWwxLjgsMC44Ii8+CgkJPC9nPgoJPC9nPgoJPHBhdGggZmlsbD0iIzZBQTlERCIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2Utd2lkdGg9IjAuMjUiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTE1Niw2NC4zYy0wLjItMC4xLTAuNC0wLjEtMC41LDAKCQljMCwwLTAuMiwwLjEtMC45LDAuMmMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCQljLTAuMiwwLjEtMC4yLDAuMi0wLjIsMC40djExLjZjMCwwLjMsMC4xLDAuNSwwLjMsMC41YzAuNiwwLDAuNS0wLjQsMC41LTAuNnYtNS43YzAuNy0wLjMsMy4yLTEuMSw1LjgtMC4xCgkJYzEuNiwwLjYsMy41LDAuNyw0LjMsMC43YzAuOCwwLDEuMy0wLjMsMS4zLTAuM2MwLjItMC4xLDAuMy0wLjIsMC4zLTAuNHYtNS43QzE1Ni4yLDY0LjYsMTU2LjEsNjQuNCwxNTYsNjQuM3ogTTE1NS42LDcwLjIKCQljLTAuMSwwLTAuNywwLjEtMSwwLjFjLTAuNywwLTIuNC0wLjEtMy44LTAuNmMtMi41LTEtNS0wLjUtNi4yLTAuMXYtNC45YzAuOS0wLjUsMi4yLTAuNywzLjItMC43YzAuMSwwLDAuMywwLDAuNCwwCgkJYzAuNywwLDEuNSwwLjIsMi4yLDAuNGMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVY3MC4yeiIvPgoJPGc+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBkPSJNNDguMSw2My41aDMuN2MyLjUsMCw0LjUsMiw0LjUsNC41YzAsMC41LTAuNCwwLjktMC45LDAuOUg0NC41Yy0wLjUsMC0wLjktMC40LTAuOS0wLjkKCQkJQzQzLjYsNjUuNSw0NS42LDYzLjUsNDguMSw2My41eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw2OC44Yy0wLjIsMC4xLTAuNSwxLjIsMCwxLjVjMS40LDAuOSw4LjUsMC44LDExLjMsMC42CgkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsNzAuNkw0My4zLDcxYy0wLjIsMC41LDAuMiwxLDAuNywwLjljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjMKCQkJbDAuMSwwLjJjMC4zLDAuNSwxLDAuNiwxLjUsMC4ybDAsMGMwLjMtMC4yLDAuNy0wLjMsMS0wLjJsMC44LDAuM2MwLjQsMC4yLDAuOCwwLjEsMS4yLDBsMC41LTAuMmMwLjQtMC4yLDAuOS0wLjIsMS4zLDBsMC41LDAuMgoJCQljMC40LDAuMiwwLjgsMC4yLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjIsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yYzAuMS0wLjIsMC0wLjMsMC4yLTAuMwoJCQljMC41LDAsMS4yLTAuMywxLjEtMC43bC0wLjQtMS4xIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDcyLjJjLTAuMSwwLjItMC4zLDAuOCwwLDEuMWMwLjMsMC40LDMsMS4xLDYuNCwxLjEKCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDczLjNjMCwwLjUsMC42LDIuMywxLjMsMi43YzEuOCwwLjgsNS43LDAuNyw4LjEsMC41CgkJCWMxLjMtMC4xLDIuNS0wLjcsMy4yLTEuOGMwLjMtMC41LDAuNS0xLDAuNS0xLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTEuNiIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTMiIGN5PSI2NSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCTxlbGxpcHNlIGZpbGw9IiM2QUE5REQiIGN4PSI1MyIgY3k9IjY3LjIiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTQuMyIgY3k9IjY2LjUiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iNTAuOSIgY3k9IjY1IiByeD0iMC4zIiByeT0iMC40Ii8+Cgk8L2c+Cgk8Zz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIGQ9Ik0yNC4yLDcxdi03LjZjMC4xLDAuMSwwLjgsMC45LDIuOCwzLjFjMi41LTEuNyw1LjYtMC43LDYuOSwwbDIuNC0zLjF2Ny4xCgkJCWMwLDEuMi0wLjEsMi41LTAuOSwzLjRjLTEsMS4yLTIuNywyLjUtNS4zLDIuNWMtMi45LDAtNC41LTEuNS01LjMtMi45QzI0LjIsNzIuOSwyNC4yLDcyLDI0LjIsNzF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjNkFBOUREIiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDcwLjFsNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMjEuMiw3NC4xbDUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM2QUE5REQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTM4LjgsNzAuMWwtNS40LDEuMiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzguOCw3NC4xbC01LjQtMS4yIi8+CgkJPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM2QUE5REQiIGQ9Ik0yOS41LDcyLjRMMjksNzEuN2MtMC4yLTAuMywwLTAuNiwwLjMtMC42aDEuNAoJCQljMC4zLDAsMC41LDAuNCwwLjMsMC42bC0wLjcsMWwwLDBjLTAuNywxLjItMi42LDEuMS0zLjEtMC4zbC0wLjEtMC4yYy0wLjEtMC4yLDAtMC40LDAuMi0wLjVjMC4yLTAuMSwwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsNzIuOCwyOS4xLDcyLjksMjkuNSw3Mi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzZBQTlERCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCw3Mi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMjcuNiIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCQk8ZWxsaXBzZSBmaWxsPSIjNkFBOUREIiBjeD0iMzIuNCIgY3k9IjY5LjciIHJ4PSIwLjciIHJ5PSIwLjciLz4KCTwvZz4KPC9nPgo8Zz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTEyLjgsOS41YzAuNiwwLDEuMS0wLjUsMS4xLTEuMgoJCWMwLTAuNi0wLjUtMS4xLTEuMS0xLjFjLTAuNiwwLTEuMiwwLjUtMS4yLDEuMVMxMi4yLDkuNSwxMi44LDkuNXogTTEyLjgsNy45YzAuMiwwLDAuNCwwLjIsMC40LDAuNGMwLDAuMi0wLjIsMC40LTAuNCwwLjQKCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNEMxMi40LDguMSwxMi42LDcuOSwxMi44LDcuOXoiLz4KCTxwYXRoIGZpbGw9IiM4Njg2ODYiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLXdpZHRoPSIwLjEiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgZD0iTTcuMiw5LjVjMC42LDAsMS4yLTAuNSwxLjItMS4yCgkJYzAtMC42LTAuNS0xLjEtMS4yLTEuMWMtMC42LDAtMS4xLDAuNS0xLjEsMS4xUzYuNiw5LjUsNy4yLDkuNXogTTcuMiw3LjljMC4yLDAsMC40LDAuMiwwLjQsMC40YzAsMC4yLTAuMiwwLjQtMC40LDAuNAoJCUM3LDguNyw2LjgsOC41LDYuOCw4LjNDNi44LDguMSw3LDcuOSw3LjIsNy45eiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTQuNiwxMS4yYy0wLjEtMC4xLTAuMi0wLjItMC4zLTAuMkg1LjcKCQljLTAuMSwwLTAuMiwwLjEtMC4zLDAuMmMtMC4xLDAuMS0wLjEsMC4yLDAsMC40YzAuNywyLDIuNSwzLjMsNC42LDMuM3MzLjktMS4zLDQuNi0zLjNDMTQuNywxMS40LDE0LjcsMTEuMywxNC42LDExLjJ6IE0xMCwxNC4xCgkJYy0xLjYsMC0zLTAuOS0zLjctMi4yaDcuM0MxMywxMy4yLDExLjYsMTQuMSwxMCwxNC4xeiIvPgoJPHBhdGggZmlsbD0iIzg2ODY4NiIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2Utd2lkdGg9IjAuMSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTAsM2MtMy44LDAtNywzLjEtNyw3czMuMSw3LDcsN3M3LTMuMSw3LTcKCQlTMTMuOCwzLDEwLDN6IE0xMCwxNi4yYy0zLjQsMC02LjItMi44LTYuMi02LjJTNi42LDMuOCwxMCwzLjhzNi4yLDIuOCw2LjIsNi4yUzEzLjQsMTYuMiwxMCwxNi4yeiIvPgo8L2c+CjxnIGlkPSJDYXJfMDAwMDAwMTg5MzUzOTUwODU0MTM0MTM3NTAwMDAwMDA4MjUyNzM4Nzc4NDI3NzU3MTVfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NC4xLDEzLjRsMi4zLDBjMC4yLDAsMC40LDAuMiwwLjQsMC40djIuMWMwLDAuMi0wLjIsMC40LTAuNCwwLjRoLTIuMwoJCQkJYy0wLjIsMC0wLjQtMC4yLTAuNC0wLjR2LTIuMUM2My43LDEzLjYsNjMuOCwxMy40LDY0LjEsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNzMuNSwxMy40aDIuNGMwLjIsMCwwLjQsMC4yLDAuNCwwLjR2Mi4xYzAsMC4yLTAuMiwwLjQtMC40LDAuNGgtMi40CgkJCQljLTAuMiwwLTAuNC0wLjItMC40LTAuNGwwLTIuMUM3My4xLDEzLjYsNzMuMywxMy40LDczLjUsMTMuNHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNNjMuNyw4LjRoMTIuNnY1SDYzLjdWOC40eiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik02NS41LDMuNmg4LjljMSwwLDEuOSwwLjgsMS45LDEuOXYzLjFINjMuN1Y1LjVDNjMuNyw0LjQsNjQuNSwzLjYsNjUuNSwzLjZ6Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI2Ni4yIiBjeT0iMTAuOSIgcng9IjAuOSIgcnk9IjAuOSIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNzMuOCIgY3k9IjEwLjkiIHJ4PSIwLjkiIHJ5PSIwLjkiLz4KCQk8L2c+Cgk8L2c+CjwvZz4KPGcgaWQ9IkFjdGl2aXRpZXMiPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjQsMTBjMCwzLjYtMi45LDYuNS02LjQsNi41cy02LjQtMi45LTYuNC02LjVzMi45LTYuNSw2LjQtNi41Uzk2LjQsNi40LDk2LjQsMTB6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTk2LjMsOC42YzAsMCwwLDAuMSwwLDAuMWMtMC45LDAuMS0yLjksMC4xLTQuNi0xLjJjLTEuMS0wLjgtMi0xLjctMi42LTIuNQoJCQkJYy0wLjMtMC40LTAuNi0wLjgtMC43LTEuMWMtMC4xLTAuMS0wLjEtMC4yLTAuMS0wLjJjMC41LTAuMSwxLjItMC4yLDItMC4yYzEuMiwwLDIuNSwwLjMsMy41LDEuMWMxLDAuOCwxLjcsMS44LDIuMSwyLjgKCQkJCUM5Ni4xLDcuOSw5Ni4yLDguMyw5Ni4zLDguNnoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNODQsMTIuMWMwLDAsMC0wLjEsMC0wLjFjMC45LTAuMiwyLjktMC40LDQuNywwLjZjMS4xLDAuNiwxLjksMS41LDIuNCwyLjMKCQkJCWMwLjQsMC41LDAuNiwxLDAuNywxLjNjLTAuNCwwLjEtMSwwLjItMS43LDAuM2MtMSwwLTIuMS0wLjEtMy4yLTAuOGMtMS4xLTAuNi0xLjktMS42LTIuNC0yLjVDODQuMiwxMi44LDg0LjEsMTIuNCw4NCwxMi4xeiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iT2JqZWN0c18wMDAwMDA2NDMxMjM3MTczOTEzMDMxNTI1MDAwMDAxMDIyNTg4OTAzMjIyODYzMjk3NV8iPgoJPGc+CgkJPGc+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTE2LjMsNi44bC0xLjQsMkwxMTQuMSw4bC0wLjYtMC43bDAsMC45bC0wLjEsOC4yaC02LjhsLTAuMS04LjIKCQkJCWwwLTAuOUwxMDUuOSw4bC0wLjgsMC44bC0xLjQtMmwyLjYtMi45YzAuMS0wLjEsMC4yLTAuMSwwLjMtMC4xaDEuM2wwLjQsMC43YzAuNywxLjMsMi42LDEuMywzLjMtMC4xbDAuMy0wLjZoMS4yCgkJCQljMC4xLDAsMC4yLDAsMC4zLDAuMWwwLjMtMC4zbC0wLjMsMC4zTDExNi4zLDYuOHoiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTEwLjEsNy43aDJ2MC45YzAsMC40LTAuNCwwLjctMSwwLjdjLTAuNiwwLTEtMC4zLTEtMC43TDExMC4xLDcuN0wxMTAuMSw3Ljd6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJTeW1ib2xzXzAwMDAwMDk2NzQ2OTA3ODY5OTI5OTIxMTgwMDAwMDA2NDg0ODEyODMwMjgyNTgyNDE2XyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMTQuM2MwLDEuMi0xLDIuMi0yLjIsMi4ycy0yLjItMS0yLjItMi4yczEtMi4yLDIuMi0yLjJTMTI2LjgsMTMuMSwxMjYuOCwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMzcuNiwxNC4zYzAsMS4yLTEsMi4yLTIuMiwyLjJjLTEuMiwwLTIuMi0xLTIuMi0yLjJzMS0yLjIsMi4yLTIuMgoJCQkJQzEzNi42LDEyLjEsMTM3LjYsMTMuMSwxMzcuNiwxNC4zeiIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xMjYuOCw0LjR2OS45Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTEzNy43LDQuNHY5LjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBkPSJNMTI2LjgsMy41aDEwLjh2Mi43aC0xMC44QzEyNi44LDYuMiwxMjYuOCwzLjUsMTI2LjgsMy41eiIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8ZyBpZD0iUmVjZW50cyI+Cgk8Zz4KCQk8Zz4KCQkJPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTE3MC44LDMuMUwxNzAuOCwzLjFjLTAuMywwLTAuNSwwLTAuOCwwYy0yLjEsMC00LDEtNS4zLDIuNWwtMC4xLDBsLTAuMS0wLjFsLTEtMS4ybC0wLjMsMy40bDMuNCwwLjMKCQkJCWwtMS4xLTEuM2wtMC4xLTAuMWwwLjEtMC4xYzEuMS0xLjQsMy0yLjMsNS0yLjFsMCwwYzMuMiwwLjMsNS41LDMuMSw1LjIsNi4zYy0wLjMsMy0zLjEsNS4zLTYuMSw1LjFjLTMuMS0wLjItNS40LTIuOS01LjMtNgoJCQkJTDE2Myw5LjVjLTAuMiwzLjgsMi42LDcuMSw2LjMsNy40YzMuOSwwLjQsNy4zLTIuNiw3LjYtNi41QzE3Ny4yLDYuOCwxNzQuNCwzLjUsMTcwLjgsMy4xeiIvPgoJCQk8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNMTcwLjMsNy40YzAtMC4zLTAuMy0wLjYtMC42LTAuNlMxNjksNy4xLDE2OSw3LjR2My4yYzAsMC4yLDAuMSwwLjMsMC4yLDAuNGMwLjEsMC4xLDAuMywwLjIsMC40LDAuMgoJCQkJaDIuNGMwLjQsMCwwLjYtMC4zLDAuNi0wLjZzLTAuMy0wLjYtMC42LTAuNmgtMS42aC0wLjJWOS44TDE3MC4zLDcuNEwxNzAuMyw3LjR6Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJDdXN0b21fMDAwMDAxODEwODcyMjk0MzQzMDIzMzY3ODAwMDAwMDUxNTIyNzc5NDU5NDA2NzQ0ODhfIj4KCTxnPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik0xODYuMiwzLjRoNy43YzEuNSwwLDIuNywxLjIsMi43LDIuN3Y3LjdjMCwxLjUtMS4yLDIuNy0yLjcsMi43aC03LjcKCQkJCWMtMS41LDAtMi43LTEuMi0yLjctMi43VjYuMUMxODMuNCw0LjYsMTg0LjcsMy40LDE4Ni4yLDMuNHoiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjE4NiIgY3k9IjguOSIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMTk0IiBjeT0iNi43IiByeD0iMC43IiByeT0iMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMTg2LDEzLjNsMC40LTAuM2MwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMSwwLjQKCQkJCWMwLjUsMC4yLDEsMC4yLDEuNS0wLjFsMC44LTAuNWMwLjQtMC4zLDEtMC4zLDEuNS0wLjFsMS44LDAuOCIvPgoJCTwvZz4KCTwvZz4KPC9nPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS13aWR0aD0iMC4yNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBkPSJNMTU2LDQuM2MtMC4yLTAuMS0wLjQtMC4xLTAuNSwwCgljMCwwLTAuMiwwLjEtMC45LDAuMWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0wLjgtMC4zLTEuNy0wLjUtMi41LTAuNWMtMC4yLDAtMC40LDAtMC41LDBjLTEuMywwLTIuNSwwLjMtMy42LDEKCWMtMC4yLDAuMS0wLjIsMC4yLTAuMiwwLjR2MTEuNmMwLDAuMywwLjEsMC41LDAuMywwLjVjMC42LDAsMC41LTAuNCwwLjUtMC42di01LjdjMC43LTAuMywzLjItMS4xLDUuOC0wLjFjMS42LDAuNiwzLjUsMC43LDQuMywwLjcKCWMwLjgsMCwxLjMtMC4zLDEuMy0wLjNjMC4yLTAuMSwwLjMtMC4yLDAuMy0wLjRWNC43QzE1Ni4yLDQuNSwxNTYuMSw0LjQsMTU2LDQuM3ogTTE1NS42LDEwLjJjLTAuMSwwLTAuNywwLjEtMSwwLjEKCWMtMC43LDAtMi40LTAuMS0zLjgtMC42Yy0yLjUtMS01LTAuNS02LjItMC4xVjQuN2MwLjktMC41LDIuMi0wLjcsMy4yLTAuN2MwLjEsMCwwLjMsMCwwLjQsMGMwLjcsMCwxLjUsMC4yLDIuMiwwLjQKCWMxLjYsMC42LDMuNSwwLjcsNC4zLDAuN2MwLjIsMCwwLjgsMCwxLTAuMVYxMC4yeiIvPgo8ZyBpZD0iRm9vZCI+Cgk8ZyBpZD0iTGF5ZXJfMTIiPgoJCTxnPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIGQ9Ik00OC4xLDMuNWgzLjdjMi41LDAsNC41LDIsNC41LDQuNWMwLDAuNS0wLjQsMC45LTAuOSwwLjlINDQuNWMtMC41LDAtMC45LTAuNC0wLjktMC45CgkJCQlDNDMuNiw1LjUsNDUuNiwzLjUsNDguMSwzLjV6Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSw4LjdjLTAuMiwwLjEtMC41LDEuMiwwLDEuNWMxLjQsMC45LDguNSwwLjgsMTEuMywwLjYKCQkJCWMwLjgtMC4xLDEuNi0wLjQsMS43LTEuMmMwLTAuMy0wLjEtMC42LTAuNi0wLjkiLz4KCQkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik00My41LDEwLjZMNDMuMywxMWMtMC4yLDAuNSwwLjIsMSwwLjcsMC45CgkJCQljMC4zLTAuMSwwLjUsMC4xLDAuNywwLjNsMC4xLDAuMmMwLjMsMC41LDEsMC42LDEuNSwwLjJsMCwwYzAuMy0wLjIsMC43LTAuMywxLTAuMmwwLjgsMC4zYzAuNCwwLjEsMC44LDAuMSwxLjIsMGwwLjUtMC4yCgkJCQljMC40LTAuMiwwLjktMC4yLDEuMywwbDAuNSwwLjJjMC40LDAuMiwwLjgsMC4xLDEuMi0wLjFsMC4yLTAuMWMwLjMtMC4yLDAuOC0wLjEsMS4xLDAuMWwwLjIsMC4yYzAuMywwLjMsMC44LDAuMiwxLTAuMmwwLjEtMC4yCgkJCQljMC4xLTAuMiwwLTAuMywwLjItMC40YzAuNSwwLDEuMi0wLjMsMS4xLTAuN2wtMC40LTEuMSIvPgoJCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTQzLjUsMTIuMWMtMC4xLDAuMi0wLjMsMC44LDAsMS4xYzAuMywwLjQsMywxLjEsNi40LDEuMQoJCQkJYzIuMiwwLDQuNi0wLjMsNi0wLjZjMC41LTAuMSwwLjktMC40LDAuOC0wLjljMC0wLjItMC4yLTAuNS0wLjQtMC43Ii8+CgkJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNNDMuNSwxMy4zYzAsMC41LDAuNiwyLjQsMS4zLDIuNmMxLjgsMC44LDUuNywwLjcsOC4xLDAuNQoJCQkJYzEuMy0wLjEsMi41LTAuNywzLjItMS44YzAuMy0wLjUsMC41LTEsMC41LTEuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTEuNiIgY3k9IjYuNSIgcng9IjAuMyIgcnk9IjAuNCIvPgoJCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iNTMiIGN5PSI0LjkiIHJ4PSIwLjMiIHJ5PSIwLjQiLz4KCQkJPGVsbGlwc2UgZmlsbD0iIzg2ODY4NiIgY3g9IjUzIiBjeT0iNy4yIiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1NC4zIiBjeT0iNi41IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSI1MC45IiBjeT0iNC45IiByeD0iMC4zIiByeT0iMC40Ii8+CgkJPC9nPgoJPC9nPgo8L2c+CjxnIGlkPSJBbmltYWxzIj4KCTxnPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgZD0iTTI0LjIsMTFWMy41YzAuMSwwLjEsMC44LDAuOSwyLjgsMy4xYzIuNS0xLjcsNS42LTAuNyw2LjksMGwyLjQtMy4xdjcuMQoJCQljMCwxLjItMC4xLDIuNS0wLjksMy40Yy0xLDEuMi0yLjcsMi41LTUuMywyLjVjLTIuOSwwLTQuNS0xLjUtNS4zLTIuOUMyNC4yLDEyLjksMjQuMiwxMS45LDI0LjIsMTF6Ii8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0yMS4yLDEwbDUuNCwxLjIiLz4KCQk8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4Njg2ODYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgZD0iTTIxLjIsMTQuMWw1LjQtMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDEwbC01LjQsMS4yIi8+CgkJPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODY4Njg2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIGQ9Ik0zOC44LDE0LjFsLTUuNC0xLjIiLz4KCQk8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTI5LjUsMTIuNEwyOSwxMS43Yy0wLjItMC4zLDAtMC42LDAuMy0wLjZoMS40CgkJCWMwLjMsMCwwLjUsMC40LDAuMywwLjZsLTAuNywxbDAsMGMtMC43LDEuMi0yLjYsMS4xLTMuMS0wLjNsLTAuMS0wLjJjLTAuMS0wLjIsMC0wLjQsMC4yLTAuNXMwLjQsMCwwLjUsMC4ybDAuMSwwLjIKCQkJQzI4LjMsMTIuNywyOS4xLDEyLjksMjkuNSwxMi40eiIvPgoJCTxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzg2ODY4NiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBkPSJNMzIuNCwxMi4xbC0wLjEsMC4yYy0wLjQsMS0xLjgsMS4xLTIuMywwLjIiLz4KCQk8ZWxsaXBzZSBmaWxsPSIjODY4Njg2IiBjeD0iMjcuNiIgY3k9IjkuNyIgcng9IjAuNyIgcnk9IjAuNyIvPgoJCTxlbGxpcHNlIGZpbGw9IiM4Njg2ODYiIGN4PSIzMi40IiBjeT0iOS43IiByeD0iMC43IiByeT0iMC43Ii8+Cgk8L2c+CjwvZz4KPC9zdmc+";function FL(n){var c,l=n.isActiveCategory,g=n.category,x=n.allowNavigation,h=n.categoryConfig,v=n.onClick;return b.createElement(Wd,{tabIndex:x?0:-1,className:Xt(ZL.catBtn,Ff.categoryBtn,"epr-icn-"+g,(c={},c[Jt.active]=l,c)),onClick:v,"aria-label":Gp(h),"aria-selected":l,role:"tab","aria-controls":"epr-category-nav-id"})}var ip={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 3)"},UL={backgroundPositionY:"calc(var(--epr-category-navigation-button-size) * 2)"},ap={":not(.epr-search-active)":{catBtn:{":hover":ip,"&.epr-active":ip}}},ZL=An.create(Un({catBtn:{".":"epr-cat-btn",display:"inline-block",transition:"opacity 0.2s ease-in-out",position:"relative",height:"var(--epr-category-navigation-button-size)",width:"var(--epr-category-navigation-button-size)",backgroundSize:"calc(var(--epr-category-navigation-button-size) * 10)",outline:"none",backgroundPosition:"0 0",backgroundImage:"url("+BL+")",":focus:before":{content:"",position:"absolute",top:"-2px",left:"-2px",right:"-2px",bottom:"-2px",border:"2px solid var(--epr-category-icon-active-color)",borderRadius:"50%"},"&.epr-icn-suggested":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -8)"},"&.epr-icn-custom":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -9)"},"&.epr-icn-activities":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -4)"},"&.epr-icn-animals_nature":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -1)"},"&.epr-icn-flags":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -7)"},"&.epr-icn-food_drink":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -2)"},"&.epr-icn-objects":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -5)"},"&.epr-icn-smileys_people":{backgroundPositionX:"0px"},"&.epr-icn-symbols":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -6)"},"&.epr-icn-travel_places":{backgroundPositionX:"calc(var(--epr-category-navigation-button-size) * -3)"}}},Tl("catBtn",UL),{".epr-dark-theme":Un({},ap),".epr-auto-theme":Un({},ap)}));function YL(){var n=b.useState(null),c=n[0],l=n[1],g=RL();zL(l);var x=p0(),h=eg(),v=Qm(),_=OL();return b.createElement("div",{className:Xt(GL.nav),role:"tablist","aria-label":"Category navigation",id:"epr-category-nav-id",ref:v},h.map(function(k){var S=Bm(k),A=S===c;if(tL(k)&&_)return null;var I=!x&&!A;return b.createElement(FL,{key:S,category:S,isActiveCategory:A,allowNavigation:I,categoryConfig:k,onClick:function(){l(S),g(S)}})}))}var GL=An.create({nav:{".":"epr-category-nav",display:"flex",flexDirection:"row",justifyContent:"space-around",padding:"var(--epr-header-padding)"},".epr-search-active":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}},".epr-main:has(input:not(:placeholder-shown))":{nav:{opacity:"0.3",cursor:"default",pointerEvents:"none"}}}),Gg="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjgwcHgiIHZpZXdCb3g9IjAgMCAyMCA4MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgODAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsPSIjODY4Njg2IiBkPSJNNi45OCwxMy41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsOAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQyTDcuNzQsNy4yN2MtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywxMy4wNSw2Ljc3LDEzLjM5LDYuOTgsMTMuNTlMNi45OCwxMy41OXoiLz4KPHBhdGggZmlsbD0iIzg2ODY4NiIgZD0iTTEwLjE1LDE4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDE0Ljg0LDUuNzQsMTguNDMsMTAuMTUsMTguNDN6CgkgTTEwLjE1LDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0QzMuMjEsNi42LDYuMzMsMy40OSwxMC4xNSwzLjQ5CglMMTAuMTUsMy40OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTYuOTgsMzMuNTljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1czAuMjctMC4wNSwwLjM3LTAuMTVsMi40Mi0yLjQybDIuNDMsMi40MwoJYzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNWMwLjE0LDAsMC4yNy0wLjA1LDAuMzctMC4xNWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWwtMi40My0yLjQzTDEzLjMyLDI4CgljMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwbC0yLjQyLDIuNDJsLTIuNDEtMi40MWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDAKCWMtMC4yMSwwLjIxLTAuMjEsMC41NCwwLDAuNzVsMi40MSwyLjQxbC0yLjQyLDIuNDJDNi43NywzMy4wNSw2Ljc3LDMzLjM5LDYuOTgsMzMuNTlMNi45OCwzMy41OXoiLz4KPHBhdGggZmlsbD0iIzMzNzFCNyIgZD0iTTEwLjE1LDM4LjQzYzQuNDEsMCw4LTMuNTksOC04YzAtNC40MS0zLjU5LTgtOC04Yy00LjQxLDAtOCwzLjU5LTgsOEMyLjE1LDM0Ljg0LDUuNzQsMzguNDMsMTAuMTUsMzguNDN6CgkgTTEwLjE1LDIzLjQ5YzMuODMsMCw2Ljk0LDMuMTEsNi45NCw2Ljk0YzAsMy44My0zLjExLDYuOTQtNi45NCw2Ljk0Yy0zLjgzLDAtNi45NC0zLjExLTYuOTQtNi45NAoJQzMuMjEsMjYuNiw2LjMzLDIzLjQ5LDEwLjE1LDIzLjQ5TDEwLjE1LDIzLjQ5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNNi45OCw1My41OWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVzMC4yNy0wLjA1LDAuMzctMC4xNWwyLjQyLTIuNDJsMi40MywyLjQzCgljMC4xLDAuMSwwLjI0LDAuMTUsMC4zNywwLjE1YzAuMTQsMCwwLjI3LTAuMDUsMC4zNy0wLjE1YzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1bC0yLjQzLTIuNDNMMTMuMzIsNDgKCWMwLjIxLTAuMjEsMC4yMS0wLjU0LDAtMC43NWMtMC4yMS0wLjIxLTAuNTQtMC4yMS0wLjc1LDBsLTIuNDIsMi40MmwtMi40MS0yLjQxYy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMAoJYy0wLjIxLDAuMjEtMC4yMSwwLjU0LDAsMC43NWwyLjQxLDIuNDFsLTIuNDIsMi40MkM2Ljc3LDUzLjA1LDYuNzcsNTMuMzksNi45OCw1My41OUw2Ljk4LDUzLjU5eiIvPgo8cGF0aCBmaWxsPSIjQzBDMEJGIiBkPSJNMTAuMTUsNTguNDNjNC40MSwwLDgtMy41OSw4LThjMC00LjQxLTMuNTktOC04LThjLTQuNDEsMC04LDMuNTktOCw4QzIuMTUsNTQuODQsNS43NCw1OC40MywxMC4xNSw1OC40M3oKCSBNMTAuMTUsNDMuNDljMy44MywwLDYuOTQsMy4xMSw2Ljk0LDYuOTRjMCwzLjgzLTMuMTEsNi45NC02Ljk0LDYuOTRjLTMuODMsMC02Ljk0LTMuMTEtNi45NC02Ljk0CglDMy4yMSw0Ni42LDYuMzMsNDMuNDksMTAuMTUsNDMuNDlMMTAuMTUsNDMuNDl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik02Ljk4LDczLjU5YzAuMSwwLjEsMC4yNCwwLjE1LDAuMzcsMC4xNXMwLjI3LTAuMDUsMC4zNy0wLjE1bDIuNDItMi40MmwyLjQzLDIuNDMKCWMwLjEsMC4xLDAuMjQsMC4xNSwwLjM3LDAuMTVjMC4xNCwwLDAuMjctMC4wNSwwLjM3LTAuMTVjMC4yMS0wLjIxLDAuMjEtMC41NCwwLTAuNzVsLTIuNDMtMi40M0wxMy4zMiw2OAoJYzAuMjEtMC4yMSwwLjIxLTAuNTQsMC0wLjc1Yy0wLjIxLTAuMjEtMC41NC0wLjIxLTAuNzUsMGwtMi40MiwyLjQybC0yLjQxLTIuNDFjLTAuMjEtMC4yMS0wLjU0LTAuMjEtMC43NSwwCgljLTAuMjEsMC4yMS0wLjIxLDAuNTQsMCwwLjc1bDIuNDEsMi40MWwtMi40MiwyLjQyQzYuNzcsNzMuMDUsNi43Nyw3My4zOSw2Ljk4LDczLjU5TDYuOTgsNzMuNTl6Ii8+CjxwYXRoIGZpbGw9IiM2QUE5REQiIGQ9Ik0xMC4xNSw3OC40M2M0LjQxLDAsOC0zLjU5LDgtOGMwLTQuNDEtMy41OS04LTgtOGMtNC40MSwwLTgsMy41OS04LDhDMi4xNSw3NC44NCw1Ljc0LDc4LjQzLDEwLjE1LDc4LjQzegoJIE0xMC4xNSw2My40OWMzLjgzLDAsNi45NCwzLjExLDYuOTQsNi45NGMwLDMuODMtMy4xMSw2Ljk0LTYuOTQsNi45NGMtMy44MywwLTYuOTQtMy4xMS02Ljk0LTYuOTQKCUMzLjIxLDY2LjYsNi4zMyw2My40OSwxMC4xNSw2My40OUwxMC4xNSw2My40OXoiLz4KPC9zdmc+";function QL(){var n=wg();return b.createElement(Wd,{className:Xt(op.btnClearSearch,Ff.visibleOnSearchOnly),onClick:n,"aria-label":"Clear",title:"Clear"},b.createElement("div",{className:Xt(op.icnClearnSearch)}))}var WL={":hover":{"> .epr-icn-clear-search":{backgroundPositionY:"-60px"}}},op=An.create(Un({btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+Gg+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},Tl("icnClearnSearch",{backgroundPositionY:"-40px"}),Tl("btnClearSearch",WL))),vm=Qr(Jt.emojiPicker)+" "+Qr(Jt.emojiList),Qg=["button",Qr(Jt.emoji)].join(""),JL=Qr(Jt.category);function $L(n){var c=n.value;if(!c)return null;var l=HL(c);return b.createElement("style",null,`
    `+vm+" "+Qg+` {
      display: none;
    }


    `+vm+" "+l+` {
      display: flex;
    }

    `+vm+" "+JL+":not(:has("+l+`)) {
      display: none;
    }
  `)}function HL(n){return[Qg,'[data-full-name*="',Im(n),'"]'].join("")}var VL="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI2LjMuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHdpZHRoPSIyMHB4IiBoZWlnaHQ9IjQwcHgiIHZpZXdCb3g9IjAgMCAyMCA0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMjAgNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzg2ODY4NiIgZD0iTTEyLDguODFjMCwyLjA4LTEuNjgsMy43Ni0zLjc2LDMuNzZjLTIuMDgsMC0zLjc2LTEuNjgtMy43Ni0zLjc2CgljMC0yLjA4LDEuNjgtMy43NiwzLjc2LTMuNzZDMTAuMzIsNS4wNSwxMiw2LjczLDEyLDguODF6IE0xMS4yMywxMi43MmMtMC44MywwLjY0LTEuODcsMS4wMS0yLjk5LDEuMDFjLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTIKCWMwLTIuNzIsMi4yLTQuOTIsNC45Mi00LjkyYzIuNzIsMCw0LjkyLDIuMiw0LjkyLDQuOTJjMCwxLjEzLTAuMzgsMi4xNi0xLjAxLDIuOTlsMy45NCwzLjkzYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyCgljLTAuMjUsMC4yNS0wLjY2LDAuMjUtMC45MiwwTDExLjIzLDEyLjcyeiIvPgo8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iI0MwQzBCRiIgZD0iTTEyLDI4LjgxYzAsMi4wOC0xLjY4LDMuNzYtMy43NiwzLjc2Yy0yLjA4LDAtMy43Ni0xLjY4LTMuNzYtMy43NgoJYzAtMi4wOCwxLjY4LTMuNzYsMy43Ni0zLjc2QzEwLjMyLDI1LjA1LDEyLDI2LjczLDEyLDI4LjgxeiBNMTEuMjMsMzIuNzJjLTAuODMsMC42NC0xLjg3LDEuMDEtMi45OSwxLjAxCgljLTIuNzIsMC00LjkyLTIuMi00LjkyLTQuOTJjMC0yLjcyLDIuMi00LjkyLDQuOTItNC45MmMyLjcyLDAsNC45MiwyLjIsNC45Miw0LjkyYzAsMS4xMy0wLjM4LDIuMTYtMS4wMSwyLjk5bDMuOTQsMy45MwoJYzAuMjUsMC4yNSwwLjI1LDAuNjYsMCwwLjkyYy0wLjI1LDAuMjUtMC42NiwwLjI1LTAuOTIsMEwxMS4yMywzMi43MnoiLz4KPC9zdmc+";function qL(){return b.createElement("div",{className:Xt(KL.icnSearch)})}var KL=An.create(Un({icnSearch:{".":"epr-icn-search",content:"",position:"absolute",top:"50%",left:"var(--epr-search-bar-inner-padding)",transform:"translateY(-50%)",width:"20px",height:"20px",backgroundRepeat:"no-repeat",backgroundPosition:"0 0",backgroundSize:"20px",backgroundImage:"url("+VL+")"}},Tl("icnSearch",{backgroundPositionY:"-20px"})));function XL(){var n=ng(),c=Jm();return n?null:b.createElement(Zg,{className:Xt(Vh.overlay)},b.createElement(ex,null),c?b.createElement(Yg,null):null)}function ex(){var n=b.useState(0),c=n[0],l=n[1],g=Yf(),x=Dl(),h=T4(),v=D4(),_=bb(),k=_.statusSearchResults,S=_.searchTerm,A=_.onChange,I=x==null?void 0:x.current,E=I==null?void 0:I.value;return b.createElement(x0,{className:Xt(Vh.searchContainer)},b.createElement($L,{value:E}),b.createElement("input",{autoFocus:v,"aria-label":"Type to search for an emoji",onFocus:g,className:Xt(Vh.search),type:"text","aria-controls":"epr-search-id",placeholder:h,onChange:function(Z){l(c+1),setTimeout(function(){var J,$;A((J=Z==null||($=Z.target)==null?void 0:$.value)!=null?J:E)})},ref:x}),S?b.createElement("div",{role:"status",className:Xt("epr-status-search-results",Vh.visuallyHidden),"aria-live":"polite",id:"epr-search-id","aria-atomic":"true"},k):null,b.createElement(qL,null),b.createElement(QL,null))}var Vh=An.create(Un({overlay:{padding:"var(--epr-header-padding)",zIndex:"var(--epr-header-overlay-z-index)"},searchContainer:{".":"epr-search-container",flex:"1",display:"block",minWidth:"0"},visuallyHidden:{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},search:{outline:"none",transition:"all 0.2s ease-in-out",color:"var(--epr-search-input-text-color)",borderRadius:"var(--epr-search-input-border-radius)",padding:"var(--epr-search-input-padding)",height:"var(--epr-search-input-height)",backgroundColor:"var(--epr-search-input-bg-color)",border:"1px solid var(--epr-search-input-bg-color)",width:"100%",":focus":{backgroundColor:"var(--epr-search-input-bg-color-active)",border:"1px solid var(--epr-search-border-color)"},"::placeholder":{color:"var(--epr-search-input-placeholder-color)"}},btnClearSearch:{".":"epr-btn-clear-search",position:"absolute",right:"var(--epr-search-bar-inner-padding)",height:"30px",width:"30px",display:"flex",alignItems:"center",justifyContent:"center",top:"50%",transform:"translateY(-50%)",padding:"0",borderRadius:"50%",":hover":{background:"var(--epr-hover-bg-color)"},":focus":{background:"var(--epr-hover-bg-color)"}},icnClearnSearch:{".":"epr-icn-clear-search",backgroundColor:"transparent",backgroundRepeat:"no-repeat",backgroundSize:"20px",height:"20px",width:"20px",backgroundImage:"url("+Gg+")",":hover":{backgroundPositionY:"-20px"},":focus":{backgroundPositionY:"-20px"}}},Tl("icnClearnSearch",{backgroundPositionY:"-40px"}),Tl("btnClearSearch",{":hover > .epr-icn-clear-search":{backgroundPositionY:"-60px"}})));function tx(){return b.createElement(x0,{className:Xt("epr-header",Ff.hiddenOnReactions)},b.createElement(XL,null),b.createElement(YL,null))}function nx(n){return b.createElement(nb,null,b.createElement(V2,null),b.createElement(I4,Object.assign({},n),b.createElement(rx,null)))}function rx(){var n=h0(),c=n[0],l=Kp(),g=b.useState(!c),x=g[0],h=g[1],v=z4();return b.useEffect(function(){c&&!l||x||h(!0)},[x,l,c]),v?b.createElement(Bb,null,b.createElement(dL,null),b.createElement(ix,{renderAll:x})):null}function ix(n){var c=n.renderAll;return c?b.createElement(b.Fragment,null,b.createElement(tx,null),b.createElement(ML,null),b.createElement(AL,null)):null}var ax=b.memo(nx,Up),ox=function(n){J2(c,n);function c(g){var x;return x=n.call(this,g)||this,x.state={hasError:!1},x}c.getDerivedStateFromError=function(){return{hasError:!0}};var l=c.prototype;return l.componentDidCatch=function(x,h){console.error("Emoji Picker React failed to render:",x,h)},l.render=function(){return this.state.hasError?null:this.props.children},c}(b.Component);function sx(n){var c=E4({onEmojiClick:n.onEmojiClick,onReactionClick:n.onReactionClick,onSkinToneChange:n.onSkinToneChange});return b.createElement(ox,null,b.createElement(Vp.Provider,{value:c},b.createElement(ax,Object.assign({},n))))}const lx=["image/jpeg","image/jpg","image/png","image/gif","image/webp","image/x-gif","application/x-gif"],Yh={FILE_TYPE:"Please select an image file (JPEG, PNG, GIF, or WEBP)",FILE_SIZE:"File is too large. Maximum size is 10MB.",FILE_READ:"Error reading file preview",SUBMIT:"Failed to submit comment"},n1=({currentUser:n,onSubmit:c,placeholder:l="Write a comment...",isReply:g=!1,parentId:x=null,onCancel:h=null,maxImageSize:v=50*1024*1024,reviewId:_=null})=>{const[k,S]=b.useState(""),[A,I]=b.useState(null),[E,j]=b.useState(""),[Z,J]=b.useState(!1),[$,V]=b.useState(!1),[re,we]=b.useState(null),xe=b.useRef(null),fe=b.useRef(null),U=b.useRef(null),Y=ie=>{$&&U.current&&!U.current.contains(ie.target)&&V(!1)};Gr.useEffect(()=>(document.addEventListener("click",Y),()=>document.removeEventListener("click",Y)),[$]);const K=ie=>{const Q=ie.target.files[0];if(!Q)return;we(null);const ae=10*1024*1024;if(!lx.includes(Q.type)){we(Yh.FILE_TYPE),xe.current&&(xe.current.value="");return}if(Q.size>ae){we(Yh.FILE_SIZE),xe.current&&(xe.current.value="");return}I(Q);const Ne=new FileReader;Ne.onloadend=()=>{j(Ne.result)},Ne.onerror=()=>{we(Yh.FILE_READ),I(null),xe.current&&(xe.current.value="")},Ne.readAsDataURL(Q)},ee=()=>{I(null),j(""),we(null),xe.current&&(xe.current.value="")},q=(ie,Q)=>{const{selectionStart:ae,selectionEnd:Ne}=fe.current,ge=k.slice(0,ae)+ie.emoji+k.slice(Ne);S(ge),V(!1),fe.current.focus();const H=ae+ie.emoji.length;setTimeout(()=>{fe.current.selectionStart=H,fe.current.selectionEnd=H},0)},R=()=>{S(""),I(null),j(""),we(null),xe.current&&(xe.current.value=""),V(!1)};return p("form",{onSubmit:async ie=>{ie.preventDefault();const Q=k.trim();if(!(!Q&&!A||Z))try{J(!0),we(null);const ae=new FormData;if(Q&&ae.append("text",Q),x&&ae.append("parentId",x),A&&ae.append("commentMedia",A,A.name),_&&ae.append("reviewId",_),console.log("Submitting comment: reviewId=",_||"from parent","text=",(Q==null?void 0:Q.substring(0,20))+((Q==null?void 0:Q.length)>20?"...":""),"parentId=",x||"none","hasMedia=",!!A),_)try{const Ne=localStorage.getItem("token");if(!Ne)throw new Error("Authentication required");const ge=await fetch(`${Te.API_URL}/reviews/${_}/comment`,{method:"POST",headers:{Authorization:`Bearer ${Ne}`},body:ae});if(!ge.ok){const ue=await ge.json().catch(()=>({}));throw new Error(ue.message||"Failed to add comment")}const H=await ge.json();R(),g&&h&&h();try{await c(H)}catch(ue){console.warn("Parent handler error (non-critical):",ue)}try{await an()}catch(ue){console.error("Failed to refresh activities:",ue)}return H}catch(Ne){throw console.error("Direct API call error:",Ne),Ne}else{const Ne=await c(ae);R(),g&&h&&h();try{await an()}catch(ge){console.error("Failed to refresh activities:",ge)}return Ne}}catch(ae){console.error("Comment submission error:",ae),we(ae.message||Yh.SUBMIT)}finally{J(!1)}},className:`flex ${g?"pl-10":""}`,children:[o("div",{className:"flex-shrink-0 mr-3",children:o(la,{user:n,size:g?"sm":"md",clickable:!1})}),p("div",{className:"flex-grow space-y-2",children:[re&&p("div",{className:"flex items-center gap-2 text-sm text-red-500 bg-red-50 p-2 rounded-lg",children:[o(Gv,{className:"h-4 w-4"}),re]}),p("div",{className:"relative flex items-center",children:[o("textarea",{ref:fe,value:k,onChange:ie=>S(ie.target.value),placeholder:l,className:"w-full p-3 pr-32 min-h-[80px] max-h-[200px] border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-y",disabled:Z}),p("div",{className:"absolute right-2 flex space-x-1",children:[p("div",{className:"relative",ref:U,children:[o("button",{type:"button",onClick:()=>V(!$),className:"p-2 text-muted-foreground hover:text-primary rounded-full hover:bg-secondary transition-colors",disabled:Z,title:"Add emoji",children:o(Lp,{className:"h-5 w-5"})}),$&&o("div",{className:"absolute bottom-full right-0 mb-2 z-50",children:o(sx,{onEmojiClick:q,lazyLoadEmojis:!0,searchPlaceHolder:"Search emojis..."})})]}),p("div",{className:"relative group",children:[o("button",{type:"button",onClick:()=>xe.current.click(),className:"p-2 text-muted-foreground hover:text-primary rounded-full hover:bg-secondary transition-colors",disabled:Z,title:"Add image or GIF",children:o(Od,{className:"h-5 w-5"})}),o("div",{className:"absolute bottom-full mb-2 right-0 invisible group-hover:visible bg-card shadow-lg rounded-lg p-2 text-xs whitespace-nowrap",children:"Supported: JPG, PNG, GIF, WebP (max 10MB)"})]}),o("button",{type:"submit",disabled:!k.trim()&&!A||Z,className:"p-2 text-primary hover:bg-secondary rounded-full transition-colors disabled:opacity-50",title:"Send comment",children:Z?o(Rt,{className:"h-5 w-5 animate-spin"}):o(Xv,{className:"h-5 w-5"})})]}),o("input",{type:"file",ref:xe,onChange:K,accept:"image/jpeg,image/png,image/gif,image/webp",className:"hidden"})]}),E&&p("div",{className:"relative inline-block",children:[o("img",{src:E,alt:"Media preview",className:"max-h-40 rounded-lg border border-border"}),o("button",{type:"button",onClick:ee,className:"absolute -top-2 -right-2 p-1 bg-background rounded-full border border-border shadow-sm hover:bg-secondary transition-colors",children:o(Yt,{className:"h-4 w-4"})})]}),g&&h&&o("div",{className:"flex justify-end",children:o("button",{type:"button",onClick:()=>{R(),h()},className:"px-3 py-1 text-sm text-muted-foreground hover:text-foreground",children:"Cancel"})})]})]})};n1.propTypes={currentUser:se.shape({_id:se.string.isRequired,displayName:se.string.isRequired,profileImage:se.string,role:se.string}).isRequired,onSubmit:se.func.isRequired,placeholder:se.string,isReply:se.bool,parentId:se.string,onCancel:se.func,maxImageSize:se.number,reviewId:se.string};const fx=[{id:"inappropriate",label:"Inappropriate Content"},{id:"spam",label:"Spam"},{id:"harassment",label:"Harassment"},{id:"misinformation",label:"Misinformation"},{id:"other",label:"Other"}],_0=({contentType:n,contentId:c,onClose:l,onReportSubmitted:g})=>{const[x,h]=b.useState(""),[v,_]=b.useState(""),[k,S]=b.useState(!1),[A,I]=b.useState(null),[E,j]=b.useState(!1),Z=async $=>{if($.preventDefault(),!!x)try{S(!0),I(null);const V=await x2.createReport({contentType:n,contentId:c,reason:x,additionalInfo:v.trim()});j(!0),g&&g({contentType:n,contentId:c,reportResult:V}),setTimeout(()=>{l()},2e3)}catch(V){console.error("Report submission error:",V),I(V.message||"Failed to submit report")}finally{S(!1)}};return o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-md bg-card p-6 relative",children:[o("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full",disabled:k,children:o(Yt,{className:"h-5 w-5"})}),p("div",{className:"mb-6",children:[p("h2",{className:"text-2xl font-bold text-foreground flex items-center",children:[o(Of,{className:"h-6 w-6 mr-2 text-primary"}),"Report ",(()=>{switch(n){case"review":return"Review";case"comment":return"Comment";case"user":return"User";default:return"Content"}})()]}),p("p",{className:"text-sm text-muted-foreground mt-1",children:["Help us understand what's wrong with this ",n,"."]})]}),A&&p("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),A]}),E?p("div",{className:"py-8 flex flex-col items-center justify-center",children:[o(Am,{className:"h-16 w-16 text-green-500 mb-4"}),o("h3",{className:"text-xl font-semibold text-green-600",children:"Report Submitted"}),o("p",{className:"text-center text-muted-foreground mt-2",children:"Thank you for helping keep our community safe. Our moderators will review this report soon."})]}):p("form",{onSubmit:Z,className:"space-y-4",children:[p("div",{children:[p("label",{className:"block text-sm font-medium text-foreground mb-2",children:["Why are you reporting this ",n,"?"]}),o("div",{className:"space-y-2",children:fx.map(({id:$,label:V})=>p("label",{className:`flex items-center p-3 rounded-lg border border-border hover:bg-secondary cursor-pointer transition-colors ${x===$?"bg-primary/10 border-primary":""}`,children:[o("input",{type:"radio",name:"reason",value:$,checked:x===$,onChange:re=>h(re.target.value),className:"mr-3"}),o("span",{className:"text-foreground",children:V})]},$))})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Additional Information (Optional)"}),o("textarea",{value:v,onChange:$=>_($.target.value),placeholder:"Provide any additional details about your report...",className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent resize-none h-32",disabled:k})]}),p("div",{className:"flex justify-end space-x-3 pt-4",children:[o("button",{type:"button",onClick:l,className:"px-4 py-2 text-foreground hover:bg-secondary rounded-lg",disabled:k,children:"Cancel"}),o("button",{type:"submit",disabled:!x||k,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center",children:k?p(jt,{children:[o(Rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Report"})]})]})]})})},Qf=({likes:n=[],onClose:c,title:l="Likes",isLoading:g=!1})=>{const[x,h]=b.useState(n);b.useEffect(()=>{window.userCache=window.userCache||{}},[]),b.useEffect(()=>{if(!n.some(S=>S.displayName&&S.displayName.includes("..."))){h(n);return}(async()=>{try{const S=[];if(n.forEach(E=>{E.displayName.includes("...")&&!window.userCache[E._id]&&S.push(E._id)}),S.length===0)return;const A=localStorage.getItem("token");if(!A)return;let I=null;try{console.log("Trying batch endpoint for users:",S);const E=await fetch(`${Te.API_URL}/users/batch`,{method:"POST",headers:{Authorization:`Bearer ${A}`,"Content-Type":"application/json"},body:JSON.stringify({ids:S})});E.ok&&(I=await E.json(),console.log("Batch user fetch successful:",I))}catch{console.log("Batch endpoint failed, trying query params")}if(!I)try{const E=await fetch(`${Te.API_URL}/users?ids=${S.join(",")}`,{headers:{Authorization:`Bearer ${A}`}});E.ok&&(I=await E.json(),console.log("Query param user fetch successful:",I))}catch{console.log("Query param endpoint failed, trying individual fetches")}if(!I||!I.users){I={users:[]};const E=Math.min(S.length,5);for(let j=0;j<E;j++)try{const Z=await fetch(`${Te.API_URL}/users/${S[j]}`,{headers:{Authorization:`Bearer ${A}`}});if(Z.ok){const J=await Z.json();J&&J._id&&(I.users.push(J),window.userCache[J._id]=J)}}catch(Z){console.warn(`Failed to fetch user ${S[j]}:`,Z)}}if(I&&Array.isArray(I.users)){I.users.forEach(j=>{j&&j._id&&(window.userCache[j._id]=j)});const E=n.map(j=>{if(window.userCache[j._id]){const Z=window.userCache[j._id];return{...j,displayName:Z.displayName||Z.username||j.displayName,profileImage:Z.profileImage||j.profileImage}}return j});h(E)}else h(n)}catch(S){console.error("Error fetching user data for likes:",S),h(n)}})()},[n]);const v=_=>{if(!_)return null;try{const k=new Date(_);return isNaN(k.getTime())?null:k.toLocaleString()}catch{return null}};return!Array.isArray(n)||n.length===0?null:o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-md bg-card p-6 relative max-h-[80vh] flex flex-col",children:[o("button",{onClick:c,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-5 w-5 text-muted-foreground"})}),p("div",{className:"mb-4",children:[o("h2",{className:"text-xl font-bold text-foreground",children:l}),p("p",{className:"text-sm text-muted-foreground",children:[x.length," ",x.length===1?"person":"people"]})]}),o("div",{className:"overflow-y-auto flex-grow",children:g?p("div",{className:"flex items-center justify-center p-8",children:[o(Rt,{className:"h-6 w-6 animate-spin text-primary mr-2"}),o("span",{className:"text-muted-foreground",children:"Loading..."})]}):o("div",{className:"space-y-4",children:x.map(_=>p("div",{className:"flex items-center space-x-3 p-2 hover:bg-secondary/50 rounded-lg",children:[o(la,{user:{_id:typeof _._id=="string"?_._id:typeof _._id=="object"&&(_._id.id||_._id._id||_._id.userId)||"",displayName:_.displayName||"Unknown User",profileImage:_.profileImage},size:"lg"}),p("div",{children:[o("p",{className:"font-semibold text-foreground",children:_.displayName}),_.username&&p("p",{className:"text-sm text-muted-foreground",children:["@",_.username]}),_.timestamp&&v(_.timestamp)&&o("p",{className:"text-xs text-muted-foreground",children:v(_.timestamp)})]})]},_._id))})})]})})},Wg=({comment:n,currentUser:c,reviewId:l,onLike:g=()=>{},onReply:x,onDelete:h,depth:v=0,nestedView:_=!0,maxDepth:k=5})=>{var ce,be;const[S,A]=b.useState(!1),[I,E]=b.useState(v<2),[j,Z]=b.useState(!1),[J,$]=b.useState(!1),[V,re]=b.useState(!1),[we,xe]=b.useState(!1),[fe,U]=b.useState(!1),[Y,K]=b.useState(!1),[ee,q]=b.useState(null),[R,F]=b.useState([]),ie=b.useRef(!1);b.useEffect(()=>{const he=()=>{document.visibilityState==="visible"&&g(n._id)};return document.addEventListener("visibilitychange",he),()=>{document.removeEventListener("visibilitychange",he)}},[n._id,g]),b.useEffect(()=>{if(n!=null&&n.likes){const he=Array.isArray(n.likes)?n.likes.map(ze=>typeof ze=="object"&&ze!==null?{...ze}:ze):[];F(he),console.log(`Comment ${n._id} likes synced, count:`,he.length)}},[n.likes]);const Q=b.useMemo(()=>{if(!c||!Array.isArray(R)||R.length===0)return!1;const he=c._id;return R.some(ze=>{try{if(typeof ze=="object"&&ze!==null&&ze._id){const He=typeof ze._id=="string"?ze._id:ze._id.toString(),nt=typeof he=="string"?he:he.toString();return He===nt}return typeof ze=="string"?ze===he.toString():ze.toString()===he.toString()}catch(He){return console.error("Error in comment hasUserLiked:",He),!1}})},[c,R]),ae=v<k,Ne=n.children&&n.children.length>0,ge=c&&(typeof n.userId=="string"?n.userId===c._id:((ce=n.userId)==null?void 0:ce._id)===c._id||((be=n.userId)==null?void 0:be.id)===c._id),H=c&&c.role==="admin",ue=ge||H,W=async()=>{if(c){if(j||ie.current){console.log("Comment like request already in progress, ignoring duplicate click");return}try{Z(!0),ie.current=!0,q(null);const he=n._id?n._id.toString():null,ze=Q;if(console.log("Comment.jsx - Making API call to",ze?"UNLIKE":"LIKE","comment:",he),ze){const et=R.filter(Ve=>typeof Ve=="object"&&Ve!==null&&Ve._id?Ve._id.toString()!==c._id.toString():Ve.toString()!==c._id.toString());F(et)}else{const et={_id:c._id,displayName:c.displayName,profileImage:c.profileImage};F([...R,et])}const He=localStorage.getItem("token");if(!He)throw new Error("Not authenticated");const nt=await fetch(`${Te.API_URL}/reviews/${l}/comments/${he}/like`,{method:"POST",headers:{Authorization:`Bearer ${He}`,"Content-Type":"application/json"}});if(!nt.ok){const et=await nt.text();throw new Error(et||"Failed to like comment")}const De=await nt.json(),$e=(et,Ve)=>{var It;if(!et||!Array.isArray(et))return null;for(const Gt of et){if(Gt._id===Ve)return Gt;if((It=Gt.children)!=null&&It.length){const ft=$e(Gt.children,Ve);if(ft)return ft}}return null},We=$e(De.comments,he);if(We&&We.likes){const et=Array.isArray(We.likes)?We.likes.map(Ve=>typeof Ve=="object"&&Ve!==null?{...Ve}:Ve):[];F(et),n&&(n.likes=[...et])}if(typeof g=="function")try{g(he,!0)}catch(et){console.warn("Non-critical error in parent onLike:",et)}try{setTimeout(()=>{typeof an=="function"&&an()},0)}catch(et){console.warn("Failed to refresh activities:",et)}}catch(he){console.error("Comment like error:",he),q(he.message||"Failed to like comment"),F(n.likes||[])}finally{Z(!1),ie.current=!1}}},B=async he=>{try{await x(he),A(!1),E(!0),an().catch(ze=>console.error("Failed to refresh activities after reply:",ze))}catch(ze){console.error("Reply error:",ze),q("Failed to add reply")}},ye=async()=>{if(window.confirm("Are you sure you want to delete this comment and all its replies?"))try{await h(l,n._id),an().catch(he=>console.error("Failed to refresh activities after delete:",he))}catch(he){console.error("Delete error:",he),q("Failed to delete comment")}},de=he=>{try{const ze=new Date,He=new Date(he),nt=ze-He,De=Math.floor(nt/1e3),$e=Math.floor(De/60),We=Math.floor($e/60),et=Math.floor(We/24);return De<60?"just now":$e<60?`${$e} minute${$e===1?"":"s"} ago`:We<24?`${We} hour${We===1?"":"s"} ago`:et<7?`${et} day${et===1?"":"s"} ago`:He.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch{return"some time ago"}},te=he=>Fn(he,"comment"),oe=he=>{console.error("Media load error:",{media:n.media,url:he.target.src,error:he}),U(!0)},z=()=>{if(!n.media||fe)return null;const he=te(n.media);if(!he)return null;const ze=!Rf(n.media),He=f0(n.media);return o("div",{className:"mt-2",children:ze&&p("div",{className:"relative group",children:[o("img",{src:he,alt:`${n.userDisplayName}'s media`,className:"max-h-60 rounded-lg object-contain bg-black/5 hover:bg-black/10 transition-colors cursor-pointer",onClick:()=>xe(!0),onError:oe,loading:"lazy"},he),o("div",{className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o("button",{onClick:nt=>{nt.stopPropagation(),window.open(he,"_blank")},className:"p-1 hover:bg-black/30 rounded-full",title:"Open image in new tab",children:o(mu,{className:"h-4 w-4 text-white"})})}),He&&o("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/50 rounded-md text-white text-xs",children:"GIF"})]})})};return p("div",{id:`comment-${n._id}`,className:`${v>0?"ml-6 md:ml-12 mt-3":"mt-4"}`,children:[p("div",{className:"flex",children:[o("div",{className:"flex-shrink-0 mr-3",children:o(la,{user:{_id:typeof n.userId=="string"?n.userId:typeof n.userId=="object"&&(n.userId._id||n.userId.id)||"",displayName:n.userDisplayName||"Unknown",profileImage:n.userImage},size:v===0?"md":"sm"})}),p("div",{className:"flex-grow",children:[p("div",{className:"bg-secondary p-3 rounded-lg relative",children:[p("div",{className:"flex justify-between",children:[o("div",{className:"font-semibold",children:n.userDisplayName}),(ue||c)&&p("div",{className:"relative",children:[o("button",{onClick:()=>re(!V),className:"p-1 text-muted-foreground hover:text-foreground rounded-full",children:o(wp,{className:"h-4 w-4"})}),V&&o("div",{className:"absolute right-0 top-6 bg-card shadow-lg rounded-lg z-10 overflow-hidden",children:ue?p("button",{onClick:ye,className:"px-4 py-2 text-sm text-red-500 hover:bg-secondary w-full text-left flex items-center",children:[o(Bf,{className:"h-4 w-4 mr-2"}),"Delete"]}):c&&!ge&&!H&&p("button",{onClick:()=>{re(!1),K(!0)},className:"px-4 py-2 text-sm text-muted-foreground hover:bg-secondary w-full text-left flex items-center",children:[o(Of,{className:"h-4 w-4 mr-2"}),"Report"]})})]})]}),o("div",{className:"text-foreground mt-1 whitespace-pre-line break-words",children:n.text}),z(),o("div",{className:"text-xs text-muted-foreground mt-2",children:de(n.date)})]}),p("div",{className:"flex items-center gap-3 mt-1 pl-1",children:[p("button",{onClick:W,disabled:!c||j,className:`flex items-center gap-1 px-2 py-1 rounded-full text-xs transition-colors ${Q?"liked-button":"text-muted-foreground hover:text-foreground"}`,children:[j?o(Rt,{className:"h-3.5 w-3.5 animate-spin"}):Q?o(hu,{className:"h-3.5 w-3.5 stroke-[3]"}):o(sa,{className:"h-3.5 w-3.5"}),o("span",{children:R.length})]}),R.length>0&&o("button",{onClick:()=>$(!0),className:"text-xs text-muted-foreground hover:text-foreground transition-colors",children:!c||!R.length?null:Q?R.length===1?"You like this":R.length===2?"You and 1 other":`You and ${R.length-1} others`:null}),ae&&c&&p("button",{onClick:()=>A(!S),className:"flex items-center gap-1 px-2 py-1 rounded-full text-xs text-muted-foreground hover:text-foreground transition-colors",children:[o(Kv,{className:"h-3.5 w-3.5"}),o("span",{children:"Reply"})]}),Ne&&_&&p("button",{onClick:()=>E(!I),className:"flex items-center gap-1 px-2 py-1 rounded-full text-xs text-muted-foreground hover:text-foreground transition-colors",children:[o("span",{children:I?"Hide":"Show"}),o("span",{children:n.children.length}),o("span",{children:n.children.length===1?"reply":"replies"})]})]}),S&&o("div",{className:"mt-3",children:o(n1,{currentUser:c,onSubmit:B,placeholder:`Reply to ${n.userDisplayName}...`,isReply:!0,parentId:n._id,reviewId:l,onCancel:()=>A(!1)})}),Ne&&_&&I&&o("div",{className:"ml-3 border-l-2 border-border pl-3 mt-3",children:n.children.map(he=>o(Wg,{comment:he,currentUser:c,reviewId:l,onLike:g,onReply:x,onDelete:h,depth:v+1,nestedView:_,maxDepth:k},he._id))})]})]}),we&&n.media&&o("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center cursor-pointer",onClick:()=>xe(!1),children:p("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o("button",{onClick:()=>xe(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors p-2 z-50",children:o(Yt,{className:"h-8 w-8"})}),o("img",{src:te(n.media),alt:"Comment media fullscreen",className:"max-w-full max-h-[90vh] object-contain",onClick:he=>he.stopPropagation(),onError:oe},`fullscreen-${n.media.url||n.media.original||Math.random()}`)]})}),J&&o(Qf,{likes:R,onClose:()=>$(!1),title:"Comment Likes"}),Y&&o(_0,{contentType:"comment",contentId:n._id,onClose:()=>K(!1),onReportSubmitted:()=>K(!1)}),ee&&o("div",{className:"mt-2 text-sm text-red-500",children:ee})]})},cx=({reviewId:n,initialComments:c=[],currentUser:l,onCommentAdded:g=()=>{},onCommentLike:x=()=>{},onCommentDeleted:h=()=>{},showReplyForm:v=!0,maxDepth:_=5})=>{const[k,S]=b.useState([]),[A,I]=b.useState(!1),[E,j]=b.useState(null),[Z,J]=b.useState(null),[$,V]=b.useState(!1),re=b.useCallback(U=>{if(!Array.isArray(U))return console.error("organizeComments received invalid comments:",U),[];console.log("Organizing comments:",U.length);const Y={},K=[];U.forEach(R=>{R._id&&(Y[R._id]={...R,children:[]})}),U.forEach(R=>{if(!R._id)return;const F=Y[R._id];R.parentId&&Y[R.parentId]?Y[R.parentId].children.push(F):K.push(F)});const ee=(R,F)=>{const ie=new Date(R.date),Q=new Date(F.date);return ie-Q},q=R=>(R.sort(ee),R.forEach(F=>{F.children&&F.children.length>0&&q(F.children)}),R);return q(K)},[]);b.useEffect(()=>{if(c&&c.length>0){console.log("CommentThread: initialComments changed, reorganizing",c.length);const U=re(c);S(U)}},[c,re,$]);const we=async U=>{try{if(!l)return J({type:"info",message:"You need to log in to comment"}),null;I(!0),j(null);const Y=new FormData;Y.append("text",U.text),U.parentId&&Y.append("parentId",U.parentId),U.media&&Y.append("media",U.media);const K=localStorage.getItem("token");if(!K)throw new Error("Not authenticated");const ee=await fetch(`${Te.API_URL}/reviews/${n}/comment`,{method:"POST",headers:{Authorization:`Bearer ${K}`},body:Y});if(!ee.ok)throw new Error("Failed to add comment");const q=await ee.json();if(q&&q.comments){const R=re(q.comments);S(R);try{const F=JSON.parse(localStorage.getItem("cachedReviews")||"{}");F[n]={...F[n],comments:q.comments,timestamp:Date.now()},localStorage.setItem("cachedReviews",JSON.stringify(F))}catch(F){console.warn("Failed to update comment cache:",F)}c&&(c.length=0,q.comments.forEach(F=>{c.push(F)}))}g(q),J({type:"success",message:U.parentId?"Reply added successfully":"Comment added successfully"});try{setTimeout(()=>{typeof an=="function"&&an()},0)}catch(R){console.warn("Failed to refresh activities:",R)}return!0}catch(Y){return console.error("Add comment error:",Y),j("Failed to add comment. Please try again."),null}finally{I(!1)}},xe=async(U,Y=!1)=>{try{if(!l)return J({type:"info",message:"You need to log in to like comments"}),null;if(console.log("CommentThread: Like request for commentId:",U,"alreadyProcessed:",Y),Y)return console.log("CommentThread: Like already processed, skipping API call"),typeof x=="function"&&x(U,!0),!0;const K=typeof U=="string"?U:U&&U._id?U._id.toString():String(U),ee=n.toString();if(!K||K===ee)throw console.error("Invalid comment ID for liking. CommentId:",K,"ReviewId:",ee),new Error("Invalid comment ID");console.log("CommentThread: Liking comment:",K,"in review:",ee),I(!0);const q=localStorage.getItem("token");if(!q)throw new Error("Not authenticated");const R=await fetch(`${Te.API_URL}/reviews/${ee}/comments/${K}/like`,{method:"POST",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(!R.ok){const Q=await R.text();throw console.error("Server error response:",Q),new Error("Failed to like comment")}const F=await R.json();console.log("Received updated review after comment like");let ie=null;if(F&&F.comments&&(ie=F.comments.find(Q=>Q._id===K||Q._id.toString()===K)),F&&F.comments&&typeof re=="function"){const Q=re(F.comments);S(Q)}return Array.isArray(c)&&(c.length=0,F&&F.comments&&F.comments.forEach(Q=>{c.push(Q)})),typeof x=="function"&&x(F,!0),ie}catch(K){return console.error("Like comment error in CommentThread:",K),j("Failed to like the comment. Please try again."),null}finally{I(!1)}},fe=b.useCallback(async(U,Y)=>{try{const K=localStorage.getItem("token");if(!K)throw new Error("Not authenticated");const ee=await fetch(`${Te.API_URL}/reviews/${U}/comments/${Y}`,{method:"DELETE",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"}});if(!ee.ok)throw new Error("Failed to delete comment");const q=await ee.json();if(q&&q.comments){const R=re(q.comments);S(R);try{const F=JSON.parse(localStorage.getItem("cachedReviews")||"{}");F[U]={...F[U],comments:q.comments,timestamp:Date.now()},localStorage.setItem("cachedReviews",JSON.stringify(F)),localStorage.removeItem(`comment-${U}-${Y}`)}catch(F){console.warn("Failed to update comment cache:",F)}c&&(c.length=0,q.comments.forEach(F=>{c.push(F)}))}h(q);try{setTimeout(()=>{typeof an=="function"&&an()},0)}catch(R){console.warn("Failed to refresh activities:",R)}return!0}catch(K){return console.error("Delete comment error:",K),j("Failed to delete comment. Please try again."),null}},[re,c,h]);return b.useEffect(()=>{if(Z){const U=setTimeout(()=>{J(null)},3e3);return()=>clearTimeout(U)}},[Z]),p("div",{className:"space-y-4",children:[Z&&o("div",{className:`p-2 text-sm rounded ${Z.type==="success"?"bg-green-500/10 text-green-500":"bg-blue-500/10 text-blue-500"}`,children:Z.message}),v&&o(n1,{currentUser:l,onSubmit:we,reviewId:n,isLoading:A}),A&&o("div",{className:"flex justify-center p-4",children:o(Rt,{className:"w-6 h-6 animate-spin text-primary"})}),E&&o("div",{className:"p-2 text-sm rounded bg-red-500/10 text-red-500",children:E}),p("div",{className:"space-y-2",children:[k.map(U=>o(Wg,{comment:U,currentUser:l,reviewId:n,onLike:xe,onReply:we,onDelete:fe,depth:0,nestedView:!0,maxDepth:_},U._id)),!A&&k.length===0&&o("div",{className:"text-center py-4 text-muted-foreground",children:"No comments yet. Be the first to comment!"})]})]})},M0=({review:n,currentUser:c,onLike:l=()=>{},onDelete:g=()=>{},onEdit:x=()=>{},onComment:h=()=>{},onCommentLike:v=()=>{},onCommentDelete:_=()=>{},isInFeed:k=!1,isLiking:S=!1,showFullContent:A=!1,onRefreshContent:I=()=>{},highlightedCommentId:E=null})=>{var Zn,Pi;const[j,Z]=b.useState(!1),[J,$]=b.useState(!1),[V,re]=b.useState(!1),[we,xe]=b.useState(!1),[fe,U]=b.useState("review"),[Y,K]=b.useState(null),[ee,q]=b.useState(!1),[R,F]=b.useState(A),[ie,Q]=b.useState(!1),[ae,Ne]=b.useState(!1),[ge,H]=b.useState(!1),[ue,W]=b.useState(!1),[B,ye]=b.useState([]),[de,te]=b.useState(!1),oe=b.useRef(null),z=b.useRef(null),ce=b.useRef(!1),{showNotification:be}=Ud();b.useEffect(()=>{var Je,_e,Ae,Ye;console.log("ReviewCard rendering review:",n._id,"with components:",{hasMedia:!!n.media,hasComments:!!n.comments,title:((Je=n.title)==null?void 0:Je.substring(0,30))+"...",introSummary:((_e=n.introSummary)==null?void 0:_e.substring(0,30))+"...",introComments:((Ae=n.introComments)==null?void 0:Ae.substring(0,20))+"...",closingSummary:((Ye=n.closingSummary)==null?void 0:Ye.substring(0,30))+"...",beefery:n.beefery,location:n.location})},[n,ge]),b.useEffect(()=>{if(n&&n.likes){const Je=Array.isArray(n.likes)?n.likes.map(_e=>typeof _e=="object"&&_e!==null?{..._e}:_e):[];ye(Je),console.log("ReviewCard: Updated localLikes from review, current count:",Je.length)}},[n.likes]),b.useEffect(()=>{if(E&&z.current){const _e=document.getElementById(`comment-${E}`);_e&&(Z(!0),setTimeout(()=>{_e.scrollIntoView({behavior:"smooth",block:"center"}),_e.classList.add("highlight-animation")},300))}const Je=_e=>{oe.current&&!oe.current.contains(_e.target)&&$(!1)};return document.addEventListener("mousedown",Je),()=>{document.removeEventListener("mousedown",Je)}},[E]);const he=b.useMemo(()=>{if(!c||!Array.isArray(B)||B.length===0)return!1;const Je=c._id;return B.length>0&&console.log("Checking if user",Je,"has liked review with",B.length,"likes"),B.some(_e=>{try{if(typeof _e=="object"&&_e!==null&&_e._id){const Ae=typeof _e._id=="string"?_e._id:_e._id.toString(),Ye=typeof Je=="string"?Je:Je.toString();return Ae===Ye}return typeof _e=="string"?_e===Je.toString():_e.toString()===Je.toString()}catch(Ae){return console.error("Error in hasUserLiked:",Ae),!1}})},[c,B]),ze=()=>{Ne(!ae)},He=Je=>c?c._id===Je||c.role==="admin":!1,nt=async()=>{var Je;if(!c){be("info","You need to log in to like reviews");return}if(de||ce.current){console.log("Like request already in progress, ignoring duplicate click");return}try{te(!0),ce.current=!0,console.log("ReviewCard: Making single API call to like review:",n._id);const _e=localStorage.getItem("token");if(!_e)throw new Error("Authentication required");const Ae=await fetch(`${Te.API_URL}/reviews/${n._id}/like`,{method:"POST",headers:{Authorization:`Bearer ${_e}`,"Content-Type":"application/json"}});if(!Ae.ok){const at=await Ae.json().catch(()=>({}));throw new Error(at.message||"Failed to like review")}const Ye=await Ae.json();console.log("API response like count:",(Je=Ye.likes)==null?void 0:Je.length);const qe=Array.isArray(Ye.likes)?Ye.likes.map(at=>typeof at=="object"&&at!==null?{...at}:at):[];ye(qe),n&&(n.likes=qe)}catch(_e){console.error("Review like error:",_e),be("error","Failed to like review")}finally{te(!1),ce.current=!1}},De=async()=>{if(c&&window.confirm("Are you sure you want to delete this review?"))try{q(!0),await g(n._id),be("success","Review deleted successfully")}catch(Je){console.error("Delete error:",Je),be("error","Failed to delete review")}finally{q(!1)}},$e=()=>{He(n.userId)&&x(n)},We=async Je=>{if(!c){be("info","You need to log in to comment");return}try{if(Je&&Je._id===n._id){console.log("ReviewCard received updated review directly from CommentForm"),n.comments=Je.comments.map(st=>(st.media&&(st.media={...st.media,processedUrl:Fn(st.media,"comment")}),st.children&&Array.isArray(st.children)&&(st.children=st.children.map(bt=>(bt.media&&(bt.media={...bt.media,processedUrl:Fn(bt.media,"comment")}),bt))),st)),H(st=>!st);try{await h(Je)}catch(st){console.warn("Parent comment handler error (non-critical):",st)}return be("success","Comment added successfully"),Je}const _e=Je;_e.append("reviewId",n._id);const Ae=_e.get("text");console.log("Submitting comment for review:",n._id,"Text:",Ae&&Ae.substring(0,20)+"...");const Ye=localStorage.getItem("token");if(!Ye)throw new Error("Authentication required");const qe=await fetch(`${Te.API_URL}/reviews/${n._id}/comment`,{method:"POST",headers:{Authorization:`Bearer ${Ye}`},body:_e});if(!qe.ok){const st=await qe.json().catch(()=>({}));throw new Error(st.message||"Failed to add comment")}const at=await qe.json();if(console.log("Received updated review after comment:",at._id),n.comments=at.comments.map(st=>(st.media&&(st.media={...st.media,processedUrl:Fn(st.media,"comment")}),st.children&&Array.isArray(st.children)&&(st.children=st.children.map(bt=>(bt.media&&(bt.media={...bt.media,processedUrl:Fn(bt.media,"comment")}),bt))),st)),H(st=>!st),at&&at._id){try{await h(at),be("success","Comment added successfully")}catch(st){console.warn("Parent comment handler error:",st)}return at}else throw new Error("Invalid response from server")}catch(_e){throw console.error("Comment error:",_e),be("error","Failed to add comment"),_e}},et=async(Je,_e=!1)=>{var Ae;try{if(!c)return be("info","You need to log in to like comments"),null;if(console.log("ReviewCard: Like request for commentId:",Je,"alreadyProcessed:",_e),_e)return console.log("ReviewCard: Like already processed, skipping API call"),!0;const Ye=n._id.toString();let qe;if(typeof Je=="object"&&Je!==null?Je._id?qe=Je._id.toString():(console.error("Invalid comment object:",Je),Je.id?qe=Je.id.toString():qe=(Ae=Object.values(Je).find(dn=>typeof dn=="string"))==null?void 0:Ae.toString()):typeof Je=="string"?qe=Je:qe=String(Je),console.log("ReviewCard.handleCommentLike - commentId processed:",{original:Je,processed:qe,type:typeof Je}),!qe||qe===Ye)throw console.error("Invalid comment ID for liking (equals review ID):",qe),new Error("Invalid comment ID");console.log("ReviewCard: Liking comment",qe,"in review",Ye),te(!0);const at=localStorage.getItem("token");if(!at)throw new Error("Not authenticated");const st=await fetch(`${Te.API_URL}/reviews/${Ye}/comments/${qe}/like`,{method:"POST",headers:{Authorization:`Bearer ${at}`,"Content-Type":"application/json"}});if(!st.ok){const dn=await st.text();throw console.error("Comment like API error response:",dn),new Error(`Server returned ${st.status} ${st.statusText}`)}const bt=await st.json();n&&n.comments&&(Object.assign(n,bt),H(dn=>!dn));try{const dn=JSON.parse(localStorage.getItem("cachedReviews")||"{}");dn[Ye]={...dn[Ye],...bt,timestamp:Date.now()},localStorage.setItem("cachedReviews",JSON.stringify(dn))}catch(dn){console.warn("Failed to update review cache:",dn)}console.log("Comment like successful");try{setTimeout(()=>{typeof refreshActivities=="function"&&refreshActivities()},0)}catch(dn){console.warn("Failed to refresh activities:",dn)}return bt}catch(Ye){return console.error("Comment like error:",Ye),be("error","Failed to like comment"),null}finally{te(!1)}},Ve=async Je=>{if(c&&window.confirm("Are you sure you want to delete this comment?"))try{await _(n._id,Je),be("success","Comment deleted successfully")}catch(_e){console.error("Comment delete error:",_e),be("error","Failed to delete comment")}},It=(Je,_e)=>{U(Je),K(_e),xe(!0),$(!1)},Gt=Je=>{console.log("Report submitted:",Je),be("success","Report submitted successfully"),I()},ft=Je=>new Date(Je).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),gt=Je=>p("div",{className:"flex items-center",children:[o(Bn,{className:"h-5 w-5 text-yellow-500 mr-1"}),p("span",{className:"font-semibold",children:[parseFloat(Je).toFixed(2),"/10.00"]})]}),$t=Je=>Je?Fn(Je,"review"):(console.log("No media provided for review:",n._id),null),qt=()=>{if(!n.media)return console.log("Review has no media:",n._id),null;const Je=$t(n.media);if(!Je)return console.log("Failed to generate media URL for review:",n._id),null;const _e=f0(n.media);return Rf(n.media)?o("div",{className:"relative mt-3",children:o("video",{src:Je,controls:!0,className:"rounded-lg max-h-72 w-auto object-contain bg-black/5",onError:Ye=>{console.error("Video load error:",Ye.target.src),Ye.target.style.display="none"}})}):p("div",{className:"relative mt-3 cursor-pointer",onClick:()=>re(!0),children:[o("img",{src:Je,alt:`${n.beefery} review media`,className:"rounded-lg max-h-72 w-auto object-contain bg-black/5",onError:Ye=>{console.error("Media load error:",Ye.target.src),Ye.target.style.display="none"}}),o("div",{className:"absolute top-2 right-2 p-1 rounded-full bg-black/50 text-white",children:o(Rs,{className:"h-5 w-5"})}),_e&&o("div",{className:"absolute bottom-2 right-2 px-2 py-1 rounded-md bg-black/50 text-white text-xs",children:"GIF"})]})},on=()=>{if(!V||!n.media)return null;const Je=$t(n.media);if(!Je)return null;const _e=Rf(n.media);return o("div",{className:"fixed inset-0 z-50 bg-black/90 flex items-center justify-center cursor-pointer",onClick:()=>re(!1),children:p("div",{className:"max-w-3xl max-h-screen p-4",children:[o("button",{className:"absolute top-4 right-4 p-2 bg-black/50 rounded-full text-white",onClick:()=>re(!1),children:o(Yt,{className:"h-6 w-6"})}),o("div",{className:"flex items-center justify-between w-full absolute top-4 left-4",children:o("div",{className:"flex items-center space-x-2 text-white",children:o("button",{onClick:Ae=>{Ae.stopPropagation(),window.open(Je,"_blank")},className:"p-2 hover:bg-black/30 rounded-full",title:"Open in new tab",children:o(mu,{className:"h-5 w-5"})})})}),_e?o("video",{src:Je,controls:!0,autoPlay:!0,className:"max-h-full max-w-full",onClick:Ae=>Ae.stopPropagation(),onError:Ae=>{console.error("Video load error:",Ae.target.src),re(!1)}}):o("img",{src:Je,alt:`${n.beefery} review media`,className:"max-h-full max-w-full object-contain",onClick:Ae=>Ae.stopPropagation(),onError:Ae=>{console.error("Media load error:",Ae.target.src),re(!1)}})]})})},xn=()=>{if(!J)return null;const Je=He(n.userId),_e=c&&c._id!==n.userId;return o("div",{ref:oe,className:"absolute top-10 right-4 bg-card p-2 rounded-lg shadow-lg border border-border z-10",children:p("div",{className:"space-y-1 min-w-[150px]",children:[Je&&p(jt,{children:[p("button",{onClick:()=>{$(!1),$e()},className:"flex items-center w-full px-3 py-2 text-foreground hover:bg-secondary rounded-lg transition-colors",children:[o(t2,{className:"h-4 w-4 mr-2"}),"Edit"]}),p("button",{onClick:()=>{$(!1),De()},disabled:ee,className:"flex items-center w-full px-3 py-2 text-red-500 hover:bg-secondary rounded-lg transition-colors",children:[ee?o(Rt,{className:"h-4 w-4 mr-2 animate-spin"}):o(Bf,{className:"h-4 w-4 mr-2"}),"Delete"]})]}),_e&&p("button",{onClick:()=>It("review",n._id),className:"flex items-center w-full px-3 py-2 text-foreground hover:bg-secondary rounded-lg transition-colors",children:[o(Of,{className:"h-4 w-4 mr-2"}),"Report"]})]})})},jn=({user:Je})=>{console.log("UserBadge received user:",Je);const _e=(Je==null?void 0:Je.role)||n.user&&n.user.role||n.userRole;if(!_e)return console.log("No role found for user:",(Je==null?void 0:Je.displayName)||n.userDisplayName),null;let Ae="",Ye="";switch(_e){case"admin":Ae="Admin",Ye="bg-red-500 text-white";break;case"moderator":Ae="Mod",Ye="bg-green-500 text-white";break;case"mvb":Ae="MVB",Ye="bg-purple-500 text-white";break;case"DanBob":Ae="DanBob",Ye="bg-orange-500 text-white";break;default:Ae=_e,Ye="bg-gray-500 text-white"}return o("span",{className:`inline-block ml-1 px-2 py-0.5 rounded-full text-xs ${Ye}`,children:Ae})},Dn=()=>!c||!Array.isArray(B)||B.length===0?null:B.some(_e=>{try{const Ae=c._id;if(typeof _e=="object"&&_e!==null&&_e._id){const Ye=typeof _e._id=="string"?_e._id:_e._id.toString(),qe=typeof Ae=="string"?Ae:Ae.toString();return Ye===qe}return typeof _e=="string"?_e===Ae.toString():_e.toString()===Ae.toString()}catch(Ae){return console.error("Error in getLikeText:",Ae),!1}})?B.length===1?"You like this":B.length===2?"You and 1 other":`You and ${B.length-1} others`:null;return p(lt,{className:"hover:shadow-md transition-shadow",children:[p("div",{className:"p-6",children:[p("div",{className:"flex justify-between items-start",children:[p("div",{className:"flex items-center space-x-3",children:[o(la,{user:{_id:n.userId,displayName:n.userDisplayName,profileImage:n.userImage},size:"md"}),p("div",{children:[p("h3",{className:"font-semibold text-foreground",children:[n.userDisplayName,o(jn,{user:{...n.user,role:((Zn=n.user)==null?void 0:Zn.role)||n.userRole||(c&&c._id===n.userId?c.role:null)}})]}),p("div",{className:"flex items-center text-xs text-muted-foreground",children:[o(Yo,{className:"h-3 w-3 mr-1"}),ft(n.date)]})]})]}),p("div",{className:"flex items-center space-x-2",children:[gt(n.rating),p("div",{className:"relative",children:[o("button",{onClick:()=>$(!J),className:"p-2 hover:bg-secondary rounded-full transition-colors",children:o(wp,{className:"h-5 w-5 text-muted-foreground"})}),xn()]})]})]}),n.title&&o("h1",{className:"text-2xl font-bold text-foreground mt-4 mb-2",children:n.title}),n.introSummary&&o("div",{className:"mt-2 mb-4 px-4 py-3 bg-secondary/30 rounded-lg text-slate-700",children:n.introSummary}),p("div",{className:"mt-3",children:[p("div",{className:"flex items-center",children:[o("h2",{className:"text-xl font-bold text-foreground",children:n.beefery}),n.featured&&p("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[o(Bn,{className:"h-3 w-3 mr-1 fill-current"}),"Featured"]})]}),n.location&&p("div",{className:"flex items-center text-sm text-muted-foreground mt-1",children:[o(Go,{className:"h-4 w-4 mr-1"}),n.location]})]}),p("div",{className:"mt-3",children:[n.introComments&&p("div",{className:"relative",children:[o("p",{className:"text-foreground whitespace-pre-line",children:!R&&n.introComments.length>300&&!k?`${n.introComments.substring(0,300)}...`:n.introComments}),!R&&n.introComments.length>300&&!k&&p("button",{onClick:()=>F(!0),className:"text-primary hover:underline mt-1 inline-flex items-center",children:["Show more ",o(Os,{className:"h-4 w-4 ml-1"})]})]}),qt()]}),n.closingSummary&&o("div",{className:"mt-4 mb-2 px-4 py-3 bg-secondary/30 rounded-lg font-medium text-slate-700 border-l-4 border-primary",children:n.closingSummary}),p("div",{className:"mt-6",children:[p("div",{className:"flex justify-between items-center mb-2",children:[o("h3",{className:"text-lg font-semibold text-foreground",children:"Review Details"}),p("button",{onClick:ze,className:"flex items-center space-x-1 px-3 py-1 text-sm text-muted-foreground hover:text-foreground bg-secondary rounded-lg transition-colors",children:[o("span",{children:ae?"Collapse":"Expand"}),ae?o(Yv,{className:"h-4 w-4"}):o(Os,{className:"h-4 w-4"})]})]}),ae&&p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2 p-3 bg-secondary/50 rounded-lg",children:[n.timeOfBeefing&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Time of Beefing:"}),o("p",{className:"text-muted-foreground",children:n.timeOfBeefing})]}),n.timeInBag&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Time in Bag:"}),o("p",{className:"text-muted-foreground",children:n.timeInBag})]}),n.priceOfBeef&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Price:"}),o("p",{className:"text-muted-foreground",children:n.priceOfBeef})]}),n.freshPinkWarm&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Fresh, Pink & Warm:"}),o("p",{className:"text-muted-foreground",children:n.freshPinkWarm})]}),n.beefToBun&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Beef to Bun:"}),o("p",{className:"text-muted-foreground",children:n.beefToBun})]}),n.flavorOfBeef&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Flavor of Beef:"}),o("p",{className:"text-muted-foreground",children:n.flavorOfBeef})]}),n.sauceToMayo&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Sauce to Mayo:"}),o("p",{className:"text-muted-foreground",children:n.sauceToMayo})]}),n.cheesePosition&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Cheese Position:"}),o("p",{className:"text-muted-foreground",children:n.cheesePosition})]}),n.nicelyGriddledBun&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Nicely Griddled Bun:"}),o("p",{className:"text-muted-foreground",children:n.nicelyGriddledBun})]}),n.napkinCount!==void 0&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Napkin Count:"}),o("p",{className:"text-muted-foreground",children:n.napkinCount})]}),n.dayOldBeef&&o("div",{className:"col-span-2",children:o("p",{className:"text-sm font-semibold text-red-600",children:"Day Old Beef"})})]})]}),p("div",{className:"mt-4 flex items-center space-x-4 pt-4 border-t border-border",children:[p("div",{className:"flex items-center space-x-2",children:[p("button",{onClick:nt,disabled:de,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${he?"text-primary bg-primary/10":"text-muted-foreground hover:bg-secondary"}`,children:[de?o(Rt,{className:"h-5 w-5 animate-spin"}):he?o(hu,{className:"h-5 w-5"}):o(sa,{className:"h-5 w-5"}),o("span",{children:(B==null?void 0:B.length)||0})]}),B&&B.length>0&&o("button",{onClick:()=>W(!0),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:Dn()||""})]}),p("button",{onClick:()=>Z(!j),className:"flex items-center space-x-2 px-4 py-2 text-muted-foreground hover:bg-secondary rounded-lg transition-colors",children:[o(pu,{className:"h-5 w-5"}),o("span",{children:((Pi=n.comments)==null?void 0:Pi.length)||0})]})]}),j&&o("div",{className:"mt-4 space-y-4 pt-4 border-t border-border",ref:z,children:ie?o("div",{className:"flex justify-center items-center",children:o(Rt,{className:"h-6 w-6 animate-spin text-primary"})}):o(cx,{reviewId:n._id,currentUser:c,initialComments:n.comments||[],onCommentAdded:We,onCommentLike:et,onDelete:Ve})})]}),on(),we&&o(_0,{contentType:fe,contentId:Y,onClose:()=>xe(!1),onReportSubmitted:Gt}),ue&&o(Qf,{likes:B||[],onClose:()=>W(!1),title:"Review Likes"})]})};M0.propTypes={review:se.shape({_id:se.string.isRequired,userId:se.string.isRequired,userDisplayName:se.string.isRequired,userImage:se.string,title:se.string,introSummary:se.string,beefery:se.string.isRequired,location:se.string,rating:se.number.isRequired,date:se.string.isRequired,introComments:se.string,closingSummary:se.string,timeOfBeefing:se.string,timeInBag:se.string,priceOfBeef:se.string,freshPinkWarm:se.string,beefToBun:se.string,flavorOfBeef:se.string,sauceToMayo:se.string,cheesePosition:se.string,nicelyGriddledBun:se.string,napkinCount:se.number,dayOldBeef:se.bool,media:se.shape({url:se.string,original:se.string,type:se.string}),likes:se.arrayOf(se.oneOfType([se.string,se.shape({_id:se.string.isRequired,displayName:se.string,username:se.string,profileImage:se.string})])),comments:se.arrayOf(se.shape({_id:se.string.isRequired,text:se.string,userId:se.string.isRequired,userDisplayName:se.string.isRequired,userImage:se.string,date:se.string.isRequired,parentId:se.string,likes:se.array,media:se.shape({url:se.string,type:se.string})}))}).isRequired,currentUser:se.shape({_id:se.string.isRequired,displayName:se.string.isRequired,profileImage:se.string,role:se.string}),onLike:se.func,onDelete:se.func,onEdit:se.func,onComment:se.func,onCommentLike:se.func,onCommentDelete:se.func,isInFeed:se.bool,isLiking:se.bool,showFullContent:se.bool,onRefreshContent:se.func,highlightedCommentId:se.string};M0.displayName="ReviewCard";const Jg=({imageUrl:n,title:c="",className:l="w-full h-48"})=>{const[g,x]=b.useState(!1),[h,v]=b.useState(!1);if(!n||g)return null;const k=(S=>{if(!S)return null;if(console.log("NewsMedia processing URL:",S),S.startsWith("http://")||S.startsWith("https://"))return S;try{const A=Te.API_URL.endsWith("/api/")?Te.API_URL.slice(0,-5):Te.API_URL.endsWith("/api")?Te.API_URL.slice(0,-4):Te.API_URL;let I=S;if(I.includes(":/")||I.includes(":\\")||I.match(/^\/[A-Za-z]:/)){const j=I.split(/[/\\]/);I=`/uploads/news/${j[j.length-1]}`,console.log("Converted file path to:",I)}I=I.replace(/\/uploads\/uploads\//,"/uploads/"),I=I.replace(/^\/api\//,""),I.startsWith("/uploads/")||(I=`/uploads/${I}`),I=I.replace(/\/\//g,"/");const E=`${A}${I}`;return console.log("Final media URL:",E),E}catch(A){return console.error("Error generating media URL:",A,S),S}})(n);return o("div",{className:`relative ${l} ${h?"":"bg-gray-100 animate-pulse"}`,children:o("img",{src:k,alt:c||"News image",className:`absolute inset-0 w-full h-full object-cover rounded-lg transition-opacity duration-200 ${h?"opacity-100":"opacity-0"}`,onLoad:()=>v(!0),onError:S=>{console.error("News image load error:",{src:S.target.src,originalUrl:n}),x(!0)}})})};Jg.propTypes={imageUrl:se.string.isRequired,title:se.string,className:se.string};const r1=({poll:n,newsId:c,currentUser:l,onVote:g})=>{var q,R;const[x,h]=b.useState(!1),[v,_]=b.useState(null),[k,S]=b.useState(!1),[A,I]=b.useState(null),[E,j]=b.useState([]),[Z,J]=b.useState(!1),[$,V]=b.useState(null);if(b.useEffect(()=>{window.userCache=window.userCache||{}},[]),b.useEffect(()=>{if(console.log(`PollDisplay mounted for news ${c} with poll:`,n),!n){console.error(`Poll is missing or null for news ${c}`);return}n.question||console.error(`Poll is missing question for news ${c}`),Array.isArray(n.options)?n.options.length<2&&console.error(`Poll has fewer than 2 options for news ${c}`):console.error(`Poll options are not an array for news ${c}`)},[c,n]),!n||!n.question||!Array.isArray(n.options)||n.options.length<2)return console.error("Invalid poll data:",n),null;const re=n.options.reduce((F,ie)=>{var Q;return F+(((Q=ie.votes)==null?void 0:Q.length)||0)},0);let we=-1;for(let F=0;F<n.options.length;F++)if((q=n.options[F].votes)==null?void 0:q.some(Q=>typeof Q=="object"?Q.userId===(l==null?void 0:l._id)||Q.userId&&typeof Q.userId=="object"&&Q.userId._id===(l==null?void 0:l._id):Q===(l==null?void 0:l._id))){we=F;break}const xe=async F=>{if(!l){_("You must be logged in to vote");return}if(!n.active){_("This poll is no longer active");return}h(!0),_(null);try{await g(F)}catch(ie){console.error("Voting error:",ie),_(ie.message||"Failed to record your vote")}finally{h(!1)}},fe=F=>{var Q;if(re===0)return 0;const ie=((Q=n.options[F].votes)==null?void 0:Q.length)||0;return Math.round(ie/re*100)},U=async F=>{try{I(F),J(!0);const ie=n.options[F].votes||[];console.log("Raw votes data:",ie);const Q=ie.map(ge=>ge.userId&&typeof ge.userId=="object"&&ge.userId._id?{_id:ge.userId._id,displayName:ge.userId.displayName||ge.userId.username||"Unknown User",profileImage:ge.userId.profileImage,username:ge.userId.username,timestamp:ge.timestamp}:ge.userId?{_id:typeof ge.userId=="object"?ge.userId.toString():ge.userId,displayName:"Unknown User",timestamp:ge.timestamp}:{_id:typeof ge=="object"?ge.toString():ge,displayName:"Unknown User"});j(Q),S(!0);const ae=localStorage.getItem("token");if(!ae){J(!1);return}const Ne=Q.filter(ge=>ge.displayName==="Unknown User").map(ge=>ge._id).filter(Boolean);if(Ne.length===0){J(!1);return}console.log("Fetching data for user IDs:",Ne);try{const ge=await fetch(`${Te.API_URL}/users?ids=${Ne.join(",")}`,{headers:{Authorization:`Bearer ${ae}`}});if(ge.ok){const de=await ge.json();if(console.log("Bulk user API response:",de),de.users&&Array.isArray(de.users)){const te={};de.users.forEach(z=>{z&&z._id&&(te[z._id]=z)});const oe=Q.map(z=>{if(te[z._id]){const ce=te[z._id];return{...z,displayName:ce.displayName||ce.username||"Unknown User",profileImage:ce.profileImage,username:ce.username,role:ce.role}}return z});j(oe),J(!1);return}}console.log("Falling back to individual user fetches");const H=Math.min(Ne.length,5),ue=[];for(let de=0;de<H;de++)ue.push(fetch(`${Te.API_URL}/users/profile/${Ne[de]}`,{headers:{Authorization:`Bearer ${ae}`}}).then(te=>te.ok?te.json():null));const W=await Promise.allSettled(ue),B={};W.forEach((de,te)=>{if(de.status==="fulfilled"&&de.value&&de.value.user){const oe=de.value.user;B[oe._id]=oe}});const ye=Q.map(de=>{if(B[de._id]){const te=B[de._id];return{...de,displayName:te.displayName||te.username||"Unknown User",profileImage:te.profileImage,username:te.username,role:te.role}}return de});j(ye)}catch(ge){console.error("Error fetching user data:",ge)}}catch(ie){console.error("Error loading voters:",ie)}finally{J(!1)}},Y=n.winner&&n.winner.announced,K=Y?n.winner.optionIndex:-1,ee=K>=0?n.options[K]:null;return p("div",{className:"mt-4 mb-4",children:[p("div",{className:"mb-3",children:[Y&&p("div",{className:"mb-2 p-2 bg-yellow-50 border border-yellow-200 rounded-lg text-yellow-700 flex items-center",children:[o(El,{className:"h-4 w-4 mr-2 text-yellow-500"}),o("div",{children:p("p",{className:"font-semibold text-sm",children:['Poll results: "',ee==null?void 0:ee.title,'"',re>0&&` won with ${fe(K)}% of votes`]})})]}),p("div",{className:"flex items-center",children:[p("h4",{className:"text-base font-semibold text-foreground flex items-center",children:[n.question,!n.active&&!Y&&p("span",{className:"ml-2 text-muted-foreground text-xs flex items-center",children:[o(Kh,{className:"h-3 w-3 mr-1"}),"Closed"]}),Y&&p("span",{className:"ml-2 text-yellow-600 text-xs flex items-center",children:[o(El,{className:"h-3 w-3 mr-1"}),"Results"]})]}),re>0&&p("span",{className:"ml-auto text-xs text-muted-foreground flex items-center",children:[o(ou,{className:"h-3 w-3 mr-1"}),re," ",re===1?"vote":"votes"]})]})]}),v&&p("div",{className:"mb-2 p-2 bg-red-50 text-red-600 rounded-lg flex items-center text-xs",children:[o(fr,{className:"h-3 w-3 mr-1 flex-shrink-0"}),o("span",{children:v})]}),o("div",{className:"space-y-2",children:n.options.map((F,ie)=>{var H,ue,W;const Q=fe(ie),ae=K===ie,Ne=we===ie,ge=!!F.imageUrl;return p("div",{className:"relative",children:[p("button",{onClick:()=>xe(ie),disabled:x||!n.active||!l,className:`relative w-full text-left ${ge?"p-3":"py-2 px-3"} rounded-lg overflow-hidden border transition-all ${ae?"border-yellow-400 ring-1 ring-yellow-300/50":Ne?"bg-primary/10 border-primary/30":n.active?"border-border hover:bg-secondary/50":"border-gray-200 opacity-80"}`,children:[o("div",{className:`absolute top-0 left-0 bottom-0 ${ae?"bg-yellow-100":Ne?"bg-primary/20":n.active?"bg-secondary/60":"bg-gray-100"}`,style:{width:`${Q}%`}}),p("div",{className:"flex justify-between items-center relative z-10",children:[p("div",{className:"flex items-center flex-grow",children:[ge&&o("div",{className:"w-8 h-8 mr-2 rounded-md overflow-hidden flex-shrink-0 cursor-pointer border border-gray-200",onClick:B=>{B.stopPropagation(),V({url:typeof F.imageUrl=="string"&&F.imageUrl.startsWith("data:")?F.imageUrl:Fn(F.imageUrl,"news"),title:F.title})},children:o("img",{src:typeof F.imageUrl=="string"&&F.imageUrl.startsWith("data:")?F.imageUrl:Fn(F.imageUrl,"news"),alt:F.title,className:"w-full h-full object-cover",onError:B=>{console.error("Poll option image load error:",B),B.target.style.display="none"}})}),p("div",{children:[p("div",{className:`font-medium text-sm ${ae?"text-yellow-700":"text-foreground"} flex items-center`,children:[F.title,ae&&o(El,{className:"h-3 w-3 text-yellow-600 ml-1"})]}),p("div",{className:"text-xs text-muted-foreground flex items-center",children:[p("span",{children:[((H=F.votes)==null?void 0:H.length)||0," ",((ue=F.votes)==null?void 0:ue.length)===1?"vote":"votes"]}),o("span",{className:"mx-1",children:""}),p("span",{children:[Q,"%"]})]})]})]}),ae&&o("div",{className:"flex-shrink-0 ml-2",children:o(mp,{className:"h-4 w-4 text-yellow-600"})})]})]}),((W=F.votes)==null?void 0:W.length)>0&&o("button",{onClick:B=>{B.stopPropagation(),U(ie)},disabled:Z,className:"mt-0.5 ml-auto block text-xs text-primary hover:text-primary/80 transition-colors",children:Z&&A===ie?o(Rt,{className:"h-3 w-3 animate-spin"}):"Show voters"})]},ie)})}),p("div",{className:"mt-3 text-xs",children:[!n.active&&!Y&&p("div",{className:"text-muted-foreground flex items-center",children:[o(Kh,{className:"h-3 w-3 mr-1"}),"This poll is closed. No more votes can be submitted."]}),n.active&&p("div",{className:"text-green-600 flex items-center",children:[o(o0,{className:"h-3 w-3 mr-1"}),"This poll is active. Cast your vote!"]})]}),x&&o("div",{className:"flex justify-center mt-2",children:o(Rt,{className:"h-4 w-4 animate-spin text-primary"})}),k&&A!==null&&o(Qf,{likes:E,onClose:()=>S(!1),title:`Voters for "${((R=n.options[A])==null?void 0:R.title)||"Option"}"`,isLoading:Z}),$&&o("div",{className:"fixed inset-0 z-50 bg-black/80 flex items-center justify-center p-4",onClick:()=>V(null),children:p("div",{className:"relative max-w-lg",children:[o("img",{src:$.url,alt:$.title,className:"max-h-[80vh] max-w-full rounded-lg"}),o("button",{className:"absolute top-2 right-2 bg-black/50 p-1 rounded-full text-white hover:bg-black/70",onClick:()=>V(null),children:o(mu,{className:"h-5 w-5"})})]})})]})};r1.propTypes={poll:se.shape({question:se.string.isRequired,options:se.arrayOf(se.shape({title:se.string.isRequired,imageUrl:se.string,votes:se.array})).isRequired,active:se.bool,winner:se.shape({optionIndex:se.number,announced:se.bool})}),newsId:se.string.isRequired,currentUser:se.object,onVote:se.func.isRequired};let au=null;const ux=()=>au||(au=document.createElement("div"),au.className="fixed top-4 right-4 z-50 flex flex-col gap-2 w-80 pointer-events-none",document.body.appendChild(au),au),bm={duration:4e3,animationDuration:300,maxToasts:5},Em={success:{className:"bg-green-50 border-green-500 text-green-800",iconColor:"text-green-500"},error:{className:"bg-red-50 border-red-500 text-red-800",iconColor:"text-red-500"},warning:{className:"bg-amber-50 border-amber-500 text-amber-800",iconColor:"text-amber-500"},info:{className:"bg-blue-50 border-blue-500 text-blue-800",iconColor:"text-blue-500"}},dx=n=>{var l;const c=((l=Em[n])==null?void 0:l.iconColor)||"text-gray-500";switch(n){case"success":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ${c}" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
      </svg>`;case"error":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ${c}" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
      </svg>`;case"warning":return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ${c}" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z" clip-rule="evenodd" />
      </svg>`;case"info":default:return`<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ${c}" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" />
      </svg>`}},On=({title:n="",description:c="",type:l="info",duration:g=bm.duration})=>{const x=ux();x.children.length>=bm.maxToasts&&x.firstChild&&x.removeChild(x.firstChild);const h=document.createElement("div"),v=Em[l]||Em.info;h.className=`${v.className} shadow-md rounded-lg p-4 mb-2 border-l-4 flex items-start transform translate-x-full opacity-0 transition-all duration-300 pointer-events-auto`,h.innerHTML=`
    <div class="mr-3 mt-0.5">
      ${dx(l)}
    </div>
    <div class="flex-1">
      ${n?`<div class="font-semibold">${n}</div>`:""}
      ${c?`<div class="text-sm">${c}</div>`:""}
    </div>
    <button class="ml-auto -mr-1 text-gray-400 hover:text-gray-600 rounded-full p-1 hover:bg-gray-200 focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" viewBox="0 0 20 20" fill="currentColor">
        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd" />
      </svg>
    </button>
  `,x.appendChild(h),setTimeout(()=>{h.classList.remove("translate-x-full","opacity-0")},10);const _=setTimeout(()=>{S(h)},g);h.querySelector("button").addEventListener("click",()=>{clearTimeout(_),S(h)});function S(A){A.classList.add("opacity-0","translate-x-full"),setTimeout(()=>{A.parentNode&&A.parentNode.removeChild(A)},bm.animationDuration)}};On.success=n=>On({...n,type:"success"});On.error=n=>On({...n,type:"error"});On.warning=n=>On({...n,type:"warning"});On.info=n=>On({...n,type:"info"});const N0=({item:n,currentUser:c=null,onLike:l=()=>{},onVotePoll:g=()=>{},onRefreshContent:x=()=>{},isPinned:h=!1})=>{var fe,U,Y,K,ee,q;const[v,_]=b.useState(!1),[k,S]=b.useState(!1),A=()=>{var R,F;try{console.log("News item data:",{id:n==null?void 0:n._id,title:n==null?void 0:n.title,hasTags:!!(n!=null&&n.tags&&n.tags.length),tagsCount:((R=n==null?void 0:n.tags)==null?void 0:R.length)||0,isPinned:((F=n==null?void 0:n.pinned)==null?void 0:F.isPinned)||!1})}catch(ie){console.error("Error logging news item data:",ie)}};Gr.useEffect(()=>{A()},[n]);const I=R=>{try{return new Date(R).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}catch(F){return console.error("Error formatting date:",F),"Invalid date"}},E=b.useMemo(()=>{try{return!c||!n||!Array.isArray(n.likes)||!n.likes.length?!1:n.likes.some(R=>typeof R=="object"?R._id===c._id:R===c._id)}catch(R){return console.error("Error checking user like status:",R),!1}},[c,n]),j=async()=>{if(!c){On({title:"Login Required",description:"You need to be logged in to like content.",type:"warning"});return}if(!k)try{S(!0),await l(n._id)}catch(R){console.error("Error liking news item:",R),On({title:"Error",description:"Failed to like this content. Please try again.",type:"error"})}finally{S(!1)}},Z=()=>{try{return!c||!Array.isArray(n.likes)||!n.likes.length?null:E?n.likes.length===1?"You like this":n.likes.length===2?"You and 1 other":`You and ${n.likes.length-1} others`:null}catch(R){return console.error("Error generating like text:",R),null}},J=()=>{try{return!Array.isArray(n.likes)||!n.likes.length?[]:n.likes.map(R=>typeof R=="object"&&R!==null?R:c&&R===c._id?{_id:c._id,displayName:c.displayName,profileImage:c.profileImage,role:c.role}:{_id:R,displayName:"User"})}catch(R){return console.error("Error formatting likes data:",R),[]}},$=R=>{try{switch(R){case"red":return"bg-red-100 text-red-800";case"green":return"bg-green-100 text-green-800";case"blue":return"bg-blue-100 text-blue-800";case"yellow":return"bg-yellow-100 text-yellow-800";case"purple":return"bg-purple-100 text-purple-800";case"pink":return"bg-pink-100 text-pink-800";case"orange":return"bg-orange-100 text-orange-800";case"cyan":return"bg-cyan-100 text-cyan-800";case"amber":return"bg-amber-100 text-amber-800";case"gray":return"bg-gray-100 text-gray-800";default:return"bg-primary/10 text-primary"}}catch(F){return console.error("Error getting tag color class:",F),"bg-gray-100 text-gray-800"}},V=({user:R})=>{try{if(!R||!R.role)return null;let F="",ie="";switch(R.role){case"admin":F="Admin",ie="bg-red-500 text-white";break;case"moderator":F="Mod",ie="bg-green-500 text-white";break;case"mvb":F="MVB",ie="bg-purple-500 text-white";break;default:F=R.role,ie="bg-gray-500 text-white"}return o("span",{className:`inline-block ml-1 px-2 py-0.5 rounded-full text-xs ${ie}`,children:F})}catch(F){return console.error("Error rendering user badge:",F),null}};b.useMemo(()=>{try{if(console.log("Processing tags for news:",n._id,"tags:",n.tags),!n.tags)return[];if(typeof n.tags=="string")try{return JSON.parse(n.tags)}catch(R){return console.error("Failed to parse tags string:",R),n.tags.includes(",")?n.tags.split(",").map(F=>({text:F.trim(),color:"primary"})):[{text:n.tags.trim(),color:"primary"}]}return Array.isArray(n.tags)?n.tags.map(R=>typeof R=="string"?{text:R,color:"primary"}:typeof R=="object"&&R!==null?{text:R.text||R.name||"Tag",color:R.color||"primary",icon:R.icon||!1}:null).filter(Boolean):[]}catch(R){return console.error("Error processing tags:",R),[]}},[n.tags]);const re=b.useMemo(()=>{try{if(!n||!n.poll)return!1;const R=!!n.poll.question,F=Array.isArray(n.poll.options)&&n.poll.options.length>=2;return console.log(`Poll check for news ${n._id}:`,{hasQuestion:R,hasOptions:F,pollData:n.poll}),R&&F}catch(R){return console.error("Error checking poll existence:",R),!1}},[n]),we=()=>{try{if(console.log("Rendering tags for news:",n._id,"tags:",n.tags),!n.tags||Array.isArray(n.tags)&&n.tags.length===0)return null;let R=[];if(typeof n.tags=="string")try{n.tags.startsWith("[")&&n.tags.endsWith("]")?R=JSON.parse(n.tags):n.tags.includes(",")?R=n.tags.split(",").map(F=>({text:F.trim(),color:"primary"})):R=[{text:n.tags.trim(),color:"primary"}]}catch(F){console.error("Error parsing tags string:",F),R=[{text:n.tags,color:"primary"}]}else Array.isArray(n.tags)&&(R=n.tags.map(F=>typeof F=="string"?{text:F,color:"primary"}:typeof F=="object"&&F!==null?{text:F.text||F.name||"Tag",color:F.color||"primary"}:null).filter(Boolean));return console.log("Processed tags:",R),o(jt,{children:R.map((F,ie)=>p("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${$(F.color)}`,children:[o(Dm,{className:"h-3 w-3 mr-1"}),F.text]},ie))})}catch(R){return console.error("Error rendering tags:",R),null}},xe=()=>{try{return h||!(n.pinned&&typeof n.pinned=="object"&&n.pinned.isPinned===!0||n.pinned===!0||n.pinned==="true")?null:p("div",{className:"flex items-center mb-2 text-primary",children:[o(Fd,{className:"h-4 w-4 mr-1"}),o("span",{className:"text-sm font-medium",children:typeof n.pinned=="object"&&n.pinned.label?n.pinned.label:"Pinned Post"})]})}catch(R){return console.error("Error rendering pinned status:",R),null}};return!n||!n._id||!n.title?(console.error("Invalid news item data:",n),o("div",{className:"p-4 border border-red-200 rounded-lg text-red-500 text-sm",children:"Invalid news item data"})):p("div",{className:`bg-card rounded-lg shadow-sm hover:shadow-md transition-shadow ${(fe=n.pinned)!=null&&fe.isPinned&&!h?"ring-2 ring-primary/30":""}`,children:[p("div",{className:"p-6",children:[xe(),p("div",{className:"flex flex-wrap gap-2 mb-4",children:[p("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary text-white",children:[o(Bd,{className:"w-3 h-3 mr-1"}),"News"]}),we()]}),n.imageUrl&&o(Jg,{imageUrl:n.imageUrl,title:n.title,className:"w-full h-48 mb-4"}),p("div",{className:"space-y-2",children:[o("h3",{className:"text-xl font-bold text-foreground",children:n.title}),p("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[p("div",{className:"flex items-center",children:[o(la,{user:{_id:typeof n.author=="object"&&(n.author.userId||n.author._id)||"",displayName:((U=n.author)==null?void 0:U.displayName)||"Unknown",profileImage:(Y=n.author)==null?void 0:Y.profileImage,role:(K=n.author)==null?void 0:K.role},size:"sm"}),p("span",{className:"ml-2",children:[(ee=n.author)==null?void 0:ee.displayName,o(V,{user:n.author})]})]}),p("div",{className:"flex items-center",children:[o(Yo,{className:"h-4 w-4 mr-1"}),I(n.date)]})]})]}),o("p",{className:"mt-4 text-muted-foreground whitespace-pre-line emoji-font",children:n.content}),re&&p("div",{className:"mt-2 mb-2 px-3 py-1 bg-purple-100 text-purple-800 text-sm inline-flex items-center rounded-md",children:[o(du,{className:"h-4 w-4 mr-1"}),n.poll.active?"Active Poll":"Closed Poll"]}),re&&o(r1,{poll:n.poll,newsId:n._id,currentUser:c,onVote:R=>g(n._id,R)}),o("div",{className:"mt-4 flex items-center justify-between",children:p("div",{className:"flex items-center space-x-2",children:[p("button",{onClick:j,disabled:k,className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${E?"text-primary bg-primary/10":"text-muted-foreground hover:bg-secondary"}`,title:c?"Like this news":"Login to like news",children:[k?o(Rt,{className:"h-5 w-5 animate-spin"}):E?o(hu,{className:"h-5 w-5"}):o(sa,{className:"h-5 w-5"}),o("span",{children:((q=n.likes)==null?void 0:q.length)||0})]}),Array.isArray(n.likes)&&n.likes.length>0&&o("button",{onClick:()=>_(!0),className:"text-sm text-muted-foreground hover:text-foreground transition-colors",children:Z()||`${n.likes.length} likes`})]})})]}),v&&o(Qf,{likes:J(),onClose:()=>_(!1),title:"News Likes"})]})};N0.propTypes={item:se.shape({_id:se.string.isRequired,title:se.string.isRequired,content:se.string.isRequired,date:se.string.isRequired,imageUrl:se.string,processedImageUrl:se.string,author:se.shape({userId:se.oneOfType([se.string,se.object]),displayName:se.string,profileImage:se.string,role:se.string}),likes:se.arrayOf(se.oneOfType([se.string,se.object])),poll:se.object,tags:se.oneOfType([se.string,se.array]),pinned:se.oneOfType([se.bool,se.shape({isPinned:se.bool,label:se.string})])}).isRequired,currentUser:se.shape({_id:se.string.isRequired,displayName:se.string.isRequired,profileImage:se.string,role:se.string}),onLike:se.func,onVotePoll:se.func,onRefreshContent:se.func,isPinned:se.bool};const hx=n=>{try{if(!n)return[];if(typeof n=="string"){if(n.startsWith("[")&&n.endsWith("]"))try{return JSON.parse(n)}catch(c){console.error("Failed to parse tags JSON string:",c)}return n.includes(",")?n.split(",").map(c=>({text:c.trim(),color:"primary"})):[{text:n.trim(),color:"primary"}]}return Array.isArray(n)?n.map(c=>typeof c=="string"?{text:c,color:"primary"}:typeof c=="object"&&c!==null?{text:c.text||c.name||"Tag",color:c.color||"primary",icon:c.icon||null}:null).filter(Boolean):[]}catch(c){return console.error("Error processing tags in CombinedFeed:",c),[]}},$g=({items:n,currentUser:c,onReviewLike:l,onNewsLike:g,onVotePoll:x,onReviewComment:h,onReviewDelete:v,onReviewEdit:_,onRefreshContent:k})=>{const[S,A]=b.useState(null),[I,E]=b.useState(!1);return!n||n.length===0?null:p(lt,{className:"mb-4 overflow-hidden shadow-sm hover:shadow-md transition-shadow bg-card",children:[p("div",{className:"flex items-center justify-between py-3 px-4 cursor-pointer border-b border-border hover:bg-secondary/10 transition-colors",onClick:()=>E(!I),children:[p("div",{className:"flex items-center",children:[o(Fd,{className:"h-5 w-5 mr-2 text-primary"}),p("h3",{className:"font-semibold text-foreground",children:["Pinned Content (",n.length,")"]})]}),I?o(Os,{className:"h-5 w-5 text-muted-foreground"}):o(qh,{className:"h-5 w-5 text-muted-foreground"})]}),I&&o("div",{className:"divide-y divide-border",children:n.map((j,Z)=>{var J,$,V;return p("div",{className:"border-t border-border first:border-t-0",children:[p("div",{className:"p-3 flex justify-between items-center cursor-pointer hover:bg-secondary/10 transition-colors",onClick:()=>A(S===Z?null:Z),children:[p("div",{children:[o("div",{className:"font-medium text-foreground",children:j.title||j.beefery}),o("div",{className:"text-xs text-muted-foreground",children:j.type==="news"?p(jt,{children:[((J=j.pinned)==null?void 0:J.label)||"Pinned News","  ",(($=j.author)==null?void 0:$.displayName)||"Unknown"]}):p(jt,{children:[((V=j.pinned)==null?void 0:V.label)||(j.featured?"Featured Review":"Pinned Review"),"  ",j.userDisplayName||"Unknown"]})})]}),S===Z?o(Os,{className:"h-5 w-5 text-muted-foreground"}):o(qh,{className:"h-5 w-5 text-muted-foreground"})]}),S===Z&&o("div",{className:"border-t border-border",children:j.type==="news"?o(N0,{item:j,currentUser:c,onLike:g,onVotePoll:x,onRefreshContent:k,isPinned:!0}):o(M0,{review:j,currentUser:c,onLike:()=>l(j._id),onDelete:()=>v(j._id),onEdit:()=>_(j),onComment:h,isInFeed:!0,onRefreshContent:k})})]},`pinned-${j.type}-${j._id}`)})})]})},Hg=({reviews:n=[],news:c=[],currentUser:l=null,onReviewLike:g=()=>{},onNewsLike:x=()=>{},onVotePoll:h=()=>{},onReviewDelete:v=()=>{},onReviewComment:_=()=>{},onCommentLike:k=()=>{},onRefreshContent:S=()=>{},onReviewEdit:A=()=>{}})=>{const[I,E]=b.useState({reviewLikes:{},newsLikes:{},pollVotes:{}}),[j,Z]=b.useState([]),[J,$]=b.useState(null),V=b.useRef(!1),re=b.useRef(!1);b.useEffect(()=>{if(!V.current)try{console.log("CombinedFeed received reviews:",(n==null?void 0:n.length)||0),console.log("CombinedFeed received news:",(c==null?void 0:c.length)||0);const F=Array.isArray(n)?n.filter(Q=>{var ae;return((ae=Q==null?void 0:Q.pinned)==null?void 0:ae.isPinned)||(Q==null?void 0:Q.featured)}):[],ie=Array.isArray(c)?c.filter(Q=>{var ae;return(ae=Q==null?void 0:Q.pinned)==null?void 0:ae.isPinned}):[];console.log("Pinned reviews:",F.length),console.log("Pinned news:",ie.length),V.current=!0}catch(F){console.error("Error in CombinedFeed logging:",F)}},[n,c]);const{pinnedItems:we,regularItems:xe}=b.useMemo(()=>{try{const F=[],ie=[];return Array.isArray(j)?(j.forEach(Q=>{if(!Q||!Q._id){console.warn("Invalid item in feed:",Q);return}Q.pinned&&typeof Q.pinned=="object"&&Q.pinned.isPinned===!0||Q.pinned===!0||Q.pinned==="true"||Q.type==="review"&&Q.featured===!0?F.push(Q):ie.push(Q)}),re.current||(console.log(`Separated ${F.length} pinned items and ${ie.length} regular items`),re.current=!0),{pinnedItems:F,regularItems:ie}):(console.error("localItems is not an array:",j),{pinnedItems:[],regularItems:[]})}catch(F){return console.error("Error separating pinned and regular items:",F),{pinnedItems:[],regularItems:[]}}},[j]);b.useEffect(()=>{var F,ie,Q,ae;try{const Ne=Array.isArray(n)?n.filter(W=>W&&W._id):[],ge=Array.isArray(c)?c.filter(W=>W&&W._id):[];ge.length>0&&!V.current&&ge.forEach(W=>{try{console.log(`News ${W._id} has tags:`,W.tags)}catch(B){console.error("Error logging news tags:",B)}});const H=[...Ne.map(W=>{try{const B={_id:W.userId,displayName:W.userDisplayName,profileImage:W.userImage,role:W.userRole||W.user&&W.user.role};let ye=null;if(W.media)if(typeof W.media=="string")ye={original:W.media,type:Rf(W.media)?"video":"image",url:W.media,processedUrl:Fn(W.media,"review")};else try{const z=Fn(W.media,"review");ye={...W.media,processedUrl:z}}catch(z){console.error("Error processing review media:",z),ye={...W.media,processedUrl:null}}const de=W.comments?W.comments.map(z=>{try{let ce=z.media;return ce&&(ce={...ce,processedUrl:Fn(ce,"comment")}),z.children&&Array.isArray(z.children)&&(z.children=z.children.map(be=>(be.media&&(be.media={...be.media,processedUrl:Fn(be.media,"comment")}),be))),{...z,media:ce}}catch(ce){return console.error("Error processing comment:",ce),z}}):[],te=typeof W.rating=="number"?parseFloat(W.rating.toFixed(2)):parseFloat(parseFloat(W.rating||7).toFixed(2));let oe=W.pinned;return W.featured&&(!oe||typeof oe=="object"&&!oe.isPinned)&&(oe={isPinned:!0,label:"Featured Review",pinnedAt:new Date(W.date)}),{...W,type:"review",sortDate:new Date(W.date),user:B,media:ye,comments:de,rating:te,pinned:oe}}catch(B){return console.error("Error processing review for feed:",B),{...W,type:"review",sortDate:new Date(W.date||Date.now()),_id:W._id||`review-${Date.now()}`}}}),...ge.map(W=>{var B,ye,de;try{const te={...W.author||{},userId:typeof((B=W.author)==null?void 0:B.userId)=="object"?W.author.userId._id:(ye=W.author)==null?void 0:ye.userId,role:(de=W.author)==null?void 0:de.role},oe=hx(W.tags);return{...W,type:"news",sortDate:new Date(W.date),author:te,tags:oe}}catch(te){return console.error("Error processing news item for feed:",te),{...W,type:"news",sortDate:new Date(W.date||Date.now()),_id:W._id||`news-${Date.now()}`}}})],ue=H.sort((W,B)=>{var ye,de,te,oe;try{return(ye=W.pinned)!=null&&ye.isPinned&&!((de=B.pinned)!=null&&de.isPinned)?-1:!((te=W.pinned)!=null&&te.isPinned)&&((oe=B.pinned)!=null&&oe.isPinned)?1:W.type==="review"&&W.featured&&!(B.type==="review"&&B.featured)?-1:!(W.type==="review"&&W.featured)&&B.type==="review"&&B.featured?1:B.sortDate-W.sortDate}catch(z){return console.error("Error sorting items:",z),0}});V.current||(console.log("CombinedFeed set localItems:",H.length),H.length>0&&console.log("First item:",{type:(F=H[0])==null?void 0:F.type,id:(ie=H[0])==null?void 0:ie._id,hasTags:!!((ae=(Q=H[0])==null?void 0:Q.tags)!=null&&ae.length)})),Z(ue),$(null)}catch(Ne){console.error("Error processing feed items:",Ne),$("Failed to load feed items. Please try refreshing the page.")}},[n,c]),b.useEffect(()=>{const F=ie=>{console.log("CombinedFeed received refresh event:",ie),ie.detail&&ie.detail.type==="news-deleted"&&(console.log("Handling news deletion event for ID:",ie.detail.id),Z(Q=>Array.isArray(Q)?Q.filter(ae=>!(ae.type==="news"&&ae._id===ie.detail.id)):[])),ie.detail&&ie.detail.type==="review-featured"&&(console.log("Handling review feature event for ID:",ie.detail.reviewId),Z(Q=>Array.isArray(Q)?Q.map(ae=>ae.type==="review"&&ae._id===ie.detail.reviewId?{...ae,featured:ie.detail.featured,pinned:{isPinned:ie.detail.featured,label:"Featured Review",pinnedAt:ie.detail.featured?new Date:null}}:ae):[])),S()};return window.addEventListener("content-updated",F),()=>{window.removeEventListener("content-updated",F)}},[S]);const fe=async F=>{if(!l){On({title:"Login Required",description:"You need to be logged in to like content.",type:"warning"});return}if(!I.reviewLikes[F])try{E(Q=>({...Q,reviewLikes:{...Q.reviewLikes,[F]:!0}})),console.log("CombinedFeed: Sending like request for review:",F);const ie=await g(F);ie&&ie.likes&&(console.log("CombinedFeed: Updating local items with new likes data"),Z(Q=>Q.map(ae=>{if(ae.type==="review"&&ae._id===F){const Ne=Array.isArray(ie.likes)?ie.likes.map(ge=>typeof ge=="object"&&ge!==null?{...ge}:ge):[];return{...ae,likes:Ne}}return ae})));try{typeof an=="function"&&await an()}catch(Q){console.error("Failed to refresh activities after review like:",Q)}}catch(ie){console.error("CombinedFeed: Review like error:",ie),On({title:"Error",description:"Failed to like review. Please try again.",type:"error"})}finally{E(ie=>({...ie,reviewLikes:{...ie.reviewLikes,[F]:!1}}))}},U=async F=>{try{await v(F),Z(ie=>ie.filter(Q=>!(Q.type==="review"&&Q._id===F)));try{typeof an=="function"&&await an()}catch(ie){console.error("Failed to refresh activities after review delete:",ie)}}catch(ie){console.error("Review delete error:",ie),On({title:"Error",description:"Failed to delete review. Please try again.",type:"error"})}},Y=F=>{try{console.log("CombinedFeed: Editing review:",F==null?void 0:F._id),A(F)}catch(ie){console.error("Review edit error:",ie),On({title:"Error",description:"Failed to edit review. Please try again.",type:"error"})}},K=async F=>{try{console.log("CombinedFeed handling review comment:",F==null?void 0:F._id),Z(Q=>Q.map(ae=>{if(ae.type==="review"&&ae._id===F._id){const Ne=F.comments?F.comments.map(ge=>{try{let H=ge.media;return H&&(H={...H,processedUrl:Fn(H,"comment")}),{...ge,media:H}}catch(H){return console.error("Error processing comment media:",H),ge}}):[];return{...ae,...F,type:"review",sortDate:ae.sortDate,comments:Ne}}return ae}));const ie=await _(F);try{typeof an=="function"&&await an()}catch(Q){console.error("Failed to refresh activities after comment:",Q)}return ie}catch(ie){throw console.error("Review comment error in CombinedFeed:",ie),On({title:"Error",description:"Failed to add comment. Please try again.",type:"error"}),ie}},ee=async F=>{if(!l){On({title:"Login Required",description:"You need to be logged in to like content.",type:"warning"});return}if(!I.newsLikes[F])try{E(ie=>({...ie,newsLikes:{...ie.newsLikes,[F]:!0}})),await x(F),Z(ie=>ie.map(Q=>{if(Q.type==="news"&&Q._id===F){let ae=Array.isArray(Q.likes)?[...Q.likes]:[];const Ne=ae.findIndex(ge=>typeof ge=="object"&&ge!==null?ge._id===l._id:ge===l._id);return Ne>=0?ae.splice(Ne,1):ae.push(l._id),{...Q,likes:ae}}return Q}));try{typeof an=="function"&&await an()}catch(ie){console.error("Failed to refresh activities after news like:",ie)}}catch(ie){console.error("News like error:",ie),On({title:"Error",description:"Failed to like news. Please try again.",type:"error"})}finally{E(ie=>({...ie,newsLikes:{...ie.newsLikes,[F]:!1}}))}},q=async(F,ie)=>{if(!l){On({title:"Login Required",description:"You need to be logged in to vote in polls.",type:"warning"});return}if(!I.pollVotes[`${F}-${ie}`])try{E(ue=>({...ue,pollVotes:{...ue.pollVotes,[`${F}-${ie}`]:!0}})),console.log("CombinedFeed: Submitting direct poll vote:",F,ie);const Q=localStorage.getItem("token");if(!Q)throw new Error("Not authenticated");const ae=await fetch(`${Te.API_URL}/news/${F}/poll/vote`,{method:"POST",headers:{Authorization:`Bearer ${Q}`,"Content-Type":"application/json"},body:JSON.stringify({optionIndex:ie})});if(!ae.ok)throw new Error(`Failed to vote: ${ae.status}`);const Ne=await ae.json();console.log("CombinedFeed: Direct vote successful, response:",Ne);const ge=Ne.poll||Ne;if(!ge)throw new Error("No poll data in response");Z(ue=>JSON.parse(JSON.stringify(ue)).map(ye=>ye.type==="news"&&ye._id===F?(console.log("CombinedFeed: Updating news item with new poll data"),{...ye,poll:ge}):ye));try{await h(F,ie)}catch(ue){console.warn("CombinedFeed: Callback error (non-critical):",ue)}setTimeout(()=>{console.log("CombinedFeed: Triggering refresh after poll vote"),S()},500);const H=new CustomEvent("content-updated",{detail:{type:"poll-vote",newsId:F,optionIndex:ie}});return window.dispatchEvent(H),Ne}catch(Q){console.error("CombinedFeed: Poll vote error:",Q),On({title:"Error",description:"Failed to submit vote: "+(Q.message||"Unknown error"),type:"error"})}finally{E(Q=>({...Q,pollVotes:{...Q.pollVotes,[`${F}-${ie}`]:!1}}))}},R=()=>{console.log("CombinedFeed: Triggering content refresh"),S()};return J?p("div",{className:"bg-red-50 border border-red-200 text-red-600 p-4 rounded-md mb-4",children:[p("div",{className:"flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),o("p",{children:J})]}),o("button",{onClick:R,className:"mt-2 px-3 py-1 bg-red-100 text-red-800 rounded-md text-sm hover:bg-red-200",children:"Try again"})]}):j.length===0&&(!Array.isArray(n)||!Array.isArray(c)||n.length===0&&c.length===0)?o("div",{className:"text-center py-8 text-muted-foreground",children:o("p",{children:"No content available."})}):p("div",{className:"space-y-4",children:[we.length>0&&o($g,{items:we,currentUser:l,onReviewLike:fe,onNewsLike:ee,onVotePoll:q,onReviewComment:K,onReviewDelete:U,onReviewEdit:Y,onRefreshContent:R}),xe.map(F=>!F||!F._id?(console.error("Invalid item in feed:",F),null):F.type==="news"?o(N0,{item:F,currentUser:l,onLike:ee,onVotePoll:ie=>q(F._id,ie),onRefreshContent:R},`news-${F._id}`):o(M0,{review:F,currentUser:l,onLike:()=>fe(F._id),onDelete:()=>U(F._id),onEdit:()=>Y(F),onComment:K,isInFeed:!0,isLiking:I.reviewLikes[F._id],onRefreshContent:R},`review-${F._id}`))]})};$g.propTypes={items:se.arrayOf(se.shape({_id:se.string.isRequired,type:se.oneOf(["news","review"]).isRequired})).isRequired,currentUser:se.object,onReviewLike:se.func,onNewsLike:se.func,onVotePoll:se.func,onReviewComment:se.func,onReviewDelete:se.func,onReviewEdit:se.func,onRefreshContent:se.func};Hg.propTypes={reviews:se.arrayOf(se.shape({_id:se.string.isRequired,userId:se.string.isRequired,userDisplayName:se.string.isRequired,userImage:se.string,title:se.string,introSummary:se.string,beefery:se.string.isRequired,location:se.string,rating:se.number.isRequired,date:se.string.isRequired,introComments:se.string,closingSummary:se.string,media:se.oneOfType([se.string,se.shape({original:se.string,type:se.string})]),likes:se.arrayOf(se.oneOfType([se.string,se.shape({_id:se.string.isRequired,displayName:se.string,username:se.string,profileImage:se.string})])),comments:se.arrayOf(se.shape({_id:se.string.isRequired,text:se.string,userId:se.string.isRequired,userDisplayName:se.string.isRequired,date:se.string.isRequired}))})),news:se.arrayOf(se.shape({_id:se.string.isRequired,title:se.string.isRequired,content:se.string.isRequired,date:se.string.isRequired,imageUrl:se.string,author:se.shape({userId:se.oneOfType([se.string,se.object]),displayName:se.string,profileImage:se.string,role:se.string}),likes:se.arrayOf(se.string)})),currentUser:se.shape({_id:se.string.isRequired,displayName:se.string.isRequired,profileImage:se.string,role:se.string}),onReviewLike:se.func,onNewsLike:se.func,onVotePoll:se.func,onReviewDelete:se.func,onReviewComment:se.func,onCommentLike:se.func,onRefreshContent:se.func,onReviewEdit:se.func};const mx=({onRefresh:n,isRefreshing:c,pullDownThreshold:l=80,maxPullDownDistance:g=120,children:x,refreshIndicatorClassName:h=""})=>{const[v,_]=b.useState(0),[k,S]=b.useState(!1),A=b.useRef(null),I=b.useRef(0),E=b.useRef(0),j=b.useRef(!1),Z=()=>A.current?window.scrollY<=5:!1,J=fe=>{const U=fe.touches[0];I.current=U.clientY,j.current=Z(),S(!0)},$=fe=>{const U=fe.touches[0];if(E.current=U.clientY,!j.current)return;const Y=U.clientY-I.current;if(Y>0){const K=Math.min(g,Y*.5);_(K),K>10&&fe.preventDefault()}},V=()=>{v>l&&!c&&n(),_(0),S(!1)};b.useEffect(()=>{const fe=()=>{j.current=Z()};return window.addEventListener("scroll",fe),()=>window.removeEventListener("scroll",fe)},[]);const re=Math.min(100,v/l*100),we=Math.min(1,v/(l*.8)),xe=Math.min(180,v/l*180);return p("div",{ref:A,className:"pull-to-refresh-container",onTouchStart:J,onTouchMove:$,onTouchEnd:V,style:{position:"relative"},children:[o("div",{className:"pull-indicator flex items-center justify-center",style:{height:`${v}px`,opacity:we,overflow:"hidden",transition:k?"none":"height 0.2s ease-out",marginBottom:v>0?"8px":"0"},children:p("div",{className:`refresh-indicator-content ${h}`,style:{transform:`translateY(${v-40<0?v-40:0}px)`},children:[c?o("div",{className:"animate-spin h-6 w-6 border-2 border-primary border-t-transparent rounded-full"}):o(dp,{className:"h-6 w-6 transition-transform",style:{transform:`rotate(${xe}deg)`,color:re>=100?"var(--color-primary)":"currentColor"}}),o("span",{className:"ml-2 text-sm",children:c?"Refreshing...":re>=100?"Release to refresh":"Pull to refresh"})]})}),o("div",{className:"pull-to-refresh-content",children:x})]})},Ln=window.REVIEW_CACHE=window.REVIEW_CACHE||{reviews:[],news:[],lastUpdated:0};let px=class extends Gr.Component{constructor(c){super(c),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,l){console.error("Feed error:",c,l),this.setState({errorInfo:l})}render(){return this.state.hasError?p(lt,{className:"p-4 text-center",children:[o("h3",{className:"text-red-500 font-bold mb-2",children:"Something went wrong loading the feed"}),o("p",{className:"text-sm text-gray-600 mb-4",children:this.state.error?this.state.error.toString():"Unknown error"}),o("button",{onClick:()=>this.setState({hasError:!1}),className:"px-4 py-2 bg-primary text-white rounded-lg",children:"Try Again"})]}):this.props.children}};const sp=({reviews:n=[],currentUser:c,onReviewAdded:l})=>{const[g,x]=b.useState(!1),[h,v]=b.useState(null),[_,k]=b.useState([]),[S,A]=b.useState([]),[I,E]=b.useState(!0),[j,Z]=b.useState(null),[J,$]=b.useState([]),[V,re]=b.useState(!1),we=b.useRef(!1),xe=b.useRef(!1),fe=de=>{v(de),x(!0)};b.useEffect(()=>{if(console.log("RecentsScreen initializing...",{reviewsCount:(n==null?void 0:n.length)||0,hasUser:!!c,globalCacheSize:Ln.reviews.length,cacheAge:Date.now()-Ln.lastUpdated}),xe.current){console.log("RecentsScreen already attempted initialization, skipping");return}xe.current=!0;try{if(Date.now()-Ln.lastUpdated<3e5&&Ln.reviews.length>0)console.log("Using global review cache with",Ln.reviews.length,"reviews"),$(Ln.reviews),Ln.news.length>0?(console.log("Using cached news with",Ln.news.length,"items"),k(Ln.news)):Y().catch(te=>console.warn("News fetch error (non-critical):",te)),E(!1);else if(n.length>0){const te=U([...n]);$(te),Ln.reviews=te,Ln.lastUpdated=Date.now(),console.log("Updated global review cache with",te.length,"reviews from props"),Y().catch(oe=>console.warn("News fetch error (non-critical):",oe)),E(!1)}else ee().catch(te=>{console.error("Reviews fetch error:",te),Z("Failed to load reviews. Please try again."),E(!1)});K().catch(te=>console.warn("POIs fetch error (non-critical):",te))}catch(de){console.error("RecentsScreen initialization error:",de),Z("An error occurred while initializing the screen. Please try again."),E(!1)}return()=>{if(console.log("RecentsScreen unmounting, needsRefresh:",we.current),we.current&&l)try{l()}catch(de){console.error("Error during onReviewAdded callback:",de)}}},[]);const U=de=>{if(!Array.isArray(de))return console.error("Invalid reviews array:",de),[];try{return[...de].sort((te,oe)=>(te.featured||te.pinned&&te.pinned.isPinned)&&!(oe.featured||oe.pinned&&oe.pinned.isPinned)?-1:!(te.featured||te.pinned&&te.pinned.isPinned)&&(oe.featured||oe.pinned&&oe.pinned.isPinned)?1:new Date(oe.date)-new Date(te.date))}catch(te){return console.error("Error sorting reviews:",te),de}};b.useEffect(()=>{console.log("Setting up auto-refresh mechanism with deletion support");const de=oe=>{console.log("Received refresh event:",oe),oe.detail&&oe.detail.type==="news-deleted"?(console.log("Handling news deletion event for ID:",oe.detail.id),setLocalItems(z=>Array.isArray(z)?z.filter(ce=>!(ce.type==="news"&&ce._id===oe.detail.id)):[]),k(z=>Array.isArray(z)?z.filter(ce=>ce._id!==oe.detail.id):[])):oe.detail&&oe.detail.type==="review-featured"?(console.log("Handling review featured event for ID:",oe.detail.reviewId),$(z=>Array.isArray(z)?z.map(ce=>ce._id===oe.detail.reviewId?{...ce,featured:oe.detail.featured,pinned:oe.detail.featured?{isPinned:!0,label:"Featured Review",pinnedAt:new Date}:null}:ce):[])):oe.detail&&(oe.detail.type==="poll-ended"||oe.detail.type==="poll-vote")?(console.log("Poll update detected, refreshing news"),Y().catch(z=>console.warn("Refresh news error:",z))):(console.log("General content update, refreshing all data"),ee().catch(z=>console.warn("Refresh reviews error:",z)),Y().catch(z=>console.warn("Refresh news error:",z)))};window.addEventListener("content-updated",de);const te=setInterval(()=>{console.log("Auto-refresh interval triggered"),Y().then(()=>console.log("News refreshed by interval")).catch(oe=>console.warn("Auto-refresh news error:",oe))},3e4);return()=>{window.removeEventListener("content-updated",de),clearInterval(te)}},[]),b.useEffect(()=>{try{if(n.length>0&&!oi.isEqual(n,J)){console.log("Reviews prop changed, updating local state");const de=U([...n]);$(de),Ln.reviews=de,Ln.lastUpdated=Date.now()}}catch(de){console.error("Error updating from props:",de)}},[n]);const Y=async()=>{var de;try{const te=await Zo.getNews(),oe=(c==null?void 0:c.role)==="admin"?te.news:(de=te.news)==null?void 0:de.filter(z=>z.visible);return k(oe||[]),Ln.news=oe||[],oe}catch(te){throw console.error("Failed to fetch news:",te),Z("Failed to load news."),te}finally{E(!1)}},K=async()=>{try{const de=await fetch(`${Te.API_URL}/admin/pois`);if(!de.ok)throw new Error("Failed to fetch POIs");const te=await de.json();return A(te.pois),te.pois}catch(de){return console.error("Failed to fetch POIs:",de),[]}},ee=async()=>{try{E(!0),console.log("Fetching reviews...");const de=await fo.getReviews();if(de&&de.reviews){const te=de.reviews.map(z=>z.featured&&(!z.pinned||typeof z.pinned=="object"&&!z.pinned.isPinned)?{...z,pinned:{isPinned:!0,label:"Featured Review",pinnedAt:new Date(z.date)}}:z),oe=U(te);return $(oe),Ln.reviews=oe,Ln.lastUpdated=Date.now(),console.log("Updated global review cache with",oe.length,"reviews from API"),Y().catch(z=>console.warn("News fetch error (non-critical):",z)),oe}else throw new Error("Invalid response format")}catch(de){throw console.error("Failed to fetch reviews:",de),Z("Failed to load reviews."),de}finally{E(!1)}},q=async de=>{try{const te=await fo.addReview(de);if(te){$(z=>{const ce=[te,...z],be=U(ce);return Ln.reviews=be,Ln.lastUpdated=Date.now(),be}),we.current=!0;try{const z={id:te._id,beefery:te.beefery,timestamp:Date.now()};localStorage.setItem("lastAddedReview",JSON.stringify(z))}catch(z){console.warn("Failed to save lastAddedReview to localStorage:",z)}const oe=new CustomEvent("content-updated",{detail:{type:"review-added",reviewId:te._id,beefery:te.beefery,location:te.location,coordinates:te.coordinates,rating:te.rating,timestamp:Date.now()}});if(console.log("RecentsScreen: Dispatching review-added event for",te.beefery),window.dispatchEvent(oe),l)try{l()}catch(z){console.error("Error in onReviewAdded callback:",z)}}return te}catch(te){throw console.error("Add review error:",te),te}},R=async(de,te)=>{try{console.log("Liking comment:",te,"in review:",de);const oe=localStorage.getItem("token");if(!oe)throw new Error("Not authenticated");const z=await fetch(`${Te.API_URL}/reviews/${de}/comments/${te}/like`,{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"}});if(!z.ok)throw new Error("Failed to like comment");const ce=await z.json();return console.log("Received updated review after comment like"),$(be=>{try{const he=be.map(ze=>{if(ze._id===de){const He=ce.comments.map(nt=>({...nt,likes:Array.isArray(nt.likes)?nt.likes.map(De=>typeof De=="object"&&De!==null?{...De}:De):[]}));return{...ze,comments:He}}return ze});return Ln.reviews=he,Ln.lastUpdated=Date.now(),he}catch(he){return console.error("Error updating state after comment like:",he),be}}),we.current=!0,ie(),ce}catch(oe){throw console.error("Comment like error:",oe),oe}},F=async de=>{var te;try{console.log("Liking review:",de);const oe=await fo.likeReview(de);return console.log("Review like API response:",oe._id,"likes:",(te=oe.likes)==null?void 0:te.length),oe&&($(z=>{try{const ce=z.map(be=>{if(be._id===de){const he=Array.isArray(oe.likes)?oe.likes.map(ze=>typeof ze=="object"&&ze!==null?{...ze}:ze):[];return console.log("Updating review with",he.length,"likes"),{...be,likes:he}}return be});return Ln.reviews=ce,Ln.lastUpdated=Date.now(),ce}catch(ce){return console.error("Error updating state after review like:",ce),z}}),we.current=!0,ie()),oe}catch(oe){throw console.error("Like review error:",oe),oe}},ie=oi.debounce(()=>{if(console.log("Triggering debounced review update"),l)try{l()}catch(de){console.error("Error in debounced review updater:",de)}},1e3),Q=async de=>{try{if(!de||!de._id)throw console.error("Invalid updatedReview object:",de),new Error("Invalid review update received");return console.log("Handling review comment update for review:",de._id),$(te=>{try{const oe=te.findIndex(be=>be._id===de._id);if(oe===-1)return console.warn("Review not found in local state:",de._id),te;const z=[...te],ce=de.comments.map(be=>({...be,likes:Array.isArray(be.likes)?be.likes.map(he=>typeof he=="object"&&he!==null?{...he}:he):[]}));return z[oe]={...te[oe],comments:ce},Ln.reviews=z,Ln.lastUpdated=Date.now(),z}catch(oe){return console.error("Error updating state after comment:",oe),te}}),we.current=!0,ie(),de}catch(te){throw console.error("Review comment error:",te),te}},ae=async de=>{if(c)try{console.log("Liking news item:",de),await Zo.likeNews(de),k(oe=>{try{const z=oe.map(ce=>{var be;if(ce._id===de){const he=(be=ce.likes)==null?void 0:be.includes(c._id);return{...ce,likes:he?ce.likes.filter(ze=>ze!==c._id):[...ce.likes||[],c._id]}}return ce});return Ln.news=z,z}catch(z){return console.error("Error updating state after news like:",z),oe}}),we.current=!0;const te=new CustomEvent("content-updated",{detail:{type:"news-like",newsId:de}});window.dispatchEvent(te)}catch(te){console.error("Like news error:",te)}},Ne=async de=>{try{console.log("Deleting review:",de);const te=localStorage.getItem("token");if(!te)throw new Error("No authentication token found");const oe=await fetch(`${Te.API_URL}/reviews/${de}`,{method:"DELETE",headers:{Authorization:`Bearer ${te}`,"Content-Type":"application/json"}});if(!oe.ok){const z=await oe.json();throw new Error(z.message||`Failed to delete review: ${oe.status}`)}$(z=>{try{const ce=z.filter(be=>be._id!==de);return Ln.reviews=ce,Ln.lastUpdated=Date.now(),ce}catch(ce){return console.error("Error updating state after review delete:",ce),z}}),we.current=!0,ie()}catch(te){throw console.error("Delete review error:",te),te}},ge=async()=>{console.log("Refreshing content..."),re(!0);try{we.current=!0,await ee(),await Y()}catch(de){console.error("Content refresh error:",de),Z("Failed to refresh content. Please try again.")}finally{re(!1)}},H=async()=>(console.log("Pull to refresh triggered"),ge()),ue=async(de,te)=>{if(c)try{console.log(`RecentsScreen: Voting on poll ${de}, option ${te}`);const oe=localStorage.getItem("token");if(!oe)throw new Error("Not authenticated");const z=await fetch(`${Te.API_URL}/news/${de}/poll/vote`,{method:"POST",headers:{Authorization:`Bearer ${oe}`,"Content-Type":"application/json"},body:JSON.stringify({optionIndex:te})});if(!z.ok)throw new Error(`Failed to vote: ${z.status}`);const ce=await z.json();console.log("RecentsScreen: Vote successful, response:",ce),k(he=>he.map(ze=>ze._id===de&&ce.poll?{...ze,poll:ce.poll}:ze));const be=new CustomEvent("content-updated",{detail:{type:"poll-vote",newsId:de,optionIndex:te}});return window.dispatchEvent(be),Y(),ce}catch(oe){throw console.error("RecentsScreen: Poll vote error:",oe),oe}},W=async de=>{try{if(!h||!h._id)throw new Error("Invalid review data for update");E(!0),Z("");const te=h._id,oe=localStorage.getItem("token");if(!oe)throw new Error("Not authenticated");const z=await fetch(`${Te.API_URL}/reviews/${te}`,{method:"PUT",headers:{Authorization:`Bearer ${oe}`},body:de});if(!z.ok){const he=await z.json();throw new Error(he.message||"Failed to update review")}const ce=await z.json();console.log("Review updated successfully:",ce._id),ce.featured&&(!ce.pinned||!ce.pinned.isPinned)&&(ce.pinned={isPinned:!0,label:"Featured Review",pinnedAt:new Date}),$(he=>he.map(ze=>ze._id===te?ce:ze)),typeof fo.clearCache=="function"&&fo.clearCache();const be=new CustomEvent("content-updated",{detail:{type:"review-updated",reviewId:te,timestamp:Date.now()}});return window.dispatchEvent(be),x(!1),v(null),typeof showNotification=="function"?showNotification("success","Review updated successfully"):alert("Review updated successfully"),ce}catch(te){throw console.error("Review update error:",te),Z(te.message||"Failed to update review"),te}finally{E(!1)}},B=()=>o(lt,{className:"p-8 text-center",children:p("div",{className:"flex flex-col items-center gap-4",children:[o("div",{className:"w-16 h-16 bg-secondary rounded-full flex items-center justify-center",children:o(xp,{className:"w-8 h-8 text-foreground"})}),o("h3",{className:"text-xl font-semibold text-foreground",children:"No Content Yet"}),o("p",{className:"text-muted-foreground max-w-sm",children:"Be the first to share content! Review a North Shore beef or wait for the latest news."}),c&&p("button",{onClick:()=>x(!0),className:"mt-4 px-6 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-2",children:[o(Bs,{className:"w-5 h-5"}),"Add First Review"]})]})}),ye=J.length>0||_.length>0;return p("div",{className:"py-6 space-y-6 pb-24",children:[ye&&c&&p("button",{onClick:()=>x(!0),className:"w-full p-4 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors flex items-center justify-center",children:[o(Bs,{className:"h-5 w-5 mr-2"}),"Add Review"]}),o(mx,{onRefresh:H,isRefreshing:V,pullDownThreshold:80,maxPullDownDistance:120,refreshIndicatorClassName:"flex items-center justify-center py-3 text-primary",children:o("div",{className:"space-y-4 pt-2",children:I?o("div",{className:"text-center py-8",children:"Loading content..."}):ye?o(px,{children:o(Hg,{reviews:J,news:_,currentUser:c,onReviewLike:F,onNewsLike:ae,onVotePoll:ue,onReviewDelete:Ne,onReviewComment:Q,onCommentLike:R,onRefreshContent:ge,onReviewEdit:fe})}):o(B,{})})}),g&&o(T2,{review:h,reviews:J,pois:S,onClose:()=>{x(!1),v(null)},onSubmit:h?W:q,currentUser:c,isEditing:!!h})]})},Jd=({review:n,onClose:c,currentUser:l,readOnly:g=!1,isAdmin:x=!1})=>{var we,xe;const[h,v]=b.useState(!1),[_,k]=b.useState(!1),[S,A]=b.useState(null),[I,E]=b.useState("normal");if(!n)return null;const j=fe=>new Date(fe).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),Z=fe=>{if(!fe)return null;try{return typeof fe=="string"?Fn(fe,"review"):fe.processedUrl?fe.processedUrl:(fe.url||fe.original,Fn(fe,"review"))}catch(U){return console.error("Error processing review media:",U),null}},J=()=>{v(!1)},$=()=>g||x||!l||l._id===n.userId?null:o("button",{onClick:()=>v(!0),className:"p-2 text-muted-foreground hover:bg-red-50 rounded-lg transition-colors",title:"Report Review",children:o(Of,{className:"h-5 w-5"})}),V=Z(n.media),re=n.media&&(typeof n.media=="object"&&n.media.type==="video"||typeof n.media=="string"&&Rf(n.media));return o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-3xl bg-card p-6 relative max-h-[90vh] overflow-y-auto",children:[o("button",{onClick:c,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-5 w-5 text-muted-foreground"})}),S&&p("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-lg flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),S]}),p("div",{className:"flex justify-between items-start mb-6",children:[o("h2",{className:"text-2xl font-bold text-foreground",children:"Review Details"}),o("div",{className:"flex space-x-2",children:$()})]}),p("div",{className:"mb-6",children:[p("div",{className:"flex justify-between items-center",children:[o("h3",{className:"text-xl font-bold text-foreground",children:n.beefery}),p("div",{className:"bg-primary text-white rounded-full px-3 py-1 flex items-center",children:[o("span",{className:"text-xl font-bold mr-1",children:n.rating.toFixed(1)}),o("svg",{className:"w-5 h-5 fill-current",viewBox:"0 0 24 24",children:o("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})})]})]}),n.location&&o("p",{className:"text-muted-foreground mt-1",children:n.location}),p("p",{className:"text-sm text-muted-foreground mt-2",children:["Reviewed on ",j(n.date)," by ",n.userDisplayName]})]}),V&&o("div",{className:"mb-6 relative group",children:I==="normal"?p("div",{className:"relative",children:[re?o("video",{src:V,controls:!0,className:"w-full h-auto rounded-lg object-contain max-h-96",onError:fe=>{console.error("Video load error:",fe),fe.target.style.display="none"}}):o("img",{src:V,alt:`${n.beefery} review`,className:"w-full h-auto rounded-lg object-contain max-h-96 cursor-pointer",onClick:()=>E("fullscreen"),onError:fe=>{console.error("Image load error:",fe),fe.target.style.display="none"}}),o("div",{className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",children:o("button",{onClick:()=>window.open(V,"_blank"),className:"p-2 bg-black/50 text-white rounded-full hover:bg-black/70",title:"Open in new tab",children:o(mu,{className:"h-4 w-4"})})}),!re&&o("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:o("div",{className:"bg-black/50 text-white px-3 py-1 rounded-lg text-sm",children:"Click to enlarge"})})]}):o("div",{className:"fixed inset-0 z-[200] bg-black flex items-center justify-center",onClick:()=>E("normal"),children:p("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o("button",{onClick:fe=>{fe.stopPropagation(),E("normal")},className:"absolute -top-12 right-0 p-2 bg-black/50 text-white rounded-full",children:o(Yt,{className:"h-6 w-6"})}),o("img",{src:V,alt:`${n.beefery} review (fullscreen)`,className:"max-w-full max-h-[90vh] object-contain",onClick:fe=>fe.stopPropagation()})]})})}),n.title&&o("div",{className:"mb-4",children:o("h4",{className:"text-xl font-semibold",children:n.title})}),n.introSummary&&o("div",{className:"mb-4 p-4 bg-secondary/20 rounded-lg",children:o("p",{className:"text-foreground font-medium",children:n.introSummary})}),n.introComments&&p("div",{className:"mb-6",children:[o("h4",{className:"text-lg font-semibold mb-2",children:"Review"}),o("p",{className:"text-foreground whitespace-pre-line",children:n.introComments})]}),p("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[n.timeOfBeefing&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Time of Beefing:"}),o("p",{className:"text-muted-foreground",children:n.timeOfBeefing})]}),n.timeInBag&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Time in Bag:"}),o("p",{className:"text-muted-foreground",children:n.timeInBag})]}),n.priceOfBeef&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Price:"}),o("p",{className:"text-muted-foreground",children:n.priceOfBeef})]}),n.freshPinkWarm&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Fresh, Pink & Warm:"}),o("p",{className:"text-muted-foreground",children:n.freshPinkWarm})]}),n.beefToBun&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Beef to Bun:"}),o("p",{className:"text-muted-foreground",children:n.beefToBun})]}),n.flavorOfBeef&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Flavor of Beef:"}),o("p",{className:"text-muted-foreground",children:n.flavorOfBeef})]}),n.sauceToMayo&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Sauce to Mayo:"}),o("p",{className:"text-muted-foreground",children:n.sauceToMayo})]}),n.cheesePosition&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Cheese Position:"}),o("p",{className:"text-muted-foreground",children:n.cheesePosition})]}),n.nicelyGriddledBun&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Nicely Griddled Bun:"}),o("p",{className:"text-muted-foreground",children:n.nicelyGriddledBun})]}),n.napkinCount!==void 0&&p("div",{children:[o("p",{className:"text-sm font-semibold text-slate-700",children:"Napkin Count:"}),o("p",{className:"text-muted-foreground",children:n.napkinCount})]}),n.dayOldBeef&&o("div",{className:"col-span-2",children:o("p",{className:"text-sm font-semibold text-red-600",children:"Day Old Beef"})})]}),n.closingSummary&&o("div",{className:"mb-6 p-4 bg-primary/10 border-l-4 border-primary rounded-r-lg",children:o("p",{className:"text-foreground font-medium",children:n.closingSummary})}),p("div",{className:"border-t pt-4 flex items-center space-x-4",children:[p("button",{onClick:()=>k(!0),className:"flex items-center hover:text-primary transition-colors",children:[o(sa,{className:"h-5 w-5 mr-2 text-muted-foreground"}),p("span",{children:[((we=n.likes)==null?void 0:we.length)||0," likes"]})]}),p("div",{className:"flex items-center",children:[o("svg",{className:"w-5 h-5 mr-2 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:o("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),p("span",{children:[((xe=n.comments)==null?void 0:xe.length)||0," comments"]})]})]}),h&&o(_0,{contentType:"review",contentId:n._id,onClose:()=>v(!1),onReportSubmitted:J}),_&&o(Qf,{likes:n.likes||[],onClose:()=>k(!1),title:"Review Likes"})]})})},gx=({reviews:n=[],currentUser:c})=>{const[l,g]=b.useState(null),[x,h]=b.useState(!1),[v,_]=b.useState({startDate:K(),endDate:new Date().toISOString().split("T")[0]}),[k,S]=b.useState("all-time"),[A,I]=b.useState(!1),[E,j]=b.useState(1),[Z,J]=b.useState(!1),[$,V]=b.useState(!0),[re,we]=b.useState(null),[xe,fe]=b.useState([]),[U,Y]=b.useState([]);function K(){const Q=new Date;return Q.setFullYear(Q.getFullYear()-5),Q.toISOString().split("T")[0]}b.useEffect(()=>{const Q=async()=>{try{if(V(!0),we(null),Array.isArray(n)&&n.length>0)console.log("TopScreen: Using reviews from props:",n.length),fe(n);else{console.log("TopScreen: Fetching reviews via service");const W=await fo.getReviews({forceRefresh:!0});if(W&&W.reviews&&Array.isArray(W.reviews))console.log("TopScreen: Fetched",W.reviews.length,"reviews via service"),fe(W.reviews),sessionStorage.setItem("topscreen-last-update",Date.now().toString());else throw new Error("No reviews available")}}catch(W){console.error("TopScreen: Error fetching reviews:",W),we("Failed to load reviews data")}finally{V(!1)}};Q();const ae=()=>Q(),Ne=()=>Q(),ge=W=>{W.key&&(W.key==="reviewCount"||W.key==="reviewTimestamp"||W.key==="lastAddedReview")&&(console.log("TopScreen: Detected review-related localStorage change:",W.key),Q())},H=()=>{const W=parseInt(sessionStorage.getItem("topscreen-last-update")||"0");Date.now()-W>3e4&&(console.log("TopScreen: Window focused, checking for updates"),Q())},ue=setInterval(()=>{const W=parseInt(sessionStorage.getItem("topscreen-last-update")||"0");Date.now()-W>3e4&&(console.log("TopScreen: Polling for updates"),Q())},45e3);return window.addEventListener("content-updated",ae),window.addEventListener("review-added",Ne),window.addEventListener("storage",ge),window.addEventListener("focus",H),()=>{window.removeEventListener("content-updated",ae),window.removeEventListener("review-added",Ne),window.removeEventListener("storage",ge),window.removeEventListener("focus",H),clearInterval(ue)}},[n]),b.useEffect(()=>{try{if(console.log("TopScreen: Processing",xe.length,"reviews"),xe.length>0){const B=xe[0];console.log("TopScreen: First review properties:",Object.keys(B));const ye=Object.keys(B).filter(de=>de.toLowerCase().includes("beef"));console.log("TopScreen: Beefery-related properties:",ye),ye.length>0&&ye.forEach(de=>{console.log(`  ${de} value:`,B[de])})}const Q=[];xe.forEach((B,ye)=>{try{let de=!1,te="";if(!B.date)de=!0,te="no date";else{const oe=new Date(B.date);if(isNaN(oe.getTime()))de=!0,te="invalid date";else{const z=new Date(v.startDate),ce=new Date(v.endDate);ce.setHours(23,59,59,999),de=oe>=z&&oe<=ce,te=de?"date in range":`date outside range (${oe.toISOString()})`}}console.log(`TopScreen: Review ${ye} inclusion:`,de,te),de&&Q.push(B)}catch(de){console.error("TopScreen: Error checking review:",de,B),Q.push(B)}});const ae=Q.length>0?Q:xe;console.log(`TopScreen: Date filtering results: ${ae.length}/${xe.length} reviews included`),ae.length===0&&xe.length>0&&console.warn("TopScreen: CRITICAL - All reviews were filtered out! Using emergency override."),console.log("TopScreen: Processing groupBy on filtered reviews:",ae),ae.length>0&&console.log("TopScreen: Sample review object:",JSON.stringify(ae[0]));const Ne=B=>{console.log("TopScreen: Finding beefery property in review with keys:",Object.keys(B));const ye=["beefery","Beefery","BeeferyName","beeferyName","name"];for(const te of ye)if(te in B&&B[te])return console.log(`TopScreen: Found beefery property "${te}" with value "${B[te]}"`),te;const de=Object.keys(B).filter(te=>te.toLowerCase().includes("beef"));return de.length>0?(console.log(`TopScreen: Found beefery-like property "${de[0]}" with value "${B[de[0]]}"`),de[0]):"title"in B?"title":"storeName"in B?"storeName":"restaurant"in B?"restaurant":"location"in B?"location":(console.warn("TopScreen: Could not find beefery property! Using raw review:",B),"beefery")};let ge={};if(ae.length>0){const B=Ne(ae[0]);console.log("TopScreen: Using beefery property:",B),ae.forEach(ye=>{let de=ye[B];if(!de){for(const te of Object.keys(ye))if(typeof ye[te]=="string"&&ye[te].length>0){de=ye[te],console.log(`TopScreen: Using alternate property "${te}" with value "${de}" as beefery name`);break}}de=de||"Unknown Beefery",ge[de]||(ge[de]=[]),ge[de].push(ye)})}else console.log("TopScreen: No filtered reviews to group");console.log("TopScreen: Grouped reviews:",Object.keys(ge).length,"groups"),Object.keys(ge).forEach(B=>{var ye;console.log(`  Group "${B}": ${((ye=ge[B])==null?void 0:ye.length)||0} reviews`)});const H=Object.entries(ge).map(([B,ye])=>{if(!B)return null;Array.isArray(ye)||(console.warn("TopScreen: Non-array beeferyReviews for",B),ye=[]);try{const de=Qh.meanBy(ye,be=>{const he=parseFloat(be.rating);return isNaN(he)?0:he}),te=ye.length,oe=Qh.maxBy(ye,"date");let z={...oe};if(oe&&oe.media)try{if(typeof oe.media=="string")z.media={original:oe.media,type:Rf(oe.media)?"video":"image",url:oe.media,processedUrl:Fn(oe.media,"review")};else{const be=Fn(oe.media,"review");z.media={...oe.media,processedUrl:be}}}catch(be){console.error("TopScreen: Error processing review media:",be),z.media={...oe.media,processedUrl:null}}const ce=z.location;return{beefery:B,avgRating:de,reviewCount:te,latestReview:z,location:ce}}catch(de){return console.error("TopScreen: Error processing beefery stats for",B,de),null}}).filter(Boolean).filter(B=>B.reviewCount>=E),ue=H.filter(Boolean).filter(B=>B.reviewCount>=E).filter(B=>B.beefery&&B.beefery!=="undefined"&&B.beefery!=="Unknown");console.log("TopScreen: Beefery stats before filtering:",H.length),console.log("TopScreen: Beefery stats after filtering:",ue.length),H.length!==ue.length&&console.log("TopScreen: Filtered out beeferies:",H.filter(B=>!ue.includes(B)));const W=Qh.orderBy(ue,["avgRating"],["desc"]);Y(W),console.log("TopScreen: Displaying",W.length,"sorted beeferies")}catch(Q){console.error("TopScreen: Error calculating beefery stats:",Q),we("Error processing review data")}},[xe,v.startDate,v.endDate,E]);const ee=Q=>{const ae=new Date().toISOString().split("T")[0];let Ne;const ge=new Date;switch(Q){case"3days":const H=new Date(ge);H.setDate(ge.getDate()-3),Ne=H.toISOString().split("T")[0];break;case"week":const ue=new Date(ge);ue.setDate(ge.getDate()-7),Ne=ue.toISOString().split("T")[0];break;case"month":const W=new Date(ge);W.setMonth(ge.getMonth()-1),Ne=W.toISOString().split("T")[0];break;case"3months":const B=new Date(ge);B.setMonth(ge.getMonth()-3),Ne=B.toISOString().split("T")[0];break;case"6months":const ye=new Date(ge);ye.setMonth(ge.getMonth()-6),Ne=ye.toISOString().split("T")[0];break;case"year":const de=new Date(ge);de.setFullYear(ge.getFullYear()-1),Ne=de.toISOString().split("T")[0];break;case"all-time":default:if(xe&&xe.length)try{const te=xe.filter(oe=>oe.date).map(oe=>new Date(oe.date));if(te.length>0)Ne=new Date(Math.min(...te)).toISOString().split("T")[0];else{const oe=new Date(ge);oe.setFullYear(ge.getFullYear()-10),Ne=oe.toISOString().split("T")[0]}}catch(te){console.error("Error determining earliest date:",te);const oe=new Date(ge);oe.setFullYear(ge.getFullYear()-10),Ne=oe.toISOString().split("T")[0]}else{const te=new Date(ge);te.setFullYear(ge.getFullYear()-10),Ne=te.toISOString().split("T")[0]}break}_({startDate:Ne,endDate:ae}),S(Q),I(!1)},q=Q=>{const{name:ae,value:Ne}=Q.target;_(ge=>({...ge,[ae]:Ne})),S("custom")},R=()=>{switch(k){case"3days":return"Last 3 Days";case"week":return"Last Week";case"month":return"Last Month";case"3months":return"Last 3 Months";case"6months":return"Last 6 Months";case"year":return"Last Year";case"all-time":return"All Time";case"custom":return"Custom Range";default:return"All Time"}},F=Q=>{j(Q),J(!1)},ie=Q=>{g(Q)};return b.useEffect(()=>{const Q=ae=>{!ae.target.closest(".date-range-dropdown")&&!ae.target.closest(".date-picker-button")&&I(!1),!ae.target.closest(".date-picker")&&!ae.target.closest(".toggle-date-picker")&&h(!1),!ae.target.closest(".min-reviews-dropdown")&&!ae.target.closest(".min-reviews-button")&&J(!1)};return document.addEventListener("mousedown",Q),()=>{document.removeEventListener("mousedown",Q)}},[]),p("div",{className:"space-y-6",children:[o(lt,{className:"bg-gradient-to-r from-primary to-primary/80 text-white",children:p("div",{className:"p-6",children:[p("div",{className:"flex items-center justify-between mb-4",children:[p("div",{className:"flex items-center space-x-3",children:[o(El,{className:"h-8 w-8"}),p("div",{children:[o("h2",{className:"text-xl font-bold",children:"Top Rated Beeferies"}),o("p",{className:"text-sm opacity-90",children:"The highest rated beef spots"})]})]}),o(Bn,{className:"h-8 w-8"})]}),p("div",{className:"mt-4 flex flex-col md:flex-row md:items-center gap-2 md:gap-4",children:[p("div",{className:"relative",children:[p("button",{className:"bg-white/20 hover:bg-white/30 transition-colors py-2 px-4 rounded-lg flex items-center space-x-2 text-sm w-full md:w-auto date-picker-button",onClick:()=>I(!A),children:[o("span",{children:R()}),o(Os,{className:"h-4 w-4"})]}),A&&o("div",{className:"absolute z-10 mt-1 w-48 bg-white shadow-lg rounded-lg text-slate-800 date-range-dropdown",children:p("div",{className:"py-1",children:[o("button",{onClick:()=>ee("3days"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last 3 Days"}),o("button",{onClick:()=>ee("week"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last Week"}),o("button",{onClick:()=>ee("month"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last Month"}),o("button",{onClick:()=>ee("3months"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last 3 Months"}),o("button",{onClick:()=>ee("6months"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last 6 Months"}),o("button",{onClick:()=>ee("year"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last Year"}),o("button",{onClick:()=>ee("all-time"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"All Time"})]})})]}),p("div",{className:"flex items-center",children:[p("button",{className:"bg-white/20 hover:bg-white/30 transition-colors py-2 px-4 rounded-lg flex items-center space-x-2 text-sm toggle-date-picker",onClick:()=>h(!x),children:[o(Yo,{className:"h-4 w-4 mr-1"}),o("span",{children:"Custom Range"})]}),x&&o("div",{className:"absolute z-10 mt-32 bg-white shadow-lg rounded-lg p-4 text-slate-800 date-picker",children:p("div",{className:"space-y-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),o("input",{type:"date",name:"startDate",value:v.startDate,onChange:q,className:"w-full p-2 border border-slate-300 rounded-md"})]}),p("div",{children:[o("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),o("input",{type:"date",name:"endDate",value:v.endDate,onChange:q,max:new Date().toISOString().split("T")[0],className:"w-full p-2 border border-slate-300 rounded-md"})]}),o("button",{className:"w-full py-2 bg-primary text-white rounded-md hover:bg-primary/90",onClick:()=>h(!1),children:"Apply"})]})})]}),p("div",{className:"relative",children:[p("button",{className:"bg-white/20 hover:bg-white/30 transition-colors py-2 px-4 rounded-lg flex items-center space-x-2 text-sm min-reviews-button",onClick:()=>J(!Z),children:[p("span",{children:["Min Reviews: ",E]}),o(Os,{className:"h-4 w-4"})]}),Z&&o("div",{className:"absolute z-10 mt-1 w-48 bg-white shadow-lg rounded-lg text-slate-800 min-reviews-dropdown",children:p("div",{className:"py-1",children:[[1,2,3,5,10,15,20].map(Q=>p("button",{onClick:()=>F(Q),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:[Q," ",Q===1?"Review":"Reviews"]},Q)),p("div",{className:"px-4 py-2 flex items-center",children:[o("input",{type:"number",min:"1",value:E,onChange:Q=>j(Math.max(1,parseInt(Q.target.value)||1)),className:"w-16 p-1 border border-slate-300 rounded mr-2"}),o("button",{onClick:()=>J(!1),className:"bg-primary text-white text-xs px-2 py-1 rounded",children:"Apply"})]})]})})]}),o("div",{className:"ml-auto text-sm bg-white/20 py-2 px-4 rounded-lg",children:p("span",{children:[U.length," beeferies found"]})})]})]})}),$&&p(lt,{className:"p-6 text-center",children:[o("div",{className:"flex justify-center items-center py-8",children:o(Rt,{className:"h-8 w-8 animate-spin text-primary"})}),o("p",{className:"text-muted-foreground",children:"Loading beeferies..."})]}),re&&p(lt,{className:"p-6 text-center text-red-500",children:[o("p",{children:re}),o("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-white rounded-md hover:bg-primary/90",children:"Retry"})]}),!$&&!re&&o("div",{className:"space-y-4",children:U.length===0?o(lt,{className:"p-6 text-center text-slate-500",children:"No beeferies found for the selected date range"}):U.map((Q,ae)=>o(lt,{className:"hover:shadow-md transition-shadow",children:p("div",{className:"p-6 relative",children:[ae<3&&o("div",{className:"absolute -left-4 top-4 w-8 h-8 rounded-full bg-gradient-to-r from-yellow-400 to-orange-500 flex items-center justify-center text-white font-bold",children:ae+1}),p("div",{className:"flex justify-between items-start",children:[p("div",{className:"space-y-2",children:[o("h3",{className:"text-xl font-bold text-foreground",children:Q.beefery||Q.name||"Unknown Beefery"}),Q.location&&p("div",{className:"flex items-center text-muted-foreground",children:[o(Go,{className:"h-4 w-4 mr-1"}),o("span",{className:"text-sm",children:Q.location})]}),o("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:p("div",{children:[Q.reviewCount," ",Q.reviewCount===1?"review":"reviews"]})})]}),o("div",{className:"flex flex-col items-end",children:p("div",{className:"bg-primary text-white rounded-full px-3 py-1 flex items-center mb-2",children:[o("span",{className:"text-xl font-bold mr-1",children:typeof Q.avgRating=="number"?Q.avgRating.toFixed(1):parseFloat(Q.avgRating).toFixed(1)}),o(Bn,{className:"h-5 w-5 fill-current"})]})})]}),o("div",{className:"mt-4 flex justify-end",children:p("button",{onClick:()=>ie(Q.latestReview),className:"flex items-center text-primary hover:text-primary/90 transition-colors text-sm font-medium",children:["Latest Review",o(hp,{className:"h-4 w-4 ml-1"})]})})]})},`${Q.beefery}-${ae}`))}),l&&o(Jd,{review:l,onClose:()=>g(null),currentUser:c})]})};function wx(n,c){const l=b.useRef(c);b.useEffect(function(){c!==l.current&&n.attributionControl!=null&&(l.current!=null&&n.attributionControl.removeAttribution(l.current),c!=null&&n.attributionControl.addAttribution(c)),l.current=c},[n,c])}const yx=1;function vx(n){return Object.freeze({__version:yx,map:n})}function bx(n,c){return Object.freeze({...n,...c})}const Vg=b.createContext(null),qg=Vg.Provider;function Kg(){const n=b.useContext(Vg);if(n==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}function Lx(n){function c(l,g){const{instance:x,context:h}=n(l).current;return b.useImperativeHandle(g,()=>x),l.children==null?null:o(qg,{value:h,children:l.children})}return b.forwardRef(c)}function xx(n){function c(l,g){const{instance:x}=n(l).current;return b.useImperativeHandle(g,()=>x),null}return b.forwardRef(c)}function _x(n,c){const l=b.useRef();b.useEffect(function(){return c!=null&&n.instance.on(c),l.current=c,function(){l.current!=null&&n.instance.off(l.current),l.current=null}},[n,c])}function Xg(n,c){const l=n.pane??c.pane;return l?{...n,pane:l}:n}var Cd={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var Mx=Cd.exports,lp;function Nx(){return lp||(lp=1,function(n,c){(function(l,g){g(c)})(Mx,function(l){var g="1.9.4";function x(t){var a,u,w,C;for(u=1,w=arguments.length;u<w;u++){C=arguments[u];for(a in C)t[a]=C[a]}return t}var h=Object.create||function(){function t(){}return function(a){return t.prototype=a,new t}}();function v(t,a){var u=Array.prototype.slice;if(t.bind)return t.bind.apply(t,u.call(arguments,1));var w=u.call(arguments,2);return function(){return t.apply(a,w.length?w.concat(u.call(arguments)):arguments)}}var _=0;function k(t){return"_leaflet_id"in t||(t._leaflet_id=++_),t._leaflet_id}function S(t,a,u){var w,C,P,le;return le=function(){w=!1,C&&(P.apply(u,C),C=!1)},P=function(){w?C=arguments:(t.apply(u,arguments),setTimeout(le,a),w=!0)},P}function A(t,a,u){var w=a[1],C=a[0],P=w-C;return t===w&&u?t:((t-C)%P+P)%P+C}function I(){return!1}function E(t,a){if(a===!1)return t;var u=Math.pow(10,a===void 0?6:a);return Math.round(t*u)/u}function j(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Z(t){return j(t).split(/\s+/)}function J(t,a){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?h(t.options):{});for(var u in a)t.options[u]=a[u];return t.options}function $(t,a,u){var w=[];for(var C in t)w.push(encodeURIComponent(u?C.toUpperCase():C)+"="+encodeURIComponent(t[C]));return(!a||a.indexOf("?")===-1?"?":"&")+w.join("&")}var V=/\{ *([\w_ -]+) *\}/g;function re(t,a){return t.replace(V,function(u,w){var C=a[w];if(C===void 0)throw new Error("No value provided for variable "+u);return typeof C=="function"&&(C=C(a)),C})}var we=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function xe(t,a){for(var u=0;u<t.length;u++)if(t[u]===a)return u;return-1}var fe="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function U(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Y=0;function K(t){var a=+new Date,u=Math.max(0,16-(a-Y));return Y=a+u,window.setTimeout(t,u)}var ee=window.requestAnimationFrame||U("RequestAnimationFrame")||K,q=window.cancelAnimationFrame||U("CancelAnimationFrame")||U("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function R(t,a,u){if(u&&ee===K)t.call(a);else return ee.call(window,v(t,a))}function F(t){t&&q.call(window,t)}var ie={__proto__:null,extend:x,create:h,bind:v,get lastId(){return _},stamp:k,throttle:S,wrapNum:A,falseFn:I,formatNum:E,trim:j,splitWords:Z,setOptions:J,getParamString:$,template:re,isArray:we,indexOf:xe,emptyImageUrl:fe,requestFn:ee,cancelFn:q,requestAnimFrame:R,cancelAnimFrame:F};function Q(){}Q.extend=function(t){var a=function(){J(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,w=h(u);w.constructor=a,a.prototype=w;for(var C in this)Object.prototype.hasOwnProperty.call(this,C)&&C!=="prototype"&&C!=="__super__"&&(a[C]=this[C]);return t.statics&&x(a,t.statics),t.includes&&(ae(t.includes),x.apply(null,[w].concat(t.includes))),x(w,t),delete w.statics,delete w.includes,w.options&&(w.options=u.options?h(u.options):{},x(w.options,t.options)),w._initHooks=[],w.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,le=w._initHooks.length;P<le;P++)w._initHooks[P].call(this)}},a},Q.include=function(t){var a=this.prototype.options;return x(this.prototype,t),t.options&&(this.prototype.options=a,this.mergeOptions(t.options)),this},Q.mergeOptions=function(t){return x(this.prototype.options,t),this},Q.addInitHook=function(t){var a=Array.prototype.slice.call(arguments,1),u=typeof t=="function"?t:function(){this[t].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function ae(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=we(t)?t:[t];for(var a=0;a<t.length;a++)t[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ne={on:function(t,a,u){if(typeof t=="object")for(var w in t)this._on(w,t[w],a);else{t=Z(t);for(var C=0,P=t.length;C<P;C++)this._on(t[C],a,u)}return this},off:function(t,a,u){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var w in t)this._off(w,t[w],a);else{t=Z(t);for(var C=arguments.length===1,P=0,le=t.length;P<le;P++)C?this._off(t[P]):this._off(t[P],a,u)}return this},_on:function(t,a,u,w){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(t,a,u)===!1){u===this&&(u=void 0);var C={fn:a,ctx:u};w&&(C.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(C)}},_off:function(t,a,u){var w,C,P;if(this._events&&(w=this._events[t],!!w)){if(arguments.length===1){if(this._firingCount)for(C=0,P=w.length;C<P;C++)w[C].fn=I;delete this._events[t];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var le=this._listens(t,a,u);if(le!==!1){var Ce=w[le];this._firingCount&&(Ce.fn=I,this._events[t]=w=w.slice()),w.splice(le,1)}}},fire:function(t,a,u){if(!this.listens(t,u))return this;var w=x({},a,{type:t,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var C=this._events[t];if(C){this._firingCount=this._firingCount+1||1;for(var P=0,le=C.length;P<le;P++){var Ce=C[P],je=Ce.fn;Ce.once&&this.off(t,je,Ce.ctx),je.call(Ce.ctx||this,w)}this._firingCount--}}return u&&this._propagateEvent(w),this},listens:function(t,a,u,w){typeof t!="string"&&console.warn('"string" type argument expected');var C=a;typeof a!="function"&&(w=!!a,C=void 0,u=void 0);var P=this._events&&this._events[t];if(P&&P.length&&this._listens(t,C,u)!==!1)return!0;if(w){for(var le in this._eventParents)if(this._eventParents[le].listens(t,a,u,w))return!0}return!1},_listens:function(t,a,u){if(!this._events)return!1;var w=this._events[t]||[];if(!a)return!!w.length;u===this&&(u=void 0);for(var C=0,P=w.length;C<P;C++)if(w[C].fn===a&&w[C].ctx===u)return C;return!1},once:function(t,a,u){if(typeof t=="object")for(var w in t)this._on(w,t[w],a,!0);else{t=Z(t);for(var C=0,P=t.length;C<P;C++)this._on(t[C],a,u,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[k(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[k(t)],this},_propagateEvent:function(t){for(var a in this._eventParents)this._eventParents[a].fire(t.type,x({layer:t.target,propagatedFrom:t.target},t),!0)}};Ne.addEventListener=Ne.on,Ne.removeEventListener=Ne.clearAllEventListeners=Ne.off,Ne.addOneTimeEventListener=Ne.once,Ne.fireEvent=Ne.fire,Ne.hasEventListeners=Ne.listens;var ge=Q.extend(Ne);function H(t,a,u){this.x=u?Math.round(t):t,this.y=u?Math.round(a):a}var ue=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};H.prototype={clone:function(){return new H(this.x,this.y)},add:function(t){return this.clone()._add(W(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(W(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new H(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new H(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=ue(this.x),this.y=ue(this.y),this},distanceTo:function(t){t=W(t);var a=t.x-this.x,u=t.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(t){return t=W(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=W(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+E(this.x)+", "+E(this.y)+")"}};function W(t,a,u){return t instanceof H?t:we(t)?new H(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new H(t.x,t.y):new H(t,a,u)}function B(t,a){if(t)for(var u=a?[t,a]:t,w=0,C=u.length;w<C;w++)this.extend(u[w])}B.prototype={extend:function(t){var a,u;if(!t)return this;if(t instanceof H||typeof t[0]=="number"||"x"in t)a=u=W(t);else if(t=ye(t),a=t.min,u=t.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(t){return W((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return W(this.min.x,this.max.y)},getTopRight:function(){return W(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var a,u;return typeof t[0]=="number"||t instanceof H?t=W(t):t=ye(t),t instanceof B?(a=t.min,u=t.max):a=u=t,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(t){t=ye(t);var a=this.min,u=this.max,w=t.min,C=t.max,P=C.x>=a.x&&w.x<=u.x,le=C.y>=a.y&&w.y<=u.y;return P&&le},overlaps:function(t){t=ye(t);var a=this.min,u=this.max,w=t.min,C=t.max,P=C.x>a.x&&w.x<u.x,le=C.y>a.y&&w.y<u.y;return P&&le},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var a=this.min,u=this.max,w=Math.abs(a.x-u.x)*t,C=Math.abs(a.y-u.y)*t;return ye(W(a.x-w,a.y-C),W(u.x+w,u.y+C))},equals:function(t){return t?(t=ye(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function ye(t,a){return!t||t instanceof B?t:new B(t,a)}function de(t,a){if(t)for(var u=a?[t,a]:t,w=0,C=u.length;w<C;w++)this.extend(u[w])}de.prototype={extend:function(t){var a=this._southWest,u=this._northEast,w,C;if(t instanceof oe)w=t,C=t;else if(t instanceof de){if(w=t._southWest,C=t._northEast,!w||!C)return this}else return t?this.extend(z(t)||te(t)):this;return!a&&!u?(this._southWest=new oe(w.lat,w.lng),this._northEast=new oe(C.lat,C.lng)):(a.lat=Math.min(w.lat,a.lat),a.lng=Math.min(w.lng,a.lng),u.lat=Math.max(C.lat,u.lat),u.lng=Math.max(C.lng,u.lng)),this},pad:function(t){var a=this._southWest,u=this._northEast,w=Math.abs(a.lat-u.lat)*t,C=Math.abs(a.lng-u.lng)*t;return new de(new oe(a.lat-w,a.lng-C),new oe(u.lat+w,u.lng+C))},getCenter:function(){return new oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof oe||"lat"in t?t=z(t):t=te(t);var a=this._southWest,u=this._northEast,w,C;return t instanceof de?(w=t.getSouthWest(),C=t.getNorthEast()):w=C=t,w.lat>=a.lat&&C.lat<=u.lat&&w.lng>=a.lng&&C.lng<=u.lng},intersects:function(t){t=te(t);var a=this._southWest,u=this._northEast,w=t.getSouthWest(),C=t.getNorthEast(),P=C.lat>=a.lat&&w.lat<=u.lat,le=C.lng>=a.lng&&w.lng<=u.lng;return P&&le},overlaps:function(t){t=te(t);var a=this._southWest,u=this._northEast,w=t.getSouthWest(),C=t.getNorthEast(),P=C.lat>a.lat&&w.lat<u.lat,le=C.lng>a.lng&&w.lng<u.lng;return P&&le},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,a){return t?(t=te(t),this._southWest.equals(t.getSouthWest(),a)&&this._northEast.equals(t.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function te(t,a){return t instanceof de?t:new de(t,a)}function oe(t,a,u){if(isNaN(t)||isNaN(a))throw new Error("Invalid LatLng object: ("+t+", "+a+")");this.lat=+t,this.lng=+a,u!==void 0&&(this.alt=+u)}oe.prototype={equals:function(t,a){if(!t)return!1;t=z(t);var u=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return u<=(a===void 0?1e-9:a)},toString:function(t){return"LatLng("+E(this.lat,t)+", "+E(this.lng,t)+")"},distanceTo:function(t){return be.distance(this,z(t))},wrap:function(){return be.wrapLatLng(this)},toBounds:function(t){var a=180*t/40075017,u=a/Math.cos(Math.PI/180*this.lat);return te([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new oe(this.lat,this.lng,this.alt)}};function z(t,a,u){return t instanceof oe?t:we(t)&&typeof t[0]!="object"?t.length===3?new oe(t[0],t[1],t[2]):t.length===2?new oe(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new oe(t.lat,"lng"in t?t.lng:t.lon,t.alt):a===void 0?null:new oe(t,a,u)}var ce={latLngToPoint:function(t,a){var u=this.projection.project(t),w=this.scale(a);return this.transformation._transform(u,w)},pointToLatLng:function(t,a){var u=this.scale(a),w=this.transformation.untransform(t,u);return this.projection.unproject(w)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(t),w=this.transformation.transform(a.min,u),C=this.transformation.transform(a.max,u);return new B(w,C)},infinite:!1,wrapLatLng:function(t){var a=this.wrapLng?A(t.lng,this.wrapLng,!0):t.lng,u=this.wrapLat?A(t.lat,this.wrapLat,!0):t.lat,w=t.alt;return new oe(u,a,w)},wrapLatLngBounds:function(t){var a=t.getCenter(),u=this.wrapLatLng(a),w=a.lat-u.lat,C=a.lng-u.lng;if(w===0&&C===0)return t;var P=t.getSouthWest(),le=t.getNorthEast(),Ce=new oe(P.lat-w,P.lng-C),je=new oe(le.lat-w,le.lng-C);return new de(Ce,je)}},be=x({},ce,{wrapLng:[-180,180],R:6371e3,distance:function(t,a){var u=Math.PI/180,w=t.lat*u,C=a.lat*u,P=Math.sin((a.lat-t.lat)*u/2),le=Math.sin((a.lng-t.lng)*u/2),Ce=P*P+Math.cos(w)*Math.cos(C)*le*le,je=2*Math.atan2(Math.sqrt(Ce),Math.sqrt(1-Ce));return this.R*je}}),he=6378137,ze={R:he,MAX_LATITUDE:85.0511287798,project:function(t){var a=Math.PI/180,u=this.MAX_LATITUDE,w=Math.max(Math.min(u,t.lat),-u),C=Math.sin(w*a);return new H(this.R*t.lng*a,this.R*Math.log((1+C)/(1-C))/2)},unproject:function(t){var a=180/Math.PI;return new oe((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*a,t.x*a/this.R)},bounds:function(){var t=he*Math.PI;return new B([-t,-t],[t,t])}()};function He(t,a,u,w){if(we(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=a,this._c=u,this._d=w}He.prototype={transform:function(t,a){return this._transform(t.clone(),a)},_transform:function(t,a){return a=a||1,t.x=a*(this._a*t.x+this._b),t.y=a*(this._c*t.y+this._d),t},untransform:function(t,a){return a=a||1,new H((t.x/a-this._b)/this._a,(t.y/a-this._d)/this._c)}};function nt(t,a,u,w){return new He(t,a,u,w)}var De=x({},be,{code:"EPSG:3857",projection:ze,transformation:function(){var t=.5/(Math.PI*ze.R);return nt(t,.5,-t,.5)}()}),$e=x({},De,{code:"EPSG:900913"});function We(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function et(t,a){var u="",w,C,P,le,Ce,je;for(w=0,P=t.length;w<P;w++){for(Ce=t[w],C=0,le=Ce.length;C<le;C++)je=Ce[C],u+=(C?"L":"M")+je.x+" "+je.y;u+=a?dt.svg?"z":"x":""}return u||"M0 0"}var Ve=document.documentElement.style,It="ActiveXObject"in window,Gt=It&&!document.addEventListener,ft="msLaunchUri"in navigator&&!("documentMode"in document),gt=br("webkit"),$t=br("android"),qt=br("android 2")||br("android 3"),on=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),xn=$t&&br("Google")&&on<537&&!("AudioNode"in window),jn=!!window.opera,Dn=!ft&&br("chrome"),Zn=br("gecko")&&!gt&&!jn&&!It,Pi=!Dn&&br("safari"),Je=br("phantom"),_e="OTransition"in Ve,Ae=navigator.platform.indexOf("Win")===0,Ye=It&&"transition"in Ve,qe="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!qt,at="MozPerspective"in Ve,st=!window.L_DISABLE_3D&&(Ye||qe||at)&&!_e&&!Je,bt=typeof orientation<"u"||br("mobile"),dn=bt&&gt,li=bt&&qe,Ra=!window.PointerEvent&&window.MSPointerEvent,Wr=!!(window.PointerEvent||Ra),ca="ontouchstart"in window||!!window.TouchEvent,Wf=!window.L_NO_TOUCH&&(ca||Wr),Jf=bt&&jn,$f=bt&&Zn,Hf=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,zl=function(){var t=!1;try{var a=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",I,a),window.removeEventListener("testPassiveEventSupport",I,a)}catch{}return t}(),Rl=function(){return!!document.createElement("canvas").getContext}(),Fs=!!(document.createElementNS&&We("svg").createSVGRect),Qo=!!Fs&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wo=!Fs&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var a=t.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),Jo=navigator.platform.indexOf("Mac")===0,Ol=navigator.platform.indexOf("Linux")===0;function br(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var dt={ie:It,ielt9:Gt,edge:ft,webkit:gt,android:$t,android23:qt,androidStock:xn,opera:jn,chrome:Dn,gecko:Zn,safari:Pi,phantom:Je,opera12:_e,win:Ae,ie3d:Ye,webkit3d:qe,gecko3d:at,any3d:st,mobile:bt,mobileWebkit:dn,mobileWebkit3d:li,msPointer:Ra,pointer:Wr,touch:Wf,touchNative:ca,mobileOpera:Jf,mobileGecko:$f,retina:Hf,passiveEvents:zl,canvas:Rl,svg:Fs,vml:Wo,inlineSvg:Qo,mac:Jo,linux:Ol},$o=dt.msPointer?"MSPointerDown":"pointerdown",Us=dt.msPointer?"MSPointerMove":"pointermove",Vf=dt.msPointer?"MSPointerUp":"pointerup",qf=dt.msPointer?"MSPointerCancel":"pointercancel",Bl={touchstart:$o,touchmove:Us,touchend:Vf,touchcancel:qf},ua={touchstart:hn,touchmove:Ys,touchend:Ys,touchcancel:Ys},da={},Fl=!1;function yu(t,a,u){return a==="touchstart"&&Zs(),ua[a]?(u=ua[a].bind(this,u),t.addEventListener(Bl[a],u,!1),u):(console.warn("wrong event specified:",a),I)}function Kf(t,a,u){if(!Bl[a]){console.warn("wrong event specified:",a);return}t.removeEventListener(Bl[a],u,!1)}function Xf(t){da[t.pointerId]=t}function ec(t){da[t.pointerId]&&(da[t.pointerId]=t)}function Ul(t){delete da[t.pointerId]}function Zs(){Fl||(document.addEventListener($o,Xf,!0),document.addEventListener(Us,ec,!0),document.addEventListener(Vf,Ul,!0),document.addEventListener(qf,Ul,!0),Fl=!0)}function Ys(t,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in da)a.touches.push(da[u]);a.changedTouches=[a],t(a)}}function hn(t,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Ct(a),Ys(t,a)}function vu(t){var a={},u,w;for(w in t)u=t[w],a[w]=u&&u.bind?u.bind(t):u;return t=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var Zl=200;function tc(t,a){t.addEventListener("dblclick",a);var u=0,w;function C(P){if(P.detail!==1){w=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var le=Ua(P);if(!(le.some(function(je){return je instanceof HTMLLabelElement&&je.attributes.for})&&!le.some(function(je){return je instanceof HTMLInputElement||je instanceof HTMLSelectElement}))){var Ce=Date.now();Ce-u<=Zl?(w++,w===2&&a(vu(P))):w=1,u=Ce}}}return t.addEventListener("click",C),{dblclick:a,simDblclick:C}}function Ho(t,a){t.removeEventListener("dblclick",a.dblclick),t.removeEventListener("click",a.simDblclick)}var Gs=ha(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Oa=ha(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Vo=Oa==="webkitTransition"||Oa==="OTransition"?Oa+"End":"transitionend";function Jr(t){return typeof t=="string"?document.getElementById(t):t}function qo(t,a){var u=t.style[a]||t.currentStyle&&t.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var w=document.defaultView.getComputedStyle(t,null);u=w?w[a]:null}return u==="auto"?null:u}function Et(t,a,u){var w=document.createElement(t);return w.className=a||"",u&&u.appendChild(w),w}function mn(t){var a=t.parentNode;a&&a.removeChild(t)}function Ko(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ba(t){var a=t.parentNode;a&&a.lastChild!==t&&a.appendChild(t)}function $r(t){var a=t.parentNode;a&&a.firstChild!==t&&a.insertBefore(t,a.firstChild)}function uo(t,a){if(t.classList!==void 0)return t.classList.contains(a);var u=Ws(t);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function Nt(t,a){if(t.classList!==void 0)for(var u=Z(a),w=0,C=u.length;w<C;w++)t.classList.add(u[w]);else if(!uo(t,a)){var P=Ws(t);Qs(t,(P?P+" ":"")+a)}}function sn(t,a){t.classList!==void 0?t.classList.remove(a):Qs(t,j((" "+Ws(t)+" ").replace(" "+a+" "," ")))}function Qs(t,a){t.className.baseVal===void 0?t.className=a:t.className.baseVal=a}function Ws(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function cr(t,a){"opacity"in t.style?t.style.opacity=a:"filter"in t.style&&Yl(t,a)}function Yl(t,a){var u=!1,w="DXImageTransform.Microsoft.Alpha";try{u=t.filters.item(w)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):t.style.filter+=" progid:"+w+"(opacity="+a+")"}function ha(t){for(var a=document.documentElement.style,u=0;u<t.length;u++)if(t[u]in a)return t[u];return!1}function Hr(t,a,u){var w=a||new H(0,0);t.style[Gs]=(dt.ie3d?"translate("+w.x+"px,"+w.y+"px)":"translate3d("+w.x+"px,"+w.y+"px,0)")+(u?" scale("+u+")":"")}function kn(t,a){t._leaflet_pos=a,dt.any3d?Hr(t,a):(t.style.left=a.x+"px",t.style.top=a.y+"px")}function Vr(t){return t._leaflet_pos||new H(0,0)}var Ut,qr,Xo;if("onselectstart"in document)Ut=function(){Lt(window,"selectstart",Ct)},qr=function(){fn(window,"selectstart",Ct)};else{var ma=ha(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ut=function(){if(ma){var t=document.documentElement.style;Xo=t[ma],t[ma]="none"}},qr=function(){ma&&(document.documentElement.style[ma]=Xo,Xo=void 0)}}function Js(){Lt(window,"dragstart",Ct)}function es(){fn(window,"dragstart",Ct)}var ho,mo;function Fa(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Kr(),ho=t,mo=t.style.outlineStyle,t.style.outlineStyle="none",Lt(window,"keydown",Kr))}function Kr(){ho&&(ho.style.outlineStyle=mo,ho=void 0,mo=void 0,fn(window,"keydown",Kr))}function zi(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function fi(t){var a=t.getBoundingClientRect();return{x:a.width/t.offsetWidth||1,y:a.height/t.offsetHeight||1,boundingClientRect:a}}var po={__proto__:null,TRANSFORM:Gs,TRANSITION:Oa,TRANSITION_END:Vo,get:Jr,getStyle:qo,create:Et,remove:mn,empty:Ko,toFront:Ba,toBack:$r,hasClass:uo,addClass:Nt,removeClass:sn,setClass:Qs,getClass:Ws,setOpacity:cr,testProp:ha,setTransform:Hr,setPosition:kn,getPosition:Vr,get disableTextSelection(){return Ut},get enableTextSelection(){return qr},disableImageDrag:Js,enableImageDrag:es,preventOutline:Fa,restoreOutline:Kr,getSizedParentNode:zi,getScale:fi};function Lt(t,a,u,w){if(a&&typeof a=="object")for(var C in a)Ql(t,C,a[C],u);else{a=Z(a);for(var P=0,le=a.length;P<le;P++)Ql(t,a[P],u,w)}return this}var Jn="_leaflet_events";function fn(t,a,u,w){if(arguments.length===1)Gl(t),delete t[Jn];else if(a&&typeof a=="object")for(var C in a)$s(t,C,a[C],u);else if(a=Z(a),arguments.length===2)Gl(t,function(Ce){return xe(a,Ce)!==-1});else for(var P=0,le=a.length;P<le;P++)$s(t,a[P],u,w);return this}function Gl(t,a){for(var u in t[Jn]){var w=u.split(/\d/)[0];(!a||a(w))&&$s(t,w,null,null,u)}}var Ri={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ql(t,a,u,w){var C=a+k(u)+(w?"_"+k(w):"");if(t[Jn]&&t[Jn][C])return this;var P=function(Ce){return u.call(w||t,Ce||window.event)},le=P;!dt.touchNative&&dt.pointer&&a.indexOf("touch")===0?P=yu(t,a,P):dt.touch&&a==="dblclick"?P=tc(t,P):"addEventListener"in t?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?t.addEventListener(Ri[a]||a,P,dt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(P=function(Ce){Ce=Ce||window.event,rs(t,Ce)&&le(Ce)},t.addEventListener(Ri[a],P,!1)):t.addEventListener(a,le,!1):t.attachEvent("on"+a,P),t[Jn]=t[Jn]||{},t[Jn][C]=P}function $s(t,a,u,w,C){C=C||a+k(u)+(w?"_"+k(w):"");var P=t[Jn]&&t[Jn][C];if(!P)return this;!dt.touchNative&&dt.pointer&&a.indexOf("touch")===0?Kf(t,a,P):dt.touch&&a==="dblclick"?Ho(t,P):"removeEventListener"in t?t.removeEventListener(Ri[a]||a,P,!1):t.detachEvent("on"+a,P),t[Jn][C]=null}function ci(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Hs(t){return Ql(t,"wheel",ci),this}function ts(t){return Lt(t,"mousedown touchstart dblclick contextmenu",ci),t._leaflet_disable_click=!0,this}function Ct(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Ot(t){return Ct(t),ci(t),this}function Ua(t){if(t.composedPath)return t.composedPath();for(var a=[],u=t.target;u;)a.push(u),u=u.parentNode;return a}function ns(t,a){if(!a)return new H(t.clientX,t.clientY);var u=fi(a),w=u.boundingClientRect;return new H((t.clientX-w.left)/u.x-a.clientLeft,(t.clientY-w.top)/u.y-a.clientTop)}var bu=dt.linux&&dt.chrome?window.devicePixelRatio:dt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nc(t){return dt.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/bu:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function rs(t,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==t;)u=u.parentNode}catch{return!1}return u!==t}var Vs={__proto__:null,on:Lt,off:fn,stopPropagation:ci,disableScrollPropagation:Hs,disableClickPropagation:ts,preventDefault:Ct,stop:Ot,getPropagationPath:Ua,getMousePosition:ns,getWheelDelta:nc,isExternalTarget:rs,addListener:Lt,removeListener:fn},is=ge.extend({run:function(t,a,u,w){this.stop(),this._el=t,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(w||.5,.2),this._startPos=Vr(t),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=R(this._animate,this),this._step()},_step:function(t){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),t):(this._runFrame(1),this._complete())},_runFrame:function(t,a){var u=this._startPos.add(this._offset.multiplyBy(t));a&&u._round(),kn(this._el,u),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Zt=ge.extend({options:{crs:De,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,a){a=J(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=v(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(z(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Oa&&dt.any3d&&!dt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Lt(this._proxy,Vo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),t=this._limitCenter(z(t),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=x({animate:u.animate},u.zoom),u.pan=x({animate:u.animate,duration:u.duration},u.pan));var w=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,a,u.zoom):this._tryAnimatedPan(t,u.pan);if(w)return clearTimeout(this._sizeTimer),this}return this._resetView(t,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(t,a){return this._loaded?this.setView(this.getCenter(),t,{zoom:a}):(this._zoom=t,this)},zoomIn:function(t,a){return t=t||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,a)},zoomOut:function(t,a){return t=t||(dt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,a)},setZoomAround:function(t,a,u){var w=this.getZoomScale(a),C=this.getSize().divideBy(2),P=t instanceof H?t:this.latLngToContainerPoint(t),le=P.subtract(C).multiplyBy(1-1/w),Ce=this.containerPointToLatLng(C.add(le));return this.setView(Ce,a,{zoom:u})},_getBoundsCenterZoom:function(t,a){a=a||{},t=t.getBounds?t.getBounds():te(t);var u=W(a.paddingTopLeft||a.padding||[0,0]),w=W(a.paddingBottomRight||a.padding||[0,0]),C=this.getBoundsZoom(t,!1,u.add(w));if(C=typeof a.maxZoom=="number"?Math.min(a.maxZoom,C):C,C===1/0)return{center:t.getCenter(),zoom:C};var P=w.subtract(u).divideBy(2),le=this.project(t.getSouthWest(),C),Ce=this.project(t.getNorthEast(),C),je=this.unproject(le.add(Ce).divideBy(2).add(P),C);return{center:je,zoom:C}},fitBounds:function(t,a){if(t=te(t),!t.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(t,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,a){return this.setView(t,this._zoom,{pan:a})},panBy:function(t,a){if(t=W(t).round(),a=a||{},!t.x&&!t.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new is,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Nt(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,a,u){if(u=u||{},u.animate===!1||!dt.any3d)return this.setView(t,a,u);this._stop();var w=this.project(this.getCenter()),C=this.project(t),P=this.getSize(),le=this._zoom;t=z(t),a=a===void 0?le:a;var Ce=Math.max(P.x,P.y),je=Ce*this.getZoomScale(le,a),Be=C.distanceTo(w)||1,Xe=1.42,pt=Xe*Xe;function Tt(Kt){var Ja=Kt?-1:1,O=Kt?je:Ce,ko=je*je-Ce*Ce+Ja*pt*pt*Be*Be,bi=2*O*pt*Be,Yn=ko/bi,At=Math.sqrt(Yn*Yn+1)-Yn,fl=At<1e-9?-18:Math.log(At);return fl}function _n(Kt){return(Math.exp(Kt)-Math.exp(-Kt))/2}function Mn(Kt){return(Math.exp(Kt)+Math.exp(-Kt))/2}function Vn(Kt){return _n(Kt)/Mn(Kt)}var qn=Tt(0);function ei(Kt){return Ce*(Mn(qn)/Mn(qn+Xe*Kt))}function sf(Kt){return Ce*(Mn(qn)*Vn(qn+Xe*Kt)-_n(qn))/pt}function ba(Kt){return 1-Math.pow(1-Kt,1.5)}var cc=Date.now(),Wa=(Tt(1)-qn)/Xe,vi=u.duration?1e3*u.duration:1e3*Wa*.8;function $i(){var Kt=(Date.now()-cc)/vi,Ja=ba(Kt)*Wa;Kt<=1?(this._flyToFrame=R($i,this),this._move(this.unproject(w.add(C.subtract(w).multiplyBy(sf(Ja)/Be)),le),this.getScaleZoom(Ce/ei(Ja),le),{flyTo:!0})):this._move(t,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),$i.call(this),this},flyToBounds:function(t,a){var u=this._getBoundsCenterZoom(t,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(t){return t=te(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var a=this.options.minZoom;return this.options.minZoom=t,this._loaded&&a!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var a=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&a!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,a){this._enforcingBounds=!0;var u=this.getCenter(),w=this._limitCenter(u,this._zoom,te(t));return u.equals(w)||this.panTo(w,a),this._enforcingBounds=!1,this},panInside:function(t,a){a=a||{};var u=W(a.paddingTopLeft||a.padding||[0,0]),w=W(a.paddingBottomRight||a.padding||[0,0]),C=this.project(this.getCenter()),P=this.project(t),le=this.getPixelBounds(),Ce=ye([le.min.add(u),le.max.subtract(w)]),je=Ce.getSize();if(!Ce.contains(P)){this._enforcingBounds=!0;var Be=P.subtract(Ce.getCenter()),Xe=Ce.extend(P).getSize().subtract(je);C.x+=Be.x<0?-Xe.x:Xe.x,C.y+=Be.y<0?-Xe.y:Xe.y,this.panTo(this.unproject(C),a),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=x({animate:!1,pan:!0},t===!0?{animate:!0}:t);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),w=a.divideBy(2).round(),C=u.divideBy(2).round(),P=w.subtract(C);return!P.x&&!P.y?this:(t.animate&&t.pan?this.panBy(P):(t.pan&&this._rawPanBy(P),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(v(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=x({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=v(this._handleGeolocationResponse,this),u=v(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,t):navigator.geolocation.getCurrentPosition(a,u,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var a=t.code,u=t.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var a=t.coords.latitude,u=t.coords.longitude,w=new oe(a,u),C=w.toBounds(t.coords.accuracy*2),P=this._locateOptions;if(P.setView){var le=this.getBoundsZoom(C);this.setView(w,P.maxZoom?Math.min(le,P.maxZoom):le)}var Ce={latlng:w,bounds:C,timestamp:t.timestamp};for(var je in t.coords)typeof t.coords[je]=="number"&&(Ce[je]=t.coords[je]);this.fire("locationfound",Ce)}},addHandler:function(t,a){if(!a)return this;var u=this[t]=new a(this);return this._handlers.push(u),this.options[t]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),mn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)mn(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,a){var u="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),w=Et("div",u,a||this._mapPane);return t&&(this._panes[t]=w),w},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),a=this.unproject(t.getBottomLeft()),u=this.unproject(t.getTopRight());return new de(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,a,u){t=te(t),u=W(u||[0,0]);var w=this.getZoom()||0,C=this.getMinZoom(),P=this.getMaxZoom(),le=t.getNorthWest(),Ce=t.getSouthEast(),je=this.getSize().subtract(u),Be=ye(this.project(Ce,w),this.project(le,w)).getSize(),Xe=dt.any3d?this.options.zoomSnap:1,pt=je.x/Be.x,Tt=je.y/Be.y,_n=a?Math.max(pt,Tt):Math.min(pt,Tt);return w=this.getScaleZoom(_n,w),Xe&&(w=Math.round(w/(Xe/100))*(Xe/100),w=a?Math.ceil(w/Xe)*Xe:Math.floor(w/Xe)*Xe),Math.max(C,Math.min(P,w))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new H(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,a){var u=this._getTopLeftPoint(t,a);return new B(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(t)/u.scale(a)},getScaleZoom:function(t,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var w=u.zoom(t*u.scale(a));return isNaN(w)?1/0:w},project:function(t,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(z(t),a)},unproject:function(t,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(W(t),a)},layerPointToLatLng:function(t){var a=W(t).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(t){var a=this.project(z(t))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(z(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(te(t))},distance:function(t,a){return this.options.crs.distance(z(t),z(a))},containerPointToLayerPoint:function(t){return W(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return W(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var a=this.containerPointToLayerPoint(W(t));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(z(t)))},mouseEventToContainerPoint:function(t){return ns(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var a=this._container=Jr(t);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Lt(a,"scroll",this._onScroll,this),this._containerId=k(a)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&dt.any3d,Nt(t,"leaflet-container"+(dt.touch?" leaflet-touch":"")+(dt.retina?" leaflet-retina":"")+(dt.ielt9?" leaflet-oldie":"")+(dt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=qo(t,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),kn(this._mapPane,new H(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Nt(t.markerPane,"leaflet-zoom-hide"),Nt(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,a,u){kn(this._mapPane,new H(0,0));var w=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var C=this._zoom!==a;this._moveStart(C,u)._move(t,a)._moveEnd(C),this.fire("viewreset"),w&&this.fire("load")},_moveStart:function(t,a){return t&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(t,a,u,w){a===void 0&&(a=this._zoom);var C=this._zoom!==a;return this._zoom=a,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),w?u&&u.pinch&&this.fire("zoom",u):((C||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){kn(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[k(this._container)]=this;var a=t?fn:Lt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),dt.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=R(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,a){for(var u=[],w,C=a==="mouseout"||a==="mouseover",P=t.target||t.srcElement,le=!1;P;){if(w=this._targets[k(P)],w&&(a==="click"||a==="preclick")&&this._draggableMoved(w)){le=!0;break}if(w&&w.listens(a,!0)&&(C&&!rs(P,t)||(u.push(w),C))||P===this._container)break;P=P.parentNode}return!u.length&&!le&&!C&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var a=t.target||t.srcElement;if(!(!this._loaded||a._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(a))){var u=t.type;u==="mousedown"&&Fa(a),this._fireDOMEvent(t,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,a,u){if(t.type==="click"){var w=x({},t);w.type="preclick",this._fireDOMEvent(w,w.type,u)}var C=this._findEventTargets(t,a);if(u){for(var P=[],le=0;le<u.length;le++)u[le].listens(a,!0)&&P.push(u[le]);C=P.concat(C)}if(C.length){a==="contextmenu"&&Ct(t);var Ce=C[0],je={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var Be=Ce.getLatLng&&(!Ce._radius||Ce._radius<=10);je.containerPoint=Be?this.latLngToContainerPoint(Ce.getLatLng()):this.mouseEventToContainerPoint(t),je.layerPoint=this.containerPointToLayerPoint(je.containerPoint),je.latlng=Be?Ce.getLatLng():this.layerPointToLatLng(je.layerPoint)}for(le=0;le<C.length;le++)if(C[le].fire(a,je,!0),je.originalEvent._stopped||C[le].options.bubblingMouseEvents===!1&&xe(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,a=this._handlers.length;t<a;t++)this._handlers[t].disable()},whenReady:function(t,a){return this._loaded?t.call(a||this,{target:this}):this.on("load",t,a),this},_getMapPanePos:function(){return Vr(this._mapPane)||new H(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,a){var u=t&&a!==void 0?this._getNewPixelOrigin(t,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,a){var u=this.getSize()._divideBy(2);return this.project(t,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,a,u){var w=this._getNewPixelOrigin(u,a);return this.project(t,a)._subtract(w)},_latLngBoundsToNewLayerBounds:function(t,a,u){var w=this._getNewPixelOrigin(u,a);return ye([this.project(t.getSouthWest(),a)._subtract(w),this.project(t.getNorthWest(),a)._subtract(w),this.project(t.getSouthEast(),a)._subtract(w),this.project(t.getNorthEast(),a)._subtract(w)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,a,u){if(!u)return t;var w=this.project(t,a),C=this.getSize().divideBy(2),P=new B(w.subtract(C),w.add(C)),le=this._getBoundsOffset(P,u,a);return Math.abs(le.x)<=1&&Math.abs(le.y)<=1?t:this.unproject(w.add(le),a)},_limitOffset:function(t,a){if(!a)return t;var u=this.getPixelBounds(),w=new B(u.min.add(t),u.max.add(t));return t.add(this._getBoundsOffset(w,a))},_getBoundsOffset:function(t,a,u){var w=ye(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),C=w.min.subtract(t.min),P=w.max.subtract(t.max),le=this._rebound(C.x,-P.x),Ce=this._rebound(C.y,-P.y);return new H(le,Ce)},_rebound:function(t,a){return t+a>0?Math.round(t-a)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(a))},_limitZoom:function(t){var a=this.getMinZoom(),u=this.getMaxZoom(),w=dt.any3d?this.options.zoomSnap:1;return w&&(t=Math.round(t/w)*w),Math.max(a,Math.min(u,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){sn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,a){var u=this._getCenterOffset(t)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var t=this._proxy=Et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(a){var u=Gs,w=this._proxy.style[u];Hr(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),w===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){mn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),a=this.getZoom();Hr(this._proxy,this.project(t,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var w=this.getZoomScale(a),C=this._getCenterOffset(t)._divideBy(1-1/w);return u.animate!==!0&&!this.getSize().contains(C)?!1:(R(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(t,a,!0)},this),!0)},_animateZoom:function(t,a,u,w){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=a,Nt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:a,noUpdate:w}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(v(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&sn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function pn(t,a){return new Zt(t,a)}var ur=Q.extend({options:{position:"topright"},initialize:function(t){J(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var a=this._map;return a&&a.removeControl(this),this.options.position=t,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var a=this._container=this.onAdd(t),u=this.getPosition(),w=t._controlCorners[u];return Nt(a,"leaflet-control"),u.indexOf("bottom")!==-1?w.insertBefore(a,w.firstChild):w.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(mn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Lr=function(t){return new ur(t)};Zt.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},a="leaflet-",u=this._controlContainer=Et("div",a+"control-container",this._container);function w(C,P){var le=a+C+" "+a+P;t[C+P]=Et("div",le,u)}w("top","left"),w("top","right"),w("bottom","left"),w("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)mn(this._controlCorners[t]);mn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var qs=ur.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,a,u,w){return u<w?-1:w<u?1:0}},initialize:function(t,a,u){J(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var w in t)this._addLayer(t[w],w);for(w in a)this._addLayer(a[w],w,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return ur.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,a){return this._addLayer(t,a),this._map?this._update():this},addOverlay:function(t,a){return this._addLayer(t,a,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var a=this._getLayer(k(t));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Nt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Nt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):sn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return sn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",a=this._container=Et("div",t),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),ts(a),Hs(a);var w=this._section=Et("section",t+"-list");u&&(this._map.on("click",this.collapse,this),Lt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var C=this._layersLink=Et("a",t+"-toggle",a);C.href="#",C.title="Layers",C.setAttribute("role","button"),Lt(C,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){Ct(P),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=Et("div",t+"-base",w),this._separator=Et("div",t+"-separator",w),this._overlaysList=Et("div",t+"-overlays",w),a.appendChild(w)},_getLayer:function(t){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&k(this._layers[a].layer)===t)return this._layers[a]},_addLayer:function(t,a,u){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(v(function(w,C){return this.options.sortFunction(w.layer,C.layer,w.name,C.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ko(this._baseLayersList),Ko(this._overlaysList),this._layerControlInputs=[];var t,a,u,w,C=0;for(u=0;u<this._layers.length;u++)w=this._layers[u],this._addItem(w),a=a||w.overlay,t=t||!w.overlay,C+=w.overlay?0:1;return this.options.hideSingleBase&&(t=t&&C>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=a&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var a=this._getLayer(k(t.target)),u=a.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(t,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(a?' checked="checked"':"")+"/>",w=document.createElement("div");return w.innerHTML=u,w.firstChild},_addItem:function(t){var a=document.createElement("label"),u=this._map.hasLayer(t.layer),w;t.overlay?(w=document.createElement("input"),w.type="checkbox",w.className="leaflet-control-layers-selector",w.defaultChecked=u):w=this._createRadioElement("leaflet-base-layers_"+k(this),u),this._layerControlInputs.push(w),w.layerId=k(t.layer),Lt(w,"click",this._onInputClick,this);var C=document.createElement("span");C.innerHTML=" "+t.name;var P=document.createElement("span");a.appendChild(P),P.appendChild(w),P.appendChild(C);var le=t.overlay?this._overlaysList:this._baseLayersList;return le.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,a,u,w=[],C=[];this._handlingClick=!0;for(var P=t.length-1;P>=0;P--)a=t[P],u=this._getLayer(a.layerId).layer,a.checked?w.push(u):a.checked||C.push(u);for(P=0;P<C.length;P++)this._map.hasLayer(C[P])&&this._map.removeLayer(C[P]);for(P=0;P<w.length;P++)this._map.hasLayer(w[P])||this._map.addLayer(w[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,a,u,w=this._map.getZoom(),C=t.length-1;C>=0;C--)a=t[C],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&w<u.options.minZoom||u.options.maxZoom!==void 0&&w>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Lt(t,"click",Ct),this.expand();var a=this;setTimeout(function(){fn(t,"click",Ct),a._preventClick=!1})}}),go=function(t,a,u){return new qs(t,a,u)},$n=ur.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var a="leaflet-control-zoom",u=Et("div",a+" leaflet-bar"),w=this.options;return this._zoomInButton=this._createButton(w.zoomInText,w.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(w.zoomOutText,w.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,a,u,w,C){var P=Et("a",u,w);return P.innerHTML=t,P.href="#",P.title=a,P.setAttribute("role","button"),P.setAttribute("aria-label",a),ts(P),Lt(P,"click",Ot),Lt(P,"click",C,this),Lt(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var t=this._map,a="leaflet-disabled";sn(this._zoomInButton,a),sn(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Nt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Nt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new $n,this.addControl(this.zoomControl))});var Wl=function(t){return new $n(t)},dr=ur.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var a="leaflet-control-scale",u=Et("div",a),w=this.options;return this._addScales(w,a+"-line",u),t.on(w.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),u},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,a,u){t.metric&&(this._mScale=Et("div",a,u)),t.imperial&&(this._iScale=Et("div",a,u))},_update:function(){var t=this._map,a=t.getSize().y/2,u=t.distance(t.containerPointToLatLng([0,a]),t.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var a=this._getRoundNum(t),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/t)},_updateImperial:function(t){var a=t*3.2808399,u,w,C;a>5280?(u=a/5280,w=this._getRoundNum(u),this._updateScale(this._iScale,w+" mi",w/u)):(C=this._getRoundNum(a),this._updateScale(this._iScale,C+" ft",C/a))},_updateScale:function(t,a,u){t.style.width=Math.round(this.options.maxWidth*u)+"px",t.innerHTML=a},_getRoundNum:function(t){var a=Math.pow(10,(Math.floor(t)+"").length-1),u=t/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),Za=function(t){return new dr(t)},Ks='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pa=ur.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(dt.inlineSvg?Ks+" ":"")+"Leaflet</a>"},initialize:function(t){J(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Et("div","leaflet-control-attribution"),ts(this._container);for(var a in t._layers)t._layers[a].getAttribution&&this.addAttribution(t._layers[a].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var a in this._attributions)this._attributions[a]&&t.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),t.length&&u.push(t.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new pa().addTo(this)});var rc=function(t){return new pa(t)};ur.Layers=qs,ur.Zoom=$n,ur.Scale=dr,ur.Attribution=pa,Lr.layers=go,Lr.zoom=Wl,Lr.scale=Za,Lr.attribution=rc;var gn=Q.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(t,a){return t.addHandler(a,this),this};var Jl={Events:Ne},Hn=dt.touch?"touchstart mousedown":"mousedown",Xr=ge.extend({options:{clickTolerance:3},initialize:function(t,a,u,w){J(this,w),this._element=t,this._dragStartTarget=a||t,this._preventOutline=u},enable:function(){this._enabled||(Lt(this._dragStartTarget,Hn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Xr._dragging===this&&this.finishDrag(!0),fn(this._dragStartTarget,Hn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!uo(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Xr._dragging===this&&this.finishDrag();return}if(!(Xr._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Xr._dragging=this,this._preventOutline&&Fa(this._element),Js(),Ut(),!this._moving)){this.fire("down");var a=t.touches?t.touches[0]:t,u=zi(this._element);this._startPoint=new H(a.clientX,a.clientY),this._startPos=Vr(this._element),this._parentScale=fi(u);var w=t.type==="mousedown";Lt(document,w?"mousemove":"touchmove",this._onMove,this),Lt(document,w?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var a=t.touches&&t.touches.length===1?t.touches[0]:t,u=new H(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Ct(t),this._moved||(this.fire("dragstart"),this._moved=!0,Nt(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Nt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),kn(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){sn(document.body,"leaflet-dragging"),this._lastTarget&&(sn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fn(document,"mousemove touchmove",this._onMove,this),fn(document,"mouseup touchend touchcancel",this._onUp,this),es(),qr();var a=this._moved&&this._moving;this._moving=!1,Xr._dragging=!1,a&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Xs(t,a,u){var w,C=[1,4,2,8],P,le,Ce,je,Be,Xe,pt,Tt;for(P=0,Xe=t.length;P<Xe;P++)t[P]._code=ui(t[P],a);for(Ce=0;Ce<4;Ce++){for(pt=C[Ce],w=[],P=0,Xe=t.length,le=Xe-1;P<Xe;le=P++)je=t[P],Be=t[le],je._code&pt?Be._code&pt||(Tt=os(Be,je,pt,a,u),Tt._code=ui(Tt,a),w.push(Tt)):(Be._code&pt&&(Tt=os(Be,je,pt,a,u),Tt._code=ui(Tt,a),w.push(Tt)),w.push(je));t=w}return t}function Oi(t,a){var u,w,C,P,le,Ce,je,Be,Xe;if(!t||t.length===0)throw new Error("latlngs not passed");Ir(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var pt=z([0,0]),Tt=te(t),_n=Tt.getNorthWest().distanceTo(Tt.getSouthWest())*Tt.getNorthEast().distanceTo(Tt.getNorthWest());_n<1700&&(pt=wo(t));var Mn=t.length,Vn=[];for(u=0;u<Mn;u++){var qn=z(t[u]);Vn.push(a.project(z([qn.lat-pt.lat,qn.lng-pt.lng])))}for(Ce=je=Be=0,u=0,w=Mn-1;u<Mn;w=u++)C=Vn[u],P=Vn[w],le=C.y*P.x-P.y*C.x,je+=(C.x+P.x)*le,Be+=(C.y+P.y)*le,Ce+=le*3;Ce===0?Xe=Vn[0]:Xe=[je/Ce,Be/Ce];var ei=a.unproject(W(Xe));return z([ei.lat+pt.lat,ei.lng+pt.lng])}function wo(t){for(var a=0,u=0,w=0,C=0;C<t.length;C++){var P=z(t[C]);a+=P.lat,u+=P.lng,w++}return z([a/w,u/w])}var $l={__proto__:null,clipPolygon:Xs,polygonCenter:Oi,centroid:wo};function ln(t,a){if(!a||!t.length)return t.slice();var u=a*a;return t=xu(t,u),t=Lu(t,u),t}function Bi(t,a,u){return Math.sqrt(Ya(t,a,u,!0))}function Hl(t,a,u){return Ya(t,a,u)}function Lu(t,a){var u=t.length,w=typeof Uint8Array<"u"?Uint8Array:Array,C=new w(u);C[0]=C[u-1]=1,as(t,C,a,0,u-1);var P,le=[];for(P=0;P<u;P++)C[P]&&le.push(t[P]);return le}function as(t,a,u,w,C){var P=0,le,Ce,je;for(Ce=w+1;Ce<=C-1;Ce++)je=Ya(t[Ce],t[w],t[C],!0),je>P&&(le=Ce,P=je);P>u&&(a[le]=1,as(t,a,u,w,le),as(t,a,u,le,C))}function xu(t,a){for(var u=[t[0]],w=1,C=0,P=t.length;w<P;w++)yo(t[w],t[C])>a&&(u.push(t[w]),C=w);return C<P-1&&u.push(t[P-1]),u}var Vl;function ic(t,a,u,w,C){var P=w?Vl:ui(t,u),le=ui(a,u),Ce,je,Be;for(Vl=le;;){if(!(P|le))return[t,a];if(P&le)return!1;Ce=P||le,je=os(t,a,Ce,u,C),Be=ui(je,u),Ce===P?(t=je,P=Be):(a=je,le=Be)}}function os(t,a,u,w,C){var P=a.x-t.x,le=a.y-t.y,Ce=w.min,je=w.max,Be,Xe;return u&8?(Be=t.x+P*(je.y-t.y)/le,Xe=je.y):u&4?(Be=t.x+P*(Ce.y-t.y)/le,Xe=Ce.y):u&2?(Be=je.x,Xe=t.y+le*(je.x-t.x)/P):u&1&&(Be=Ce.x,Xe=t.y+le*(Ce.x-t.x)/P),new H(Be,Xe,C)}function ui(t,a){var u=0;return t.x<a.min.x?u|=1:t.x>a.max.x&&(u|=2),t.y<a.min.y?u|=4:t.y>a.max.y&&(u|=8),u}function yo(t,a){var u=a.x-t.x,w=a.y-t.y;return u*u+w*w}function Ya(t,a,u,w){var C=a.x,P=a.y,le=u.x-C,Ce=u.y-P,je=le*le+Ce*Ce,Be;return je>0&&(Be=((t.x-C)*le+(t.y-P)*Ce)/je,Be>1?(C=u.x,P=u.y):Be>0&&(C+=le*Be,P+=Ce*Be)),le=t.x-C,Ce=t.y-P,w?le*le+Ce*Ce:new H(C,P)}function Ir(t){return!we(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function ql(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ir(t)}function el(t,a){var u,w,C,P,le,Ce,je,Be;if(!t||t.length===0)throw new Error("latlngs not passed");Ir(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Xe=z([0,0]),pt=te(t),Tt=pt.getNorthWest().distanceTo(pt.getSouthWest())*pt.getNorthEast().distanceTo(pt.getNorthWest());Tt<1700&&(Xe=wo(t));var _n=t.length,Mn=[];for(u=0;u<_n;u++){var Vn=z(t[u]);Mn.push(a.project(z([Vn.lat-Xe.lat,Vn.lng-Xe.lng])))}for(u=0,w=0;u<_n-1;u++)w+=Mn[u].distanceTo(Mn[u+1])/2;if(w===0)Be=Mn[0];else for(u=0,P=0;u<_n-1;u++)if(le=Mn[u],Ce=Mn[u+1],C=le.distanceTo(Ce),P+=C,P>w){je=(P-w)/C,Be=[Ce.x-je*(Ce.x-le.x),Ce.y-je*(Ce.y-le.y)];break}var qn=a.unproject(W(Be));return z([qn.lat+Xe.lat,qn.lng+Xe.lng])}var tl={__proto__:null,simplify:ln,pointToSegmentDistance:Bi,closestPointOnSegment:Hl,clipSegment:ic,_getEdgeIntersection:os,_getBitCode:ui,_sqClosestPointOnSegment:Ya,isFlat:Ir,_flat:ql,polylineCenter:el},nl={project:function(t){return new H(t.lng,t.lat)},unproject:function(t){return new oe(t.y,t.x)},bounds:new B([-180,-90],[180,90])},Kl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new B([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var a=Math.PI/180,u=this.R,w=t.lat*a,C=this.R_MINOR/u,P=Math.sqrt(1-C*C),le=P*Math.sin(w),Ce=Math.tan(Math.PI/4-w/2)/Math.pow((1-le)/(1+le),P/2);return w=-u*Math.log(Math.max(Ce,1e-10)),new H(t.lng*a*u,w)},unproject:function(t){for(var a=180/Math.PI,u=this.R,w=this.R_MINOR/u,C=Math.sqrt(1-w*w),P=Math.exp(-t.y/u),le=Math.PI/2-2*Math.atan(P),Ce=0,je=.1,Be;Ce<15&&Math.abs(je)>1e-7;Ce++)Be=C*Math.sin(le),Be=Math.pow((1-Be)/(1+Be),C/2),je=Math.PI/2-2*Math.atan(P*Be)-le,le+=je;return new oe(le*a,t.x*a/u)}},Xl={__proto__:null,LonLat:nl,Mercator:Kl,SphericalMercator:ze},ef=x({},be,{code:"EPSG:3395",projection:Kl,transformation:function(){var t=.5/(Math.PI*Kl.R);return nt(t,.5,-t,.5)}()}),ac=x({},be,{code:"EPSG:4326",projection:nl,transformation:nt(1/180,1,-1/180,.5)}),oc=x({},ce,{projection:nl,transformation:nt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,a){var u=a.lng-t.lng,w=a.lat-t.lat;return Math.sqrt(u*u+w*w)},infinite:!0});ce.Earth=be,ce.EPSG3395=ef,ce.EPSG3857=De,ce.EPSG900913=$e,ce.EPSG4326=ac,ce.Simple=oc;var yn=ge.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[k(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[k(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var a=t.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var a=k(t);return this._layers[a]?this:(this._layers[a]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var a=k(t);return this._layers[a]?(this._loaded&&t.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return k(t)in this._layers},eachLayer:function(t,a){for(var u in this._layers)t.call(a,this._layers[u]);return this},_addLayers:function(t){t=t?we(t)?t:[t]:[];for(var a=0,u=t.length;a<u;a++)this.addLayer(t[a])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[k(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var a=k(t);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,a=-1/0,u=this._getZoomSpan();for(var w in this._zoomBoundLayers){var C=this._zoomBoundLayers[w].options;t=C.minZoom===void 0?t:Math.min(t,C.minZoom),a=C.maxZoom===void 0?a:Math.max(a,C.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=t===1/0?void 0:t,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var di=yn.extend({initialize:function(t,a){J(this,a),this._layers={};var u,w;if(t)for(u=0,w=t.length;u<w;u++)this.addLayer(t[u])},addLayer:function(t){var a=this.getLayerId(t);return this._layers[a]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var a=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(t){var a=typeof t=="number"?t:this.getLayerId(t);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var a=Array.prototype.slice.call(arguments,1),u,w;for(u in this._layers)w=this._layers[u],w[t]&&w[t].apply(w,a);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,a){for(var u in this._layers)t.call(a,this._layers[u]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return k(t)}}),Fi=function(t,a){return new di(t,a)},hi=di.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),di.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),di.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new de;for(var a in this._layers){var u=this._layers[a];t.extend(u.getBounds?u.getBounds():u.getLatLng())}return t}}),tf=function(t,a){return new hi(t,a)},Ga=Q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){J(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,a){var u=this._getIconUrl(t);if(!u){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var w=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(w,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),w},_setIconStyles:function(t,a){var u=this.options,w=u[a+"Size"];typeof w=="number"&&(w=[w,w]);var C=W(w),P=W(a==="shadow"&&u.shadowAnchor||u.iconAnchor||C&&C.divideBy(2,!0));t.className="leaflet-marker-"+a+" "+(u.className||""),P&&(t.style.marginLeft=-P.x+"px",t.style.marginTop=-P.y+"px"),C&&(t.style.width=C.x+"px",t.style.height=C.y+"px")},_createImg:function(t,a){return a=a||document.createElement("img"),a.src=t,a},_getIconUrl:function(t){return dt.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function sc(t){return new Ga(t)}var vo=Ga.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof vo.imagePath!="string"&&(vo.imagePath=this._detectIconPath()),(this.options.imagePath||vo.imagePath)+Ga.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var a=function(u,w,C){var P=w.exec(u);return P&&P[C]};return t=a(t,/^url\((['"])?(.+)\1\)$/,2),t&&a(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Et("div","leaflet-default-icon-path",document.body),a=qo(t,"background-image")||qo(t,"backgroundImage");if(document.body.removeChild(t),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),nf=gn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Xr(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Nt(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&sn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var a=this._marker,u=a._map,w=this._marker.options.autoPanSpeed,C=this._marker.options.autoPanPadding,P=Vr(a._icon),le=u.getPixelBounds(),Ce=u.getPixelOrigin(),je=ye(le.min._subtract(Ce).add(C),le.max._subtract(Ce).subtract(C));if(!je.contains(P)){var Be=W((Math.max(je.max.x,P.x)-je.max.x)/(le.max.x-je.max.x)-(Math.min(je.min.x,P.x)-je.min.x)/(le.min.x-je.min.x),(Math.max(je.max.y,P.y)-je.max.y)/(le.max.y-je.max.y)-(Math.min(je.min.y,P.y)-je.min.y)/(le.min.y-je.min.y)).multiplyBy(w);u.panBy(Be,{animate:!1}),this._draggable._newPos._add(Be),this._draggable._startPos._add(Be),kn(a._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=R(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=R(this._adjustPan.bind(this,t)))},_onDrag:function(t){var a=this._marker,u=a._shadow,w=Vr(a._icon),C=a._map.layerPointToLatLng(w);u&&kn(u,w),a._latlng=C,t.latlng=C,t.oldLatLng=this._oldLatLng,a.fire("move",t).fire("drag",t)},_onDragEnd:function(t){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Ui=yn.extend({options:{icon:new vo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,a){J(this,a),this._latlng=z(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var a=this._latlng;return this._latlng=z(t),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=t.icon.createIcon(this._icon),w=!1;u!==this._icon&&(this._icon&&this._removeIcon(),w=!0,t.title&&(u.title=t.title),u.tagName==="IMG"&&(u.alt=t.alt||"")),Nt(u,a),t.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Lt(u,"focus",this._panOnFocus,this);var C=t.icon.createShadow(this._shadow),P=!1;C!==this._shadow&&(this._removeShadow(),P=!0),C&&(Nt(C,a),C.alt=""),this._shadow=C,t.opacity<1&&this._updateOpacity(),w&&this.getPane().appendChild(this._icon),this._initInteraction(),C&&P&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fn(this._icon,"focus",this._panOnFocus,this),mn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&mn(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&kn(this._icon,t),this._shadow&&kn(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var a=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Nt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),nf)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new nf(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&cr(this._icon,t),this._shadow&&cr(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var a=this.options.icon.options,u=a.iconSize?W(a.iconSize):W(0,0),w=a.iconAnchor?W(a.iconAnchor):W(0,0);t.panInside(this._latlng,{paddingTopLeft:w,paddingBottomRight:u.subtract(w)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bo(t,a){return new Ui(t,a)}var ga=yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return J(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rl=ga.extend({options:{fill:!0,radius:10},initialize:function(t,a){J(this,a),this._latlng=z(t),this._radius=this.options.radius},setLatLng:function(t){var a=this._latlng;return this._latlng=z(t),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var a=t&&t.radius||this._radius;return ga.prototype.setStyle.call(this,t),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,a=this._radiusY||t,u=this._clickTolerance(),w=[t+u,a+u];this._pxBounds=new B(this._point.subtract(w),this._point.add(w))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function il(t,a){return new rl(t,a)}var ss=rl.extend({initialize:function(t,a,u){if(typeof a=="number"&&(a=x({},u,{radius:a})),J(this,a),this._latlng=z(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new de(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:ga.prototype.setStyle,_project:function(){var t=this._latlng.lng,a=this._latlng.lat,u=this._map,w=u.options.crs;if(w.distance===be.distance){var C=Math.PI/180,P=this._mRadius/be.R/C,le=u.project([a+P,t]),Ce=u.project([a-P,t]),je=le.add(Ce).divideBy(2),Be=u.unproject(je).lat,Xe=Math.acos((Math.cos(P*C)-Math.sin(a*C)*Math.sin(Be*C))/(Math.cos(a*C)*Math.cos(Be*C)))/C;(isNaN(Xe)||Xe===0)&&(Xe=P/Math.cos(Math.PI/180*a)),this._point=je.subtract(u.getPixelOrigin()),this._radius=isNaN(Xe)?0:je.x-u.project([Be,t-Xe]).x,this._radiusY=je.y-le.y}else{var pt=w.unproject(w.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint(pt).x}this._updateBounds()}});function zr(t,a,u){return new ss(t,a,u)}var nr=ga.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,a){J(this,a),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var a=1/0,u=null,w=Ya,C,P,le=0,Ce=this._parts.length;le<Ce;le++)for(var je=this._parts[le],Be=1,Xe=je.length;Be<Xe;Be++){C=je[Be-1],P=je[Be];var pt=w(t,C,P,!0);pt<a&&(a=pt,u=w(t,C,P))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return el(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,a){return a=a||this._defaultShape(),t=z(t),a.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new de,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Ir(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var a=[],u=Ir(t),w=0,C=t.length;w<C;w++)u?(a[w]=z(t[w]),this._bounds.extend(a[w])):a[w]=this._convertLatLngs(t[w]);return a},_project:function(){var t=new B;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),a=new H(t,t);this._rawPxBounds&&(this._pxBounds=new B([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(t,a,u){var w=t[0]instanceof oe,C=t.length,P,le;if(w){for(le=[],P=0;P<C;P++)le[P]=this._map.latLngToLayerPoint(t[P]),u.extend(le[P]);a.push(le)}else for(P=0;P<C;P++)this._projectLatlngs(t[P],a,u)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,w,C,P,le,Ce,je;for(u=0,C=0,P=this._rings.length;u<P;u++)for(je=this._rings[u],w=0,le=je.length;w<le-1;w++)Ce=ic(je[w],je[w+1],t,w,!0),Ce&&(a[C]=a[C]||[],a[C].push(Ce[0]),(Ce[1]!==je[w+1]||w===le-2)&&(a[C].push(Ce[1]),C++))}},_simplifyPoints:function(){for(var t=this._parts,a=this.options.smoothFactor,u=0,w=t.length;u<w;u++)t[u]=ln(t[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,a){var u,w,C,P,le,Ce,je=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(u=0,P=this._parts.length;u<P;u++)for(Ce=this._parts[u],w=0,le=Ce.length,C=le-1;w<le;C=w++)if(!(!a&&w===0)&&Bi(t,Ce[C],Ce[w])<=je)return!0;return!1}});function _u(t,a){return new nr(t,a)}nr._flat=ql;var Zi=nr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Oi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var a=nr.prototype._convertLatLngs.call(this,t),u=a.length;return u>=2&&a[0]instanceof oe&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(t){nr.prototype._setLatLngs.call(this,t),Ir(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ir(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,a=this.options.weight,u=new H(a,a);if(t=new B(t.min.subtract(u),t.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var w=0,C=this._rings.length,P;w<C;w++)P=Xs(this._rings[w],t,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var a=!1,u,w,C,P,le,Ce,je,Be;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(P=0,je=this._parts.length;P<je;P++)for(u=this._parts[P],le=0,Be=u.length,Ce=Be-1;le<Be;Ce=le++)w=u[le],C=u[Ce],w.y>t.y!=C.y>t.y&&t.x<(C.x-w.x)*(t.y-w.y)/(C.y-w.y)+w.x&&(a=!a);return a||nr.prototype._containsPoint.call(this,t,!0)}});function Mu(t,a){return new Zi(t,a)}var hr=hi.extend({initialize:function(t,a){J(this,a),this._layers={},t&&this.addData(t)},addData:function(t){var a=we(t)?t:t.features,u,w,C;if(a){for(u=0,w=a.length;u<w;u++)C=a[u],(C.geometries||C.geometry||C.features||C.coordinates)&&this.addData(C);return this}var P=this.options;if(P.filter&&!P.filter(t))return this;var le=rr(t,P);return le?(le.feature=Yi(t),le.defaultOptions=le.options,this.resetStyle(le),P.onEachFeature&&P.onEachFeature(t,le),this.addLayer(le)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=x({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(a){this._setLayerStyle(a,t)},this)},_setLayerStyle:function(t,a){t.setStyle&&(typeof a=="function"&&(a=a(t.feature)),t.setStyle(a))}});function rr(t,a){var u=t.type==="Feature"?t.geometry:t,w=u?u.coordinates:null,C=[],P=a&&a.pointToLayer,le=a&&a.coordsToLatLng||al,Ce,je,Be,Xe;if(!w&&!u)return null;switch(u.type){case"Point":return Ce=le(w),ls(P,t,Ce,a);case"MultiPoint":for(Be=0,Xe=w.length;Be<Xe;Be++)Ce=le(w[Be]),C.push(ls(P,t,Ce,a));return new hi(C);case"LineString":case"MultiLineString":return je=fs(w,u.type==="LineString"?0:1,le),new nr(je,a);case"Polygon":case"MultiPolygon":return je=fs(w,u.type==="Polygon"?1:2,le),new Zi(je,a);case"GeometryCollection":for(Be=0,Xe=u.geometries.length;Be<Xe;Be++){var pt=rr({geometry:u.geometries[Be],type:"Feature",properties:t.properties},a);pt&&C.push(pt)}return new hi(C);case"FeatureCollection":for(Be=0,Xe=u.features.length;Be<Xe;Be++){var Tt=rr(u.features[Be],a);Tt&&C.push(Tt)}return new hi(C);default:throw new Error("Invalid GeoJSON object.")}}function ls(t,a,u,w){return t?t(a,u):new Ui(u,w&&w.markersInheritOptions&&w)}function al(t){return new oe(t[1],t[0],t[2])}function fs(t,a,u){for(var w=[],C=0,P=t.length,le;C<P;C++)le=a?fs(t[C],a-1,u):(u||al)(t[C]),w.push(le);return w}function ol(t,a){return t=z(t),t.alt!==void 0?[E(t.lng,a),E(t.lat,a),E(t.alt,a)]:[E(t.lng,a),E(t.lat,a)]}function sl(t,a,u,w){for(var C=[],P=0,le=t.length;P<le;P++)C.push(a?sl(t[P],Ir(t[P])?0:a-1,u,w):ol(t[P],w));return!a&&u&&C.length>0&&C.push(C[0].slice()),C}function Lo(t,a){return t.feature?x({},t.feature,{geometry:a}):Yi(a)}function Yi(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var Le={toGeoJSON:function(t){return Lo(this,{type:"Point",coordinates:ol(this.getLatLng(),t)})}};Ui.include(Le),ss.include(Le),rl.include(Le),nr.include({toGeoJSON:function(t){var a=!Ir(this._latlngs),u=sl(this._latlngs,a?1:0,!1,t);return Lo(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),Zi.include({toGeoJSON:function(t){var a=!Ir(this._latlngs),u=a&&!Ir(this._latlngs[0]),w=sl(this._latlngs,u?2:a?1:0,!0,t);return a||(w=[w]),Lo(this,{type:(u?"Multi":"")+"Polygon",coordinates:w})}}),di.include({toMultiPoint:function(t){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(t).geometry.coordinates)}),Lo(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(t){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(t);var u=a==="GeometryCollection",w=[];return this.eachLayer(function(C){if(C.toGeoJSON){var P=C.toGeoJSON(t);if(u)w.push(P.geometry);else{var le=Yi(P);le.type==="FeatureCollection"?w.push.apply(w,le.features):w.push(le)}}}),u?Lo(this,{geometries:w,type:"GeometryCollection"}):{type:"FeatureCollection",features:w}}});function Pe(t,a){return new hr(t,a)}var Ie=Pe,Ke=yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,a,u){this._url=t,this._bounds=te(a),J(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Nt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){mn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ba(this._image),this},bringToBack:function(){return this._map&&$r(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=te(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",a=this._image=t?this._url:Et("img");if(Nt(a,"leaflet-image-layer"),this._zoomAnimated&&Nt(a,"leaflet-zoom-animated"),this.options.className&&Nt(a,this.options.className),a.onselectstart=I,a.onmousemove=I,a.onload=v(this.fire,this,"load"),a.onerror=v(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(t){var a=this._map.getZoomScale(t.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Hr(this._image,u,a)},_reset:function(){var t=this._image,a=new B(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();kn(t,a.min),t.style.width=u.x+"px",t.style.height=u.y+"px"},_updateOpacity:function(){cr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),kt=function(t,a,u){return new Ke(t,a,u)},Ht=Ke.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",a=this._image=t?this._url:Et("video");if(Nt(a,"leaflet-image-layer"),this._zoomAnimated&&Nt(a,"leaflet-zoom-animated"),this.options.className&&Nt(a,this.options.className),a.onselectstart=I,a.onmousemove=I,a.onloadeddata=v(this.fire,this,"load"),t){for(var u=a.getElementsByTagName("source"),w=[],C=0;C<u.length;C++)w.push(u[C].src);this._url=u.length>0?w:[a.src];return}we(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var le=Et("source");le.src=this._url[P],a.appendChild(le)}}});function En(t,a,u){return new Ht(t,a,u)}var rn=Ke.extend({_initImage:function(){var t=this._image=this._url;Nt(t,"leaflet-image-layer"),this._zoomAnimated&&Nt(t,"leaflet-zoom-animated"),this.options.className&&Nt(t,this.options.className),t.onselectstart=I,t.onmousemove=I}});function cs(t,a,u){return new rn(t,a,u)}var mi=yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,a){t&&(t instanceof oe||we(t))?(this._latlng=z(t),J(this,a)):(J(this,t),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&cr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&cr(this._container,1),this.bringToFront(),this.options.interactive&&(Nt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(cr(this._container,0),this._removeTimeout=setTimeout(v(mn,void 0,this._container),200)):mn(this._container),this.options.interactive&&(sn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=z(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ba(this._container),this},bringToBack:function(){return this._map&&$r(this._container),this},_prepareOpen:function(t){var a=this._source;if(!a._map)return!1;if(a instanceof hi){a=null;var u=this._source._layers;for(var w in u)if(u[w]._map){a=u[w];break}if(!a)return!1;this._source=a}if(!t)if(a.getCenter)t=a.getCenter();else if(a.getLatLng)t=a.getLatLng();else if(a.getBounds)t=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")t.innerHTML=a;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),a=W(this.options.offset),u=this._getAnchor();this._zoomAnimated?kn(this._container,t.add(u)):a=a.add(t).add(u);var w=this._containerBottom=-a.y,C=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=w+"px",this._container.style.left=C+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(t,a,u,w){var C=a;return C instanceof t||(C=new t(w).setContent(a)),u&&C.setLatLng(u),C}}),yn.include({_initOverlay:function(t,a,u,w){var C=u;return C instanceof t?(J(C,w),C._source=this):(C=a&&!w?a:new t(w,this),C.setContent(u)),C}});var mr=mi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,mi.prototype.openOn.call(this,t)},onAdd:function(t){mi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ga||this._source.on("preclick",ci))},onRemove:function(t){mi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ga||this._source.off("preclick",ci))},getEvents:function(){var t=mi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",a=this._container=Et("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=Et("div",t+"-content-wrapper",a);if(this._contentNode=Et("div",t+"-content",u),ts(a),Hs(this._contentNode),Lt(a,"contextmenu",ci),this._tipContainer=Et("div",t+"-tip-container",a),this._tip=Et("div",t+"-tip",this._tipContainer),this.options.closeButton){var w=this._closeButton=Et("a",t+"-close-button",a);w.setAttribute("role","button"),w.setAttribute("aria-label","Close popup"),w.href="#close",w.innerHTML='<span aria-hidden="true">&#215;</span>',Lt(w,"click",function(C){Ct(C),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,a=t.style;a.width="",a.whiteSpace="nowrap";var u=t.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var w=t.offsetHeight,C=this.options.maxHeight,P="leaflet-popup-scrolled";C&&w>C?(a.height=C+"px",Nt(t,P)):sn(t,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var a=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),u=this._getAnchor();kn(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,a=parseInt(qo(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,w=this._containerWidth,C=new H(this._containerLeft,-u-this._containerBottom);C._add(Vr(this._container));var P=t.layerPointToContainerPoint(C),le=W(this.options.autoPanPadding),Ce=W(this.options.autoPanPaddingTopLeft||le),je=W(this.options.autoPanPaddingBottomRight||le),Be=t.getSize(),Xe=0,pt=0;P.x+w+je.x>Be.x&&(Xe=P.x+w-Be.x+je.x),P.x-Xe-Ce.x<0&&(Xe=P.x-Ce.x),P.y+u+je.y>Be.y&&(pt=P.y+u-Be.y+je.y),P.y-pt-Ce.y<0&&(pt=P.y-Ce.y),(Xe||pt)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([Xe,pt]))}},_getAnchor:function(){return W(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Gi=function(t,a){return new mr(t,a)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(t,a,u){return this._initOverlay(mr,t,a,u).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),yn.include({bindPopup:function(t,a){return this._popup=this._initOverlay(mr,this._popup,t,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof hi||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Ot(t);var a=t.layer||t.target;if(this._popup._source===a&&!(a instanceof ga)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=a,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var xo=mi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){mi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){mi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=mi.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",a=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Et("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+k(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var a,u,w=this._map,C=this._container,P=w.latLngToContainerPoint(w.getCenter()),le=w.layerPointToContainerPoint(t),Ce=this.options.direction,je=C.offsetWidth,Be=C.offsetHeight,Xe=W(this.options.offset),pt=this._getAnchor();Ce==="top"?(a=je/2,u=Be):Ce==="bottom"?(a=je/2,u=0):Ce==="center"?(a=je/2,u=Be/2):Ce==="right"?(a=0,u=Be/2):Ce==="left"?(a=je,u=Be/2):le.x<P.x?(Ce="right",a=0,u=Be/2):(Ce="left",a=je+(Xe.x+pt.x)*2,u=Be/2),t=t.subtract(W(a,u,!0)).add(Xe).add(pt),sn(C,"leaflet-tooltip-right"),sn(C,"leaflet-tooltip-left"),sn(C,"leaflet-tooltip-top"),sn(C,"leaflet-tooltip-bottom"),Nt(C,"leaflet-tooltip-"+Ce),kn(C,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&cr(this._container,t)},_animateZoom:function(t){var a=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(a)},_getAnchor:function(){return W(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),pi=function(t,a){return new xo(t,a)};Zt.include({openTooltip:function(t,a,u){return this._initOverlay(xo,t,a,u).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),yn.include({bindTooltip:function(t,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xo,this._tooltip,t,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var a=t?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof hi||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var a=typeof t.getElement=="function"&&t.getElement();a&&(Lt(a,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Lt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var a=typeof t.getElement=="function"&&t.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var a=t.latlng,u,w;this._tooltip.options.sticky&&t.originalEvent&&(u=this._map.mouseEventToContainerPoint(t.originalEvent),w=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(w)),this._tooltip.setLatLng(a)}});var Qa=Ga.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var a=t&&t.tagName==="DIV"?t:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Ko(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var w=W(u.bgPos);a.style.backgroundPosition=-w.x+"px "+-w.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function us(t){return new Qa(t)}Ga.Default=vo;var Bt=yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:dt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){J(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),mn(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ba(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&($r(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=S(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof H?t:new H(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var a=this.getPane().children,u=-t(-1/0,1/0),w=0,C=a.length,P;w<C;w++)P=a[w].style.zIndex,a[w]!==this._container&&P&&(u=t(u,+P));isFinite(u)&&(this.options.zIndex=u+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!dt.ielt9){cr(this._container,this.options.opacity);var t=+new Date,a=!1,u=!1;for(var w in this._tiles){var C=this._tiles[w];if(!(!C.current||!C.loaded)){var P=Math.min(1,(t-C.loaded)/200);cr(C.el,P),P<1?a=!0:(C.active?u=!0:this._onOpaqueTile(C),C.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(F(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=Et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,a=this.options.maxZoom;if(t!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===t?(this._levels[u].el.style.zIndex=a-Math.abs(t-u),this._onUpdateLevel(u)):(mn(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var w=this._levels[t],C=this._map;return w||(w=this._levels[t]={},w.el=Et("div","leaflet-tile-container leaflet-zoom-animated",this._container),w.el.style.zIndex=a,w.origin=C.project(C.unproject(C.getPixelOrigin()),t).round(),w.zoom=t,this._setZoomTransform(w,C.getCenter(),C.getZoom()),I(w.el.offsetWidth),this._onCreateLevel(w)),this._level=w,w}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var t,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)a=this._tiles[t],a.retain=a.current;for(t in this._tiles)if(a=this._tiles[t],a.current&&!a.active){var w=a.coords;this._retainParent(w.x,w.y,w.z,w.z-5)||this._retainChildren(w.x,w.y,w.z,w.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var a in this._tiles)this._tiles[a].coords.z===t&&this._removeTile(a)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)mn(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,a,u,w){var C=Math.floor(t/2),P=Math.floor(a/2),le=u-1,Ce=new H(+C,+P);Ce.z=+le;var je=this._tileCoordsToKey(Ce),Be=this._tiles[je];return Be&&Be.active?(Be.retain=!0,!0):(Be&&Be.loaded&&(Be.retain=!0),le>w?this._retainParent(C,P,le,w):!1)},_retainChildren:function(t,a,u,w){for(var C=2*t;C<2*t+2;C++)for(var P=2*a;P<2*a+2;P++){var le=new H(C,P);le.z=u+1;var Ce=this._tileCoordsToKey(le),je=this._tiles[Ce];if(je&&je.active){je.retain=!0;continue}else je&&je.loaded&&(je.retain=!0);u+1<w&&this._retainChildren(C,P,u+1,w)}},_resetView:function(t){var a=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var a=this.options;return a.minNativeZoom!==void 0&&t<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<t?a.maxNativeZoom:t},_setView:function(t,a,u,w){var C=Math.round(a);this.options.maxZoom!==void 0&&C>this.options.maxZoom||this.options.minZoom!==void 0&&C<this.options.minZoom?C=void 0:C=this._clampZoom(C);var P=this.options.updateWhenZooming&&C!==this._tileZoom;(!w||P)&&(this._tileZoom=C,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),C!==void 0&&this._update(t),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(t,a)},_setZoomTransforms:function(t,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],t,a)},_setZoomTransform:function(t,a,u){var w=this._map.getZoomScale(u,t.zoom),C=t.origin.multiplyBy(w).subtract(this._map._getNewPixelOrigin(a,u)).round();dt.any3d?Hr(t.el,C,w):kn(t.el,C)},_resetGrid:function(){var t=this._map,a=t.options.crs,u=this._tileSize=this.getTileSize(),w=this._tileZoom,C=this._map.getPixelWorldBounds(this._tileZoom);C&&(this._globalTileRange=this._pxBoundsToTileRange(C)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,a.wrapLng[0]],w).x/u.x),Math.ceil(t.project([0,a.wrapLng[1]],w).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([a.wrapLat[0],0],w).y/u.x),Math.ceil(t.project([a.wrapLat[1],0],w).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),w=a.getZoomScale(u,this._tileZoom),C=a.project(t,this._tileZoom).floor(),P=a.getSize().divideBy(w*2);return new B(C.subtract(P),C.add(P))},_update:function(t){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(t===void 0&&(t=a.getCenter()),this._tileZoom!==void 0){var w=this._getTiledPixelBounds(t),C=this._pxBoundsToTileRange(w),P=C.getCenter(),le=[],Ce=this.options.keepBuffer,je=new B(C.getBottomLeft().subtract([Ce,-Ce]),C.getTopRight().add([Ce,-Ce]));if(!(isFinite(C.min.x)&&isFinite(C.min.y)&&isFinite(C.max.x)&&isFinite(C.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Be in this._tiles){var Xe=this._tiles[Be].coords;(Xe.z!==this._tileZoom||!je.contains(new H(Xe.x,Xe.y)))&&(this._tiles[Be].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(t,u);return}for(var pt=C.min.y;pt<=C.max.y;pt++)for(var Tt=C.min.x;Tt<=C.max.x;Tt++){var _n=new H(Tt,pt);if(_n.z=this._tileZoom,!!this._isValidTile(_n)){var Mn=this._tiles[this._tileCoordsToKey(_n)];Mn?Mn.current=!0:le.push(_n)}}if(le.sort(function(qn,ei){return qn.distanceTo(P)-ei.distanceTo(P)}),le.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Vn=document.createDocumentFragment();for(Tt=0;Tt<le.length;Tt++)this._addTile(le[Tt],Vn);this._level.el.appendChild(Vn)}}}},_isValidTile:function(t){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(t.x<u.min.x||t.x>u.max.x)||!a.wrapLat&&(t.y<u.min.y||t.y>u.max.y))return!1}if(!this.options.bounds)return!0;var w=this._tileCoordsToBounds(t);return te(this.options.bounds).overlaps(w)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var a=this._map,u=this.getTileSize(),w=t.scaleBy(u),C=w.add(u),P=a.unproject(w,t.z),le=a.unproject(C,t.z);return[P,le]},_tileCoordsToBounds:function(t){var a=this._tileCoordsToNwSe(t),u=new de(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var a=t.split(":"),u=new H(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(t){var a=this._tiles[t];a&&(mn(a.el),delete this._tiles[t],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Nt(t,"leaflet-tile");var a=this.getTileSize();t.style.width=a.x+"px",t.style.height=a.y+"px",t.onselectstart=I,t.onmousemove=I,dt.ielt9&&this.options.opacity<1&&cr(t,this.options.opacity)},_addTile:function(t,a){var u=this._getTilePos(t),w=this._tileCoordsToKey(t),C=this.createTile(this._wrapCoords(t),v(this._tileReady,this,t));this._initTile(C),this.createTile.length<2&&R(v(this._tileReady,this,t,null,C)),kn(C,u),this._tiles[w]={el:C,coords:t,current:!0},a.appendChild(C),this.fire("tileloadstart",{tile:C,coords:t})},_tileReady:function(t,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:t});var w=this._tileCoordsToKey(t);u=this._tiles[w],u&&(u.loaded=+new Date,this._map._fadeAnimated?(cr(u.el,0),F(this._fadeFrame),this._fadeFrame=R(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(Nt(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),dt.ielt9||!this._map._fadeAnimated?R(this._pruneTiles,this):setTimeout(v(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var a=new H(this._wrapX?A(t.x,this._wrapX):t.x,this._wrapY?A(t.y,this._wrapY):t.y);return a.z=t.z,a},_pxBoundsToTileRange:function(t){var a=this.getTileSize();return new B(t.min.unscaleBy(a).floor(),t.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function _o(t){return new Bt(t)}var Qi=Bt.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,a){this._url=t,a=J(this,a),a.detectRetina&&dt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,a){return this._url===t&&a===void 0&&(a=!0),this._url=t,a||this.redraw(),this},createTile:function(t,a){var u=document.createElement("img");return Lt(u,"load",v(this._tileOnLoad,this,a,u)),Lt(u,"error",v(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(t),u},getTileUrl:function(t){var a={r:dt.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-t.y;this.options.tms&&(a.y=u),a["-y"]=u}return re(this._url,x(a,this.options))},_tileOnLoad:function(t,a){dt.ielt9?setTimeout(v(t,this,null,a),0):t(null,a)},_tileOnError:function(t,a,u){var w=this.options.errorTileUrl;w&&a.getAttribute("src")!==w&&(a.src=w),t(u,a)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,w=this.options.zoomOffset;return u&&(t=a-t),t+w},_getSubdomain:function(t){var a=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var t,a;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(a=this._tiles[t].el,a.onload=I,a.onerror=I,!a.complete)){a.src=fe;var u=this._tiles[t].coords;mn(a),delete this._tiles[t],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(t){var a=this._tiles[t];if(a)return a.el.setAttribute("src",fe),Bt.prototype._removeTile.call(this,t)},_tileReady:function(t,a,u){if(!(!this._map||u&&u.getAttribute("src")===fe))return Bt.prototype._tileReady.call(this,t,a,u)}});function Mo(t,a){return new Qi(t,a)}var ds=Qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,a){this._url=t;var u=x({},this.defaultWmsParams);for(var w in a)w in this.options||(u[w]=a[w]);a=J(this,a);var C=a.detectRetina&&dt.retina?2:1,P=this.getTileSize();u.width=P.x*C,u.height=P.y*C,this.wmsParams=u},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Qi.prototype.onAdd.call(this,t)},getTileUrl:function(t){var a=this._tileCoordsToNwSe(t),u=this._crs,w=ye(u.project(a[0]),u.project(a[1])),C=w.min,P=w.max,le=(this._wmsVersion>=1.3&&this._crs===ac?[C.y,C.x,P.y,P.x]:[C.x,C.y,P.x,P.y]).join(","),Ce=Qi.prototype.getTileUrl.call(this,t);return Ce+$(this.wmsParams,Ce,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+le},setParams:function(t,a){return x(this.wmsParams,t),a||this.redraw(),this}});function lc(t,a){return new ds(t,a)}Qi.WMS=ds,Mo.wms=lc;var gi=yn.extend({options:{padding:.1},initialize:function(t){J(this,t),k(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Nt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,a){var u=this._map.getZoomScale(a,this._zoom),w=this._map.getSize().multiplyBy(.5+this.options.padding),C=this._map.project(this._center,a),P=w.multiplyBy(-u).add(C).subtract(this._map._getNewPixelOrigin(t,a));dt.any3d?Hr(this._container,P,u):kn(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-t)).round();this._bounds=new B(u,u.add(a.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),No=gi.extend({options:{tolerance:0},getEvents:function(){var t=gi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Lt(t,"mousemove",this._onMouseMove,this),Lt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Lt(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,mn(this._container),fn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var a in this._layers)t=this._layers[a],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gi.prototype._update.call(this);var t=this._bounds,a=this._container,u=t.getSize(),w=dt.retina?2:1;kn(a,t.min),a.width=w*u.x,a.height=w*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",dt.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[k(t)]=t;var a=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var a=t._order,u=a.next,w=a.prev;u?u.prev=w:this._drawLast=w,w?w.next=u:this._drawFirst=u,delete t._order,delete this._layers[k(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var a=t.options.dashArray.split(/[, ]+/),u=[],w,C;for(C=0;C<a.length;C++){if(w=Number(a[C]),isNaN(w))return;u.push(w)}t.options._dashArray=u}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||R(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var a=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new B,this._redrawBounds.extend(t._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(t._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var a=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var w=this._drawFirst;w;w=w.next)t=w.layer,(!a||t._pxBounds&&t._pxBounds.intersects(a))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,a){if(this._drawing){var u,w,C,P,le=t._parts,Ce=le.length,je=this._ctx;if(Ce){for(je.beginPath(),u=0;u<Ce;u++){for(w=0,C=le[u].length;w<C;w++)P=le[u][w],je[w?"lineTo":"moveTo"](P.x,P.y);a&&je.closePath()}this._fillStroke(je,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var a=t._point,u=this._ctx,w=Math.max(Math.round(t._radius),1),C=(Math.max(Math.round(t._radiusY),1)||w)/w;C!==1&&(u.save(),u.scale(1,C)),u.beginPath(),u.arc(a.x,a.y/C,w,0,Math.PI*2,!1),C!==1&&u.restore(),this._fillStroke(u,t)}},_fillStroke:function(t,a){var u=a.options;u.fill&&(t.globalAlpha=u.fillOpacity,t.fillStyle=u.fillColor||u.color,t.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(t.setLineDash&&t.setLineDash(a.options&&a.options._dashArray||[]),t.globalAlpha=u.opacity,t.lineWidth=u.weight,t.strokeStyle=u.color,t.lineCap=u.lineCap,t.lineJoin=u.lineJoin,t.stroke())},_onClick:function(t){for(var a=this._map.mouseEventToLayerPoint(t),u,w,C=this._drawFirst;C;C=C.next)u=C.layer,u.options.interactive&&u._containsPoint(a)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(u))&&(w=u);this._fireEvent(w?[w]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,a)}},_handleMouseOut:function(t){var a=this._hoveredLayer;a&&(sn(this._container,"leaflet-interactive"),this._fireEvent([a],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,a){if(!this._mouseHoverThrottled){for(var u,w,C=this._drawFirst;C;C=C.next)u=C.layer,u.options.interactive&&u._containsPoint(a)&&(w=u);w!==this._hoveredLayer&&(this._handleMouseOut(t),w&&(Nt(this._container,"leaflet-interactive"),this._fireEvent([w],t,"mouseover"),this._hoveredLayer=w)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(v(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,a,u){this._map._fireDOMEvent(a,u||a.type,t)},_bringToFront:function(t){var a=t._order;if(a){var u=a.next,w=a.prev;if(u)u.prev=w;else return;w?w.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(t)}},_bringToBack:function(t){var a=t._order;if(a){var u=a.next,w=a.prev;if(w)w.next=u;else return;u?u.prev=w:w&&(this._drawLast=w),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(t)}}});function wi(t){return dt.canvas?new No(t):null}var Wi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),rf={_initContainer:function(){this._container=Et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var a=t._container=Wi("shape");Nt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",t._path=Wi("path"),a.appendChild(t._path),this._updateStyle(t),this._layers[k(t)]=t},_addPath:function(t){var a=t._container;this._container.appendChild(a),t.options.interactive&&t.addInteractiveTarget(a)},_removePath:function(t){var a=t._container;mn(a),t.removeInteractiveTarget(a),delete this._layers[k(t)]},_updateStyle:function(t){var a=t._stroke,u=t._fill,w=t.options,C=t._container;C.stroked=!!w.stroke,C.filled=!!w.fill,w.stroke?(a||(a=t._stroke=Wi("stroke")),C.appendChild(a),a.weight=w.weight+"px",a.color=w.color,a.opacity=w.opacity,w.dashArray?a.dashStyle=we(w.dashArray)?w.dashArray.join(" "):w.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=w.lineCap.replace("butt","flat"),a.joinstyle=w.lineJoin):a&&(C.removeChild(a),t._stroke=null),w.fill?(u||(u=t._fill=Wi("fill")),C.appendChild(u),u.color=w.fillColor||w.color,u.opacity=w.fillOpacity):u&&(C.removeChild(u),t._fill=null)},_updateCircle:function(t){var a=t._point.round(),u=Math.round(t._radius),w=Math.round(t._radiusY||u);this._setPath(t,t._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+w+" 0,"+65535*360)},_setPath:function(t,a){t._path.v=a},_bringToFront:function(t){Ba(t._container)},_bringToBack:function(t){$r(t._container)}},xr=dt.vml?Wi:We,wa=gi.extend({_initContainer:function(){this._container=xr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=xr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){mn(this._container),fn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gi.prototype._update.call(this);var t=this._bounds,a=t.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),kn(u,t.min),u.setAttribute("viewBox",[t.min.x,t.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(t){var a=t._path=xr("path");t.options.className&&Nt(a,t.options.className),t.options.interactive&&Nt(a,"leaflet-interactive"),this._updateStyle(t),this._layers[k(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){mn(t._path),t.removeInteractiveTarget(t._path),delete this._layers[k(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var a=t._path,u=t.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(t,a){this._setPath(t,et(t._parts,a))},_updateCircle:function(t){var a=t._point,u=Math.max(Math.round(t._radius),1),w=Math.max(Math.round(t._radiusY),1)||u,C="a"+u+","+w+" 0 1,0 ",P=t._empty()?"M0 0":"M"+(a.x-u)+","+a.y+C+u*2+",0 "+C+-u*2+",0 ";this._setPath(t,P)},_setPath:function(t,a){t._path.setAttribute("d",a)},_bringToFront:function(t){Ba(t._path)},_bringToBack:function(t){$r(t._path)}});dt.vml&&wa.include(rf);function hs(t){return dt.svg||dt.vml?new wa(t):null}Zt.include({getRenderer:function(t){var a=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var a=this._paneRenderers[t];return a===void 0&&(a=this._createRenderer({pane:t}),this._paneRenderers[t]=a),a},_createRenderer:function(t){return this.options.preferCanvas&&wi(t)||hs(t)}});var ms=Zi.extend({initialize:function(t,a){Zi.prototype.initialize.call(this,this._boundsToLatLngs(t),a)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=te(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function fc(t,a){return new ms(t,a)}wa.create=xr,wa.pointsToPath=et,hr.geometryToLayer=rr,hr.coordsToLatLng=al,hr.coordsToLatLngs=fs,hr.latLngToCoords=ol,hr.latLngsToCoords=sl,hr.getFeature=Lo,hr.asFeature=Yi,Zt.mergeOptions({boxZoom:!0});var yi=gn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Lt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){mn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ut(),Js(),this._startPoint=this._map.mouseEventToContainerPoint(t),Lt(document,{contextmenu:Ot,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Et("div","leaflet-zoom-box",this._container),Nt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var a=new B(this._point,this._startPoint),u=a.getSize();kn(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(mn(this._box),sn(this._container,"leaflet-crosshair")),qr(),es(),fn(document,{contextmenu:Ot,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(v(this._resetState,this),0);var a=new de(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",yi),Zt.mergeOptions({doubleClickZoom:!0});var ya=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var a=this._map,u=a.getZoom(),w=a.options.zoomDelta,C=t.originalEvent.shiftKey?u-w:u+w;a.options.doubleClickZoom==="center"?a.setZoom(C):a.setZoomAround(t.containerPoint,C)}});Zt.addInitHook("addHandler","doubleClickZoom",ya),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Co=gn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Xr(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Nt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){sn(this._map._container,"leaflet-grab"),sn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=te(this._map.options.maxBounds);this._offsetLimit=ye(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,a){return t-(t-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;t.x<a.min.x&&(t.x=this._viscousLimit(t.x,a.min.x)),t.y<a.min.y&&(t.y=this._viscousLimit(t.y,a.min.y)),t.x>a.max.x&&(t.x=this._viscousLimit(t.x,a.max.x)),t.y>a.max.y&&(t.y=this._viscousLimit(t.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,a=Math.round(t/2),u=this._initialWorldOffset,w=this._draggable._newPos.x,C=(w-a+u)%t+a-u,P=(w+a+u)%t-a-u,le=Math.abs(C+u)<Math.abs(P+u)?C:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=le},_onDragEnd:function(t){var a=this._map,u=a.options,w=!u.inertia||t.noInertia||this._times.length<2;if(a.fire("dragend",t),w)a.fire("moveend");else{this._prunePositions(+new Date);var C=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,le=u.easeLinearity,Ce=C.multiplyBy(le/P),je=Ce.distanceTo([0,0]),Be=Math.min(u.inertiaMaxSpeed,je),Xe=Ce.multiplyBy(Be/je),pt=Be/(u.inertiaDeceleration*le),Tt=Xe.multiplyBy(-pt/2).round();!Tt.x&&!Tt.y?a.fire("moveend"):(Tt=a._limitOffset(Tt,a.options.maxBounds),R(function(){a.panBy(Tt,{duration:pt,easeLinearity:le,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",Co),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var af=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Lt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,a=document.documentElement,u=t.scrollTop||a.scrollTop,w=t.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(w,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var a=this._panKeys={},u=this.keyCodes,w,C;for(w=0,C=u.left.length;w<C;w++)a[u.left[w]]=[-1*t,0];for(w=0,C=u.right.length;w<C;w++)a[u.right[w]]=[t,0];for(w=0,C=u.down.length;w<C;w++)a[u.down[w]]=[0,t];for(w=0,C=u.up.length;w<C;w++)a[u.up[w]]=[0,-1*t]},_setZoomDelta:function(t){var a=this._zoomKeys={},u=this.keyCodes,w,C;for(w=0,C=u.zoomIn.length;w<C;w++)a[u.zoomIn[w]]=t;for(w=0,C=u.zoomOut.length;w<C;w++)a[u.zoomOut[w]]=-t},_addHooks:function(){Lt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var a=t.keyCode,u=this._map,w;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(w=this._panKeys[a],t.shiftKey&&(w=W(w).multiplyBy(3)),u.options.maxBounds&&(w=u._limitOffset(W(w),u.options.maxBounds)),u.options.worldCopyJump){var C=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(w)));u.panTo(C)}else u.panBy(w)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;Ot(t)}}});Zt.addInitHook("addHandler","keyboard",af),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cn=gn.extend({addHooks:function(){Lt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var a=nc(t),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var w=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(v(this._performZoom,this),w),Ot(t)},_performZoom:function(){var t=this._map,a=t.getZoom(),u=this._map.options.zoomSnap||0;t._stop();var w=this._delta/(this._map.options.wheelPxPerZoomLevel*4),C=4*Math.log(2/(1+Math.exp(-Math.abs(w))))/Math.LN2,P=u?Math.ceil(C/u)*u:C,le=t._limitZoom(a+(this._delta>0?P:-P))-a;this._delta=0,this._startTime=null,le&&(t.options.scrollWheelZoom==="center"?t.setZoom(a+le):t.setZoomAround(this._lastMousePos,a+le))}});Zt.addInitHook("addHandler","scrollWheelZoom",cn);var of=600;Zt.mergeOptions({tapHold:dt.touchNative&&dt.safari&&dt.mobile,tapTolerance:15});var va=gn.extend({addHooks:function(){Lt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var a=t.touches[0];this._startPos=this._newPos=new H(a.clientX,a.clientY),this._holdTimeout=setTimeout(v(function(){this._cancel(),this._isTapValid()&&(Lt(document,"touchend",Ct),Lt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),of),Lt(document,"touchend touchcancel contextmenu",this._cancel,this),Lt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){fn(document,"touchend",Ct),fn(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),fn(document,"touchend touchcancel contextmenu",this._cancel,this),fn(document,"touchmove",this._onMove,this)},_onMove:function(t){var a=t.touches[0];this._newPos=new H(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,a){var u=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});Zt.addInitHook("addHandler","tapHold",va),Zt.mergeOptions({touchZoom:dt.touch,bounceAtZoomLimits:!0});var Ji=gn.extend({addHooks:function(){Nt(this._map._container,"leaflet-touch-zoom"),Lt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){sn(this._map._container,"leaflet-touch-zoom"),fn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var a=this._map;if(!(!t.touches||t.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(t.touches[0]),w=a.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(w)._divideBy(2))),this._startDist=u.distanceTo(w),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Lt(document,"touchmove",this._onTouchMove,this),Lt(document,"touchend touchcancel",this._onTouchEnd,this),Ct(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(t.touches[0]),w=a.mouseEventToContainerPoint(t.touches[1]),C=u.distanceTo(w)/this._startDist;if(this._zoom=a.getScaleZoom(C,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&C<1||this._zoom>a.getMaxZoom()&&C>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,C===1)return}else{var P=u._add(w)._divideBy(2)._subtract(this._centerPoint);if(C===1&&P.x===0&&P.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var le=v(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=R(le,this,!0),Ct(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),fn(document,"touchmove",this._onTouchMove,this),fn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",Ji),Zt.BoxZoom=yi,Zt.DoubleClickZoom=ya,Zt.Drag=Co,Zt.Keyboard=af,Zt.ScrollWheelZoom=cn,Zt.TapHold=va,Zt.TouchZoom=Ji,l.Bounds=B,l.Browser=dt,l.CRS=ce,l.Canvas=No,l.Circle=ss,l.CircleMarker=rl,l.Class=Q,l.Control=ur,l.DivIcon=Qa,l.DivOverlay=mi,l.DomEvent=Vs,l.DomUtil=po,l.Draggable=Xr,l.Evented=ge,l.FeatureGroup=hi,l.GeoJSON=hr,l.GridLayer=Bt,l.Handler=gn,l.Icon=Ga,l.ImageOverlay=Ke,l.LatLng=oe,l.LatLngBounds=de,l.Layer=yn,l.LayerGroup=di,l.LineUtil=tl,l.Map=Zt,l.Marker=Ui,l.Mixin=Jl,l.Path=ga,l.Point=H,l.PolyUtil=$l,l.Polygon=Zi,l.Polyline=nr,l.Popup=mr,l.PosAnimation=is,l.Projection=Xl,l.Rectangle=ms,l.Renderer=gi,l.SVG=wa,l.SVGOverlay=rn,l.TileLayer=Qi,l.Tooltip=xo,l.Transformation=He,l.Util=ie,l.VideoOverlay=Ht,l.bind=v,l.bounds=ye,l.canvas=wi,l.circle=zr,l.circleMarker=il,l.control=Lr,l.divIcon=us,l.extend=x,l.featureGroup=tf,l.geoJSON=Pe,l.geoJson=Ie,l.gridLayer=_o,l.icon=sc,l.imageOverlay=kt,l.latLng=z,l.latLngBounds=te,l.layerGroup=Fi,l.map=pn,l.marker=bo,l.point=W,l.polygon=Mu,l.polyline=_u,l.popup=Gi,l.rectangle=fc,l.setOptions=J,l.stamp=k,l.svg=hs,l.svgOverlay=cs,l.tileLayer=Mo,l.tooltip=pi,l.transformation=nt,l.version=g,l.videoOverlay=En;var ll=window.L;l.noConflict=function(){return window.L=ll,this},window.L=l})}(Cd,Cd.exports)),Cd.exports}var C0=Nx();const jl=zd(C0);function ew(n,c,l){return Object.freeze({instance:n,context:c,container:l})}function tw(n,c){return c==null?function(g,x){const h=b.useRef();return h.current||(h.current=n(g,x)),h}:function(g,x){const h=b.useRef();h.current||(h.current=n(g,x));const v=b.useRef(g),{instance:_}=h.current;return b.useEffect(function(){v.current!==g&&(c(_,g,v.current),v.current=g)},[_,g,x]),h}}function Cx(n,c){b.useEffect(function(){return(c.layerContainer??c.map).addLayer(n.instance),function(){var h;(h=c.layerContainer)==null||h.removeLayer(n.instance),c.map.removeLayer(n.instance)}},[c,n])}function nw(n){return function(l){const g=Kg(),x=n(Xg(l,g),g);return wx(g.map,l.attribution),_x(x.current,l.eventHandlers),Cx(x.current,g),x}}function kx(n,c){const l=tw(n,c),g=nw(l);return Lx(g)}function Sx(n,c){const l=tw(n,c),g=nw(l);return xx(g)}function Ix(n,c,l){const{opacity:g,zIndex:x}=c;g!=null&&g!==l.opacity&&n.setOpacity(g),x!=null&&x!==l.zIndex&&n.setZIndex(x)}function i1(){return Kg().map}function jx(n){const c=i1();return b.useEffect(function(){return c.on(n),function(){c.off(n)}},[c,n]),c}function Ex({bounds:n,boundsOptions:c,center:l,children:g,className:x,id:h,placeholder:v,style:_,whenReady:k,zoom:S,...A},I){const[E]=b.useState({className:x,id:h,style:_}),[j,Z]=b.useState(null);b.useImperativeHandle(I,()=>(j==null?void 0:j.map)??null,[j]);const J=b.useCallback(V=>{if(V!==null&&j===null){const re=new C0.Map(V,A);l!=null&&S!=null?re.setView(l,S):n!=null&&re.fitBounds(n,c),k!=null&&re.whenReady(k),Z(vx(re))}},[]);return b.useEffect(()=>()=>{j==null||j.map.remove()},[j]),o("div",{...E,ref:J,children:j?o(qg,{value:j,children:g}):v??null})}const Tx=b.forwardRef(Ex),Lm=kx(function({position:c,...l},g){const x=new C0.Marker(c,l);return ew(x,bx(g,{overlayContainer:x}))},function(c,l,g){l.position!==g.position&&c.setLatLng(l.position),l.icon!=null&&l.icon!==g.icon&&c.setIcon(l.icon),l.zIndexOffset!=null&&l.zIndexOffset!==g.zIndexOffset&&c.setZIndexOffset(l.zIndexOffset),l.opacity!=null&&l.opacity!==g.opacity&&c.setOpacity(l.opacity),c.dragging!=null&&l.draggable!==g.draggable&&(l.draggable===!0?c.dragging.enable():c.dragging.disable())}),Ax=Sx(function({url:c,...l},g){const x=new C0.TileLayer(c,Xg(l,g));return ew(x,g)},function(c,l,g){Ix(c,l,g);const{url:x}=l;x!=null&&x!==g.url&&c.setUrl(x)}),Dx=({data:n,type:c,onClose:l,onViewReview:g,onSelectEstablishment:x})=>{if(!n)return null;const h=k=>{const S=encodeURIComponent(k);window.open(`https://www.google.com/maps/dir/?api=1&destination=${S}`,"_blank")},v=()=>{switch(c){case"establishment":return p("div",{className:"space-y-5",children:[p("div",{children:[o("h2",{className:"text-2xl font-bold mb-1",children:n.beefery}),o("p",{className:"text-muted-foreground",children:n.location})]}),p("div",{className:"flex items-center space-x-3",children:[p("div",{className:"bg-primary text-white rounded-full px-3 py-1 flex items-center",children:[o("span",{className:"text-xl font-bold mr-1",children:n.avgRating.toFixed(1)}),o(Bn,{className:"h-5 w-5 fill-current"})]}),p("span",{className:"text-muted-foreground",children:[n.reviewCount," ",n.reviewCount===1?"review":"reviews"]})]}),p("div",{className:"pt-4 border-t border-border space-y-3",children:[p("button",{onClick:()=>h(n.location),className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o(e0,{className:"h-5 w-5 mr-2"}),"Get Directions"]}),p("button",{onClick:()=>g(n.reviews[0]),className:"w-full flex items-center justify-center px-6 py-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:[o(Bn,{className:"h-5 w-5 mr-2"}),"View Latest Review"]})]})]});case"poi":return p("div",{className:"space-y-5",children:[p("div",{children:[o("div",{className:"bg-blue-500/10 text-blue-500 px-2 py-1 rounded text-sm inline-block mb-2",children:"Point of Interest"}),o("h2",{className:"text-2xl font-bold mb-1",children:n.name}),o("p",{className:"text-muted-foreground",children:n.location})]}),n.notes&&o("div",{className:"bg-secondary p-4 rounded-lg",children:o("p",{className:"text-foreground whitespace-pre-line",children:n.notes})}),o("div",{className:"pt-4 border-t border-border",children:p("button",{onClick:()=>h(n.location),className:"w-full flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[o(e0,{className:"h-5 w-5 mr-2"}),"Get Directions"]})})]});case"cluster":const k=n,S=k.reduce((E,j)=>E+j.reviewCount,0),A=k.reduce((E,j)=>E+j.avgRating*j.reviewCount,0),I=S>0?A/S:0;return p("div",{className:"space-y-5",children:[p("div",{className:"flex items-center justify-between",children:[o("h2",{className:"text-2xl font-bold",children:p("span",{className:"flex items-center",children:[o($v,{className:"h-5 w-5 mr-2 text-primary"}),k.length," ",k.length===1?"Location":"Locations"," Nearby"]})}),S>0&&p("div",{className:"bg-primary text-white rounded-full px-3 py-1 flex items-center",children:[o("span",{className:"text-xl font-bold mr-1",children:I.toFixed(1)}),o(Bn,{className:"h-5 w-5 fill-current"})]})]}),o("div",{className:"pt-4 border-t border-border",children:o("div",{className:"space-y-4",children:k.map((E,j)=>p("div",{className:"p-3 hover:bg-secondary/50 rounded-lg transition-colors cursor-pointer",onClick:()=>x(E),children:[p("div",{className:"flex justify-between items-start",children:[p("div",{className:"flex-1",children:[o("h3",{className:"text-lg font-semibold",children:E.beefery}),o("p",{className:"text-sm text-muted-foreground",children:E.location})]}),p("div",{className:"flex flex-col items-end ml-4",children:[p("div",{className:"flex items-center",children:[o("span",{className:"text-lg font-bold text-primary mr-1",children:E.avgRating.toFixed(1)}),o(Bn,{className:"h-5 w-5 text-yellow-400 fill-current"})]}),p("span",{className:"text-sm text-muted-foreground",children:[E.reviewCount," ",E.reviewCount===1?"review":"reviews"]})]})]}),j<k.length-1&&o("div",{className:"border-b border-border mt-3"})]},E.id||j))})})]});default:return o("p",{children:"Unknown modal type"})}};return o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:`w-full ${c==="cluster"?"max-w-lg":"max-w-md"} bg-card p-6 relative ${c==="cluster"?"max-h-[80vh] overflow-y-auto":""}`,children:[o("button",{onClick:l,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full",children:o(Yt,{className:"w-5 h-5"})}),v()]})})};var kd={exports:{}},Px=kd.exports,fp;function zx(){return fp||(fp=1,function(n,c){(function(l,g){g(c)})(Px,function(l){var g=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(h){L.Util.setOptions(this,h),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var v=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,v?this._withAnimation:this._noAnimation),this._markerCluster=v?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(h){if(h instanceof L.LayerGroup)return this.addLayers([h]);if(!h.getLatLng)return this._nonPointGroup.addLayer(h),this.fire("layeradd",{layer:h}),this;if(!this._map)return this._needsClustering.push(h),this.fire("layeradd",{layer:h}),this;if(this.hasLayer(h))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(h,this._maxZoom),this.fire("layeradd",{layer:h}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var v=h,_=this._zoom;if(h.__parent)for(;v.__parent._zoom>=_;)v=v.__parent;return this._currentShownBounds.contains(v.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(h,v):this._animationAddLayerNonAnimated(h,v)),this},removeLayer:function(h){return h instanceof L.LayerGroup?this.removeLayers([h]):h.getLatLng?this._map?h.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(h)),this._removeLayer(h,!0),this.fire("layerremove",{layer:h}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),h.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(h)&&(this._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,h)&&this.hasLayer(h)&&this._needsRemoving.push({layer:h,latlng:h._latlng}),this.fire("layerremove",{layer:h}),this):(this._nonPointGroup.removeLayer(h),this.fire("layerremove",{layer:h}),this)},addLayers:function(h,v){if(!L.Util.isArray(h))return this.addLayer(h);var _=this._featureGroup,k=this._nonPointGroup,S=this.options.chunkedLoading,A=this.options.chunkInterval,I=this.options.chunkProgress,E=h.length,j=0,Z=!0,J;if(this._map){var $=new Date().getTime(),V=L.bind(function(){var we=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();j<E;j++){if(S&&j%200===0){var xe=new Date().getTime()-we;if(xe>A)break}if(J=h[j],J instanceof L.LayerGroup){Z&&(h=h.slice(),Z=!1),this._extractNonGroupLayers(J,h),E=h.length;continue}if(!J.getLatLng){k.addLayer(J),v||this.fire("layeradd",{layer:J});continue}if(!this.hasLayer(J)&&(this._addLayer(J,this._maxZoom),v||this.fire("layeradd",{layer:J}),J.__parent&&J.__parent.getChildCount()===2)){var fe=J.__parent.getAllChildMarkers(),U=fe[0]===J?fe[1]:fe[0];_.removeLayer(U)}}I&&I(j,E,new Date().getTime()-$),j===E?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(V,this.options.chunkDelay)},this);V()}else for(var re=this._needsClustering;j<E;j++){if(J=h[j],J instanceof L.LayerGroup){Z&&(h=h.slice(),Z=!1),this._extractNonGroupLayers(J,h),E=h.length;continue}if(!J.getLatLng){k.addLayer(J);continue}this.hasLayer(J)||re.push(J)}return this},removeLayers:function(h){var v,_,k=h.length,S=this._featureGroup,A=this._nonPointGroup,I=!0;if(!this._map){for(v=0;v<k;v++){if(_=h[v],_ instanceof L.LayerGroup){I&&(h=h.slice(),I=!1),this._extractNonGroupLayers(_,h),k=h.length;continue}this._arraySplice(this._needsClustering,_),A.removeLayer(_),this.hasLayer(_)&&this._needsRemoving.push({layer:_,latlng:_._latlng}),this.fire("layerremove",{layer:_})}return this}if(this._unspiderfy){this._unspiderfy();var E=h.slice(),j=k;for(v=0;v<j;v++){if(_=E[v],_ instanceof L.LayerGroup){this._extractNonGroupLayers(_,E),j=E.length;continue}this._unspiderfyLayer(_)}}for(v=0;v<k;v++){if(_=h[v],_ instanceof L.LayerGroup){I&&(h=h.slice(),I=!1),this._extractNonGroupLayers(_,h),k=h.length;continue}if(!_.__parent){A.removeLayer(_),this.fire("layerremove",{layer:_});continue}this._removeLayer(_,!0,!0),this.fire("layerremove",{layer:_}),S.hasLayer(_)&&(S.removeLayer(_),_.clusterShow&&_.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(h){h.off(this._childMarkerEventHandlers,this),delete h.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var h=new L.LatLngBounds;this._topClusterLevel&&h.extend(this._topClusterLevel._bounds);for(var v=this._needsClustering.length-1;v>=0;v--)h.extend(this._needsClustering[v].getLatLng());return h.extend(this._nonPointGroup.getBounds()),h},eachLayer:function(h,v){var _=this._needsClustering.slice(),k=this._needsRemoving,S,A,I;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(_),A=_.length-1;A>=0;A--){for(S=!0,I=k.length-1;I>=0;I--)if(k[I].layer===_[A]){S=!1;break}S&&h.call(v,_[A])}this._nonPointGroup.eachLayer(h,v)},getLayers:function(){var h=[];return this.eachLayer(function(v){h.push(v)}),h},getLayer:function(h){var v=null;return h=parseInt(h,10),this.eachLayer(function(_){L.stamp(_)===h&&(v=_)}),v},hasLayer:function(h){if(!h)return!1;var v,_=this._needsClustering;for(v=_.length-1;v>=0;v--)if(_[v]===h)return!0;for(_=this._needsRemoving,v=_.length-1;v>=0;v--)if(_[v].layer===h)return!1;return!!(h.__parent&&h.__parent._group===this)||this._nonPointGroup.hasLayer(h)},zoomToShowLayer:function(h,v){var _=this._map;typeof v!="function"&&(v=function(){});var k=function(){(_.hasLayer(h)||_.hasLayer(h.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",k,this),this.off("animationend",k,this),_.hasLayer(h)?v():h.__parent._icon&&(this.once("spiderfied",v,this),h.__parent.spiderfy()))};h._icon&&this._map.getBounds().contains(h.getLatLng())?v():h.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",k,this),this._map.panTo(h.getLatLng())):(this._map.on("moveend",k,this),this.on("animationend",k,this),h.__parent.zoomToBounds())},onAdd:function(h){this._map=h;var v,_,k;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(h),this._nonPointGroup.addTo(h),this._gridClusters||this._generateInitialClusters(),this._maxLat=h.options.crs.projection.MAX_LATITUDE,v=0,_=this._needsRemoving.length;v<_;v++)k=this._needsRemoving[v],k.newlatlng=k.layer._latlng,k.layer._latlng=k.latlng;for(v=0,_=this._needsRemoving.length;v<_;v++)k=this._needsRemoving[v],this._removeLayer(k.layer,!0),k.layer._latlng=k.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),_=this._needsClustering,this._needsClustering=[],this.addLayers(_,!0)},onRemove:function(h){h.off("zoomend",this._zoomEnd,this),h.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(h){for(var v=h;v&&!v._icon;)v=v.__parent;return v||null},_arraySplice:function(h,v){for(var _=h.length-1;_>=0;_--)if(h[_]===v)return h.splice(_,1),!0},_removeFromGridUnclustered:function(h,v){for(var _=this._map,k=this._gridUnclustered,S=Math.floor(this._map.getMinZoom());v>=S&&k[v].removeObject(h,_.project(h.getLatLng(),v));v--);},_childMarkerDragStart:function(h){h.target.__dragStart=h.target._latlng},_childMarkerMoved:function(h){if(!this._ignoreMove&&!h.target.__dragStart){var v=h.target._popup&&h.target._popup.isOpen();this._moveChild(h.target,h.oldLatLng,h.latlng),v&&h.target.openPopup()}},_moveChild:function(h,v,_){h._latlng=v,this.removeLayer(h),h._latlng=_,this.addLayer(h)},_childMarkerDragEnd:function(h){var v=h.target.__dragStart;delete h.target.__dragStart,v&&this._moveChild(h.target,v,h.target._latlng)},_removeLayer:function(h,v,_){var k=this._gridClusters,S=this._gridUnclustered,A=this._featureGroup,I=this._map,E=Math.floor(this._map.getMinZoom());v&&this._removeFromGridUnclustered(h,this._maxZoom);var j=h.__parent,Z=j._markers,J;for(this._arraySplice(Z,h);j&&(j._childCount--,j._boundsNeedUpdate=!0,!(j._zoom<E));)v&&j._childCount<=1?(J=j._markers[0]===h?j._markers[1]:j._markers[0],k[j._zoom].removeObject(j,I.project(j._cLatLng,j._zoom)),S[j._zoom].addObject(J,I.project(J.getLatLng(),j._zoom)),this._arraySplice(j.__parent._childClusters,j),j.__parent._markers.push(J),J.__parent=j.__parent,j._icon&&(A.removeLayer(j),_||A.addLayer(J))):j._iconNeedsUpdate=!0,j=j.__parent;delete h.__parent},_isOrIsParent:function(h,v){for(;v;){if(h===v)return!0;v=v.parentNode}return!1},fire:function(h,v,_){if(v&&v.layer instanceof L.MarkerCluster){if(v.originalEvent&&this._isOrIsParent(v.layer._icon,v.originalEvent.relatedTarget))return;h="cluster"+h}L.FeatureGroup.prototype.fire.call(this,h,v,_)},listens:function(h,v){return L.FeatureGroup.prototype.listens.call(this,h,v)||L.FeatureGroup.prototype.listens.call(this,"cluster"+h,v)},_defaultIconCreateFunction:function(h){var v=h.getChildCount(),_=" marker-cluster-";return v<10?_+="small":v<100?_+="medium":_+="large",new L.DivIcon({html:"<div><span>"+v+"</span></div>",className:"marker-cluster"+_,iconSize:new L.Point(40,40)})},_bindEvents:function(){var h=this._map,v=this.options.spiderfyOnMaxZoom,_=this.options.showCoverageOnHover,k=this.options.zoomToBoundsOnClick,S=this.options.spiderfyOnEveryZoom;(v||k||S)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),_&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),h.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(h){var v=h.layer,_=v;if(!(h.type==="clusterkeypress"&&h.originalEvent&&h.originalEvent.keyCode!==13)){for(;_._childClusters.length===1;)_=_._childClusters[0];_._zoom===this._maxZoom&&_._childCount===v._childCount&&this.options.spiderfyOnMaxZoom?v.spiderfy():this.options.zoomToBoundsOnClick&&v.zoomToBounds(),this.options.spiderfyOnEveryZoom&&v.spiderfy(),h.originalEvent&&h.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(h){var v=this._map;this._inZoomAnimation||(this._shownPolygon&&v.removeLayer(this._shownPolygon),h.layer.getChildCount()>2&&h.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(h.layer.getConvexHull(),this.options.polygonOptions),v.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var h=this.options.spiderfyOnMaxZoom,v=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,k=this.options.spiderfyOnEveryZoom,S=this._map;(h||_||k)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),v&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),S.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var h=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,h),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),h),this._currentShownBounds=h}},_generateInitialClusters:function(){var h=Math.ceil(this._map.getMaxZoom()),v=Math.floor(this._map.getMinZoom()),_=this.options.maxClusterRadius,k=_;typeof _!="function"&&(k=function(){return _}),this.options.disableClusteringAtZoom!==null&&(h=this.options.disableClusteringAtZoom-1),this._maxZoom=h,this._gridClusters={},this._gridUnclustered={};for(var S=h;S>=v;S--)this._gridClusters[S]=new L.DistanceGrid(k(S)),this._gridUnclustered[S]=new L.DistanceGrid(k(S));this._topClusterLevel=new this._markerCluster(this,v-1)},_addLayer:function(h,v){var _=this._gridClusters,k=this._gridUnclustered,S=Math.floor(this._map.getMinZoom()),A,I;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(h),h.on(this._childMarkerEventHandlers,this);v>=S;v--){A=this._map.project(h.getLatLng(),v);var E=_[v].getNearObject(A);if(E){E._addChild(h),h.__parent=E;return}if(E=k[v].getNearObject(A),E){var j=E.__parent;j&&this._removeLayer(E,!1);var Z=new this._markerCluster(this,v,E,h);_[v].addObject(Z,this._map.project(Z._cLatLng,v)),E.__parent=Z,h.__parent=Z;var J=Z;for(I=v-1;I>j._zoom;I--)J=new this._markerCluster(this,I,J),_[I].addObject(J,this._map.project(E.getLatLng(),I));j._addChild(J),this._removeFromGridUnclustered(E,v);return}k[v].addObject(h,A)}this._topClusterLevel._addChild(h),h.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(h){h instanceof L.MarkerCluster&&h._iconNeedsUpdate&&h._updateIcon()})},_enqueue:function(h){this._queue.push(h),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var h=0;h<this._queue.length;h++)this._queue[h].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var h=Math.round(this._map._zoom);this._processQueue(),this._zoom<h&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,h)):this._zoom>h?(this._animationStart(),this._animationZoomOut(this._zoom,h)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(h){var v=this._maxLat;return v!==void 0&&(h.getNorth()>=v&&(h._northEast.lat=1/0),h.getSouth()<=-v&&(h._southWest.lat=-1/0)),h},_animationAddLayerNonAnimated:function(h,v){if(v===h)this._featureGroup.addLayer(h);else if(v._childCount===2){v._addToMap();var _=v.getAllChildMarkers();this._featureGroup.removeLayer(_[0]),this._featureGroup.removeLayer(_[1])}else v._updateIcon()},_extractNonGroupLayers:function(h,v){var _=h.getLayers(),k=0,S;for(v=v||[];k<_.length;k++){if(S=_[k],S instanceof L.LayerGroup){this._extractNonGroupLayers(S,v);continue}v.push(S)}return v},_overrideMarkerIcon:function(h){var v=h.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[h]}});return v}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(h,v){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),h),this._topClusterLevel._recursivelyAddChildrenToMap(null,v,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(h,v){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),h),this._topClusterLevel._recursivelyAddChildrenToMap(null,v,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(h,v){this._animationAddLayerNonAnimated(h,v)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(h,v){var _=this._getExpandedVisibleBounds(),k=this._featureGroup,S=Math.floor(this._map.getMinZoom()),A;this._ignoreMove=!0,this._topClusterLevel._recursively(_,h,S,function(I){var E=I._latlng,j=I._markers,Z;for(_.contains(E)||(E=null),I._isSingleParent()&&h+1===v?(k.removeLayer(I),I._recursivelyAddChildrenToMap(null,v,_)):(I.clusterHide(),I._recursivelyAddChildrenToMap(E,v,_)),A=j.length-1;A>=0;A--)Z=j[A],_.contains(Z._latlng)||k.removeLayer(Z)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(_,v),k.eachLayer(function(I){!(I instanceof L.MarkerCluster)&&I._icon&&I.clusterShow()}),this._topClusterLevel._recursively(_,h,v,function(I){I._recursivelyRestoreChildPositions(v)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(_,h,S,function(I){k.removeLayer(I),I.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(h,v){this._animationZoomOutSingle(this._topClusterLevel,h-1,v),this._topClusterLevel._recursivelyAddChildrenToMap(null,v,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),h,this._getExpandedVisibleBounds())},_animationAddLayer:function(h,v){var _=this,k=this._featureGroup;k.addLayer(h),v!==h&&(v._childCount>2?(v._updateIcon(),this._forceLayout(),this._animationStart(),h._setPos(this._map.latLngToLayerPoint(v.getLatLng())),h.clusterHide(),this._enqueue(function(){k.removeLayer(h),h.clusterShow(),_._animationEnd()})):(this._forceLayout(),_._animationStart(),_._animationZoomOutSingle(v,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(h,v,_){var k=this._getExpandedVisibleBounds(),S=Math.floor(this._map.getMinZoom());h._recursivelyAnimateChildrenInAndAddSelfToMap(k,S,v+1,_);var A=this;this._forceLayout(),h._recursivelyBecomeVisible(k,_),this._enqueue(function(){if(h._childCount===1){var I=h._markers[0];this._ignoreMove=!0,I.setLatLng(I.getLatLng()),this._ignoreMove=!1,I.clusterShow&&I.clusterShow()}else h._recursively(k,_,S,function(E){E._recursivelyRemoveChildrenFromMap(k,S,v+1)});A._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(h){return new L.MarkerClusterGroup(h)};var x=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(h,v,_,k){L.Marker.prototype.initialize.call(this,_?_._cLatLng||_.getLatLng():new L.LatLng(0,0),{icon:this,pane:h.options.clusterPane}),this._group=h,this._zoom=v,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,_&&this._addChild(_),k&&this._addChild(k)},getAllChildMarkers:function(h,v){h=h||[];for(var _=this._childClusters.length-1;_>=0;_--)this._childClusters[_].getAllChildMarkers(h,v);for(var k=this._markers.length-1;k>=0;k--)v&&this._markers[k].__dragStart||h.push(this._markers[k]);return h},getChildCount:function(){return this._childCount},zoomToBounds:function(h){for(var v=this._childClusters.slice(),_=this._group._map,k=_.getBoundsZoom(this._bounds),S=this._zoom+1,A=_.getZoom(),I;v.length>0&&k>S;){S++;var E=[];for(I=0;I<v.length;I++)E=E.concat(v[I]._childClusters);v=E}k>S?this._group._map.setView(this._latlng,S):k<=A?this._group._map.setView(this._latlng,A+1):this._group._map.fitBounds(this._bounds,h)},getBounds:function(){var h=new L.LatLngBounds;return h.extend(this._bounds),h},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(h,v){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(h),h instanceof L.MarkerCluster?(v||(this._childClusters.push(h),h.__parent=this),this._childCount+=h._childCount):(v||this._markers.push(h),this._childCount++),this.__parent&&this.__parent._addChild(h,!0)},_setClusterCenter:function(h){this._cLatLng||(this._cLatLng=h._cLatLng||h._latlng)},_resetBounds:function(){var h=this._bounds;h._southWest&&(h._southWest.lat=1/0,h._southWest.lng=1/0),h._northEast&&(h._northEast.lat=-1/0,h._northEast.lng=-1/0)},_recalculateBounds:function(){var h=this._markers,v=this._childClusters,_=0,k=0,S=this._childCount,A,I,E,j;if(S!==0){for(this._resetBounds(),A=0;A<h.length;A++)E=h[A]._latlng,this._bounds.extend(E),_+=E.lat,k+=E.lng;for(A=0;A<v.length;A++)I=v[A],I._boundsNeedUpdate&&I._recalculateBounds(),this._bounds.extend(I._bounds),E=I._wLatLng,j=I._childCount,_+=E.lat*j,k+=E.lng*j;this._latlng=this._wLatLng=new L.LatLng(_/S,k/S),this._boundsNeedUpdate=!1}},_addToMap:function(h){h&&(this._backupLatlng=this._latlng,this.setLatLng(h)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(h,v,_){this._recursively(h,this._group._map.getMinZoom(),_-1,function(k){var S=k._markers,A,I;for(A=S.length-1;A>=0;A--)I=S[A],I._icon&&(I._setPos(v),I.clusterHide())},function(k){var S=k._childClusters,A,I;for(A=S.length-1;A>=0;A--)I=S[A],I._icon&&(I._setPos(v),I.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(h,v,_,k){this._recursively(h,k,v,function(S){S._recursivelyAnimateChildrenIn(h,S._group._map.latLngToLayerPoint(S.getLatLng()).round(),_),S._isSingleParent()&&_-1===k?(S.clusterShow(),S._recursivelyRemoveChildrenFromMap(h,v,_)):S.clusterHide(),S._addToMap()})},_recursivelyBecomeVisible:function(h,v){this._recursively(h,this._group._map.getMinZoom(),v,null,function(_){_.clusterShow()})},_recursivelyAddChildrenToMap:function(h,v,_){this._recursively(_,this._group._map.getMinZoom()-1,v,function(k){if(v!==k._zoom)for(var S=k._markers.length-1;S>=0;S--){var A=k._markers[S];_.contains(A._latlng)&&(h&&(A._backupLatlng=A.getLatLng(),A.setLatLng(h),A.clusterHide&&A.clusterHide()),k._group._featureGroup.addLayer(A))}},function(k){k._addToMap(h)})},_recursivelyRestoreChildPositions:function(h){for(var v=this._markers.length-1;v>=0;v--){var _=this._markers[v];_._backupLatlng&&(_.setLatLng(_._backupLatlng),delete _._backupLatlng)}if(h-1===this._zoom)for(var k=this._childClusters.length-1;k>=0;k--)this._childClusters[k]._restorePosition();else for(var S=this._childClusters.length-1;S>=0;S--)this._childClusters[S]._recursivelyRestoreChildPositions(h)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(h,v,_,k){var S,A;this._recursively(h,v-1,_-1,function(I){for(A=I._markers.length-1;A>=0;A--)S=I._markers[A],(!k||!k.contains(S._latlng))&&(I._group._featureGroup.removeLayer(S),S.clusterShow&&S.clusterShow())},function(I){for(A=I._childClusters.length-1;A>=0;A--)S=I._childClusters[A],(!k||!k.contains(S._latlng))&&(I._group._featureGroup.removeLayer(S),S.clusterShow&&S.clusterShow())})},_recursively:function(h,v,_,k,S){var A=this._childClusters,I=this._zoom,E,j;if(v<=I&&(k&&k(this),S&&I===_&&S(this)),I<v||I<_)for(E=A.length-1;E>=0;E--)j=A[E],j._boundsNeedUpdate&&j._recalculateBounds(),h.intersects(j._bounds)&&j._recursively(h,v,_,k,S)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var h=this.options.opacity;return this.setOpacity(0),this.options.opacity=h,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(h){this._cellSize=h,this._sqCellSize=h*h,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(h,v){var _=this._getCoord(v.x),k=this._getCoord(v.y),S=this._grid,A=S[k]=S[k]||{},I=A[_]=A[_]||[],E=L.Util.stamp(h);this._objectPoint[E]=v,I.push(h)},updateObject:function(h,v){this.removeObject(h),this.addObject(h,v)},removeObject:function(h,v){var _=this._getCoord(v.x),k=this._getCoord(v.y),S=this._grid,A=S[k]=S[k]||{},I=A[_]=A[_]||[],E,j;for(delete this._objectPoint[L.Util.stamp(h)],E=0,j=I.length;E<j;E++)if(I[E]===h)return I.splice(E,1),j===1&&delete A[_],!0},eachObject:function(h,v){var _,k,S,A,I,E,j,Z=this._grid;for(_ in Z){I=Z[_];for(k in I)for(E=I[k],S=0,A=E.length;S<A;S++)j=h.call(v,E[S]),j&&(S--,A--)}},getNearObject:function(h){var v=this._getCoord(h.x),_=this._getCoord(h.y),k,S,A,I,E,j,Z,J,$=this._objectPoint,V=this._sqCellSize,re=null;for(k=_-1;k<=_+1;k++)if(I=this._grid[k],I){for(S=v-1;S<=v+1;S++)if(E=I[S],E)for(A=0,j=E.length;A<j;A++)Z=E[A],J=this._sqDist($[L.Util.stamp(Z)],h),(J<V||J<=V&&re===null)&&(V=J,re=Z)}return re},_getCoord:function(h){var v=Math.floor(h/this._cellSize);return isFinite(v)?v:h},_sqDist:function(h,v){var _=v.x-h.x,k=v.y-h.y;return _*_+k*k}},function(){L.QuickHull={getDistant:function(h,v){var _=v[1].lat-v[0].lat,k=v[0].lng-v[1].lng;return k*(h.lat-v[0].lat)+_*(h.lng-v[0].lng)},findMostDistantPointFromBaseLine:function(h,v){var _=0,k=null,S=[],A,I,E;for(A=v.length-1;A>=0;A--){if(I=v[A],E=this.getDistant(I,h),E>0)S.push(I);else continue;E>_&&(_=E,k=I)}return{maxPoint:k,newPoints:S}},buildConvexHull:function(h,v){var _=[],k=this.findMostDistantPointFromBaseLine(h,v);return k.maxPoint?(_=_.concat(this.buildConvexHull([h[0],k.maxPoint],k.newPoints)),_=_.concat(this.buildConvexHull([k.maxPoint,h[1]],k.newPoints)),_):[h[0]]},getConvexHull:function(h){var v=!1,_=!1,k=!1,S=!1,A=null,I=null,E=null,j=null,Z=null,J=null,$;for($=h.length-1;$>=0;$--){var V=h[$];(v===!1||V.lat>v)&&(A=V,v=V.lat),(_===!1||V.lat<_)&&(I=V,_=V.lat),(k===!1||V.lng>k)&&(E=V,k=V.lng),(S===!1||V.lng<S)&&(j=V,S=V.lng)}_!==v?(J=I,Z=A):(J=j,Z=E);var re=[].concat(this.buildConvexHull([J,Z],h),this.buildConvexHull([Z,J],h));return re}}}(),L.MarkerCluster.include({getConvexHull:function(){var h=this.getAllChildMarkers(),v=[],_,k;for(k=h.length-1;k>=0;k--)_=h[k].getLatLng(),v.push(_);return L.QuickHull.getConvexHull(v)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var h=this.getAllChildMarkers(null,!0),v=this._group,_=v._map,k=_.latLngToLayerPoint(this._latlng),S;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?S=this._group.options.spiderfyShapePositions(h.length,k):h.length>=this._circleSpiralSwitchover?S=this._generatePointsSpiral(h.length,k):(k.y+=10,S=this._generatePointsCircle(h.length,k)),this._animationSpiderfy(h,S)}},unspiderfy:function(h){this._group._inZoomAnimation||(this._animationUnspiderfy(h),this._group._spiderfied=null)},_generatePointsCircle:function(h,v){var _=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+h),k=_/this._2PI,S=this._2PI/h,A=[],I,E;for(k=Math.max(k,35),A.length=h,I=0;I<h;I++)E=this._circleStartAngle+I*S,A[I]=new L.Point(v.x+k*Math.cos(E),v.y+k*Math.sin(E))._round();return A},_generatePointsSpiral:function(h,v){var _=this._group.options.spiderfyDistanceMultiplier,k=_*this._spiralLengthStart,S=_*this._spiralFootSeparation,A=_*this._spiralLengthFactor*this._2PI,I=0,E=[],j;for(E.length=h,j=h;j>=0;j--)j<h&&(E[j]=new L.Point(v.x+k*Math.cos(I),v.y+k*Math.sin(I))._round()),I+=S/k+j*5e-4,k+=A/I;return E},_noanimationUnspiderfy:function(){var h=this._group,v=h._map,_=h._featureGroup,k=this.getAllChildMarkers(null,!0),S,A;for(h._ignoreMove=!0,this.setOpacity(1),A=k.length-1;A>=0;A--)S=k[A],_.removeLayer(S),S._preSpiderfyLatlng&&(S.setLatLng(S._preSpiderfyLatlng),delete S._preSpiderfyLatlng),S.setZIndexOffset&&S.setZIndexOffset(0),S._spiderLeg&&(v.removeLayer(S._spiderLeg),delete S._spiderLeg);h.fire("unspiderfied",{cluster:this,markers:k}),h._ignoreMove=!1,h._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(h,v){var _=this._group,k=_._map,S=_._featureGroup,A=this._group.options.spiderLegPolylineOptions,I,E,j,Z;for(_._ignoreMove=!0,I=0;I<h.length;I++)Z=k.layerPointToLatLng(v[I]),E=h[I],j=new L.Polyline([this._latlng,Z],A),k.addLayer(j),E._spiderLeg=j,E._preSpiderfyLatlng=E._latlng,E.setLatLng(Z),E.setZIndexOffset&&E.setZIndexOffset(1e6),S.addLayer(E);this.setOpacity(.3),_._ignoreMove=!1,_.fire("spiderfied",{cluster:this,markers:h})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(h,v){var _=this,k=this._group,S=k._map,A=k._featureGroup,I=this._latlng,E=S.latLngToLayerPoint(I),j=L.Path.SVG,Z=L.extend({},this._group.options.spiderLegPolylineOptions),J=Z.opacity,$,V,re,we,xe,fe;for(J===void 0&&(J=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),j?(Z.opacity=0,Z.className=(Z.className||"")+" leaflet-cluster-spider-leg"):Z.opacity=J,k._ignoreMove=!0,$=0;$<h.length;$++)V=h[$],fe=S.layerPointToLatLng(v[$]),re=new L.Polyline([I,fe],Z),S.addLayer(re),V._spiderLeg=re,j&&(we=re._path,xe=we.getTotalLength()+.1,we.style.strokeDasharray=xe,we.style.strokeDashoffset=xe),V.setZIndexOffset&&V.setZIndexOffset(1e6),V.clusterHide&&V.clusterHide(),A.addLayer(V),V._setPos&&V._setPos(E);for(k._forceLayout(),k._animationStart(),$=h.length-1;$>=0;$--)fe=S.layerPointToLatLng(v[$]),V=h[$],V._preSpiderfyLatlng=V._latlng,V.setLatLng(fe),V.clusterShow&&V.clusterShow(),j&&(re=V._spiderLeg,we=re._path,we.style.strokeDashoffset=0,re.setStyle({opacity:J}));this.setOpacity(.3),k._ignoreMove=!1,setTimeout(function(){k._animationEnd(),k.fire("spiderfied",{cluster:_,markers:h})},200)},_animationUnspiderfy:function(h){var v=this,_=this._group,k=_._map,S=_._featureGroup,A=h?k._latLngToNewLayerPoint(this._latlng,h.zoom,h.center):k.latLngToLayerPoint(this._latlng),I=this.getAllChildMarkers(null,!0),E=L.Path.SVG,j,Z,J,$,V,re;for(_._ignoreMove=!0,_._animationStart(),this.setOpacity(1),Z=I.length-1;Z>=0;Z--)j=I[Z],j._preSpiderfyLatlng&&(j.closePopup(),j.setLatLng(j._preSpiderfyLatlng),delete j._preSpiderfyLatlng,re=!0,j._setPos&&(j._setPos(A),re=!1),j.clusterHide&&(j.clusterHide(),re=!1),re&&S.removeLayer(j),E&&(J=j._spiderLeg,$=J._path,V=$.getTotalLength()+.1,$.style.strokeDashoffset=V,J.setStyle({opacity:0})));_._ignoreMove=!1,setTimeout(function(){var we=0;for(Z=I.length-1;Z>=0;Z--)j=I[Z],j._spiderLeg&&we++;for(Z=I.length-1;Z>=0;Z--)j=I[Z],j._spiderLeg&&(j.clusterShow&&j.clusterShow(),j.setZIndexOffset&&j.setZIndexOffset(0),we>1&&S.removeLayer(j),k.removeLayer(j._spiderLeg),delete j._spiderLeg);_._animationEnd(),_.fire("unspiderfied",{cluster:v,markers:I})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(h){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(h))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(h){this._spiderfied&&this._spiderfied.unspiderfy(h)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(h){h._spiderLeg&&(this._featureGroup.removeLayer(h),h.clusterShow&&h.clusterShow(),h.setZIndexOffset&&h.setZIndexOffset(0),this._map.removeLayer(h._spiderLeg),delete h._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(h){return h?h instanceof L.MarkerClusterGroup?h=h._topClusterLevel.getAllChildMarkers():h instanceof L.LayerGroup?h=h._layers:h instanceof L.MarkerCluster?h=h.getAllChildMarkers():h instanceof L.Marker&&(h=[h]):h=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(h),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(h),this},_flagParentsIconsNeedUpdate:function(h){var v,_;for(v in h)for(_=h[v].__parent;_;)_._iconNeedsUpdate=!0,_=_.__parent},_refreshSingleMarkerModeMarkers:function(h){var v,_;for(v in h)_=h[v],this.hasLayer(_)&&_.setIcon(this._overrideMarkerIcon(_))}}),L.Marker.include({refreshIconOptions:function(h,v){var _=this.options.icon;return L.setOptions(_,h),this.setIcon(_),v&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),l.MarkerClusterGroup=g,l.MarkerCluster=x,Object.defineProperty(l,"__esModule",{value:!0})})}(kd,kd.exports)),kd.exports}zx();delete jl.Icon.Default.prototype._getIconUrl;jl.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Rx=n=>{const c=n>=8?"#22c55e":n>=6?"#3b82f6":n>=4?"#f59e0b":"#ef4444";return jl.divIcon({className:"custom-marker",html:`
      <div class="marker-icon" style="background-color: ${c}">
        ${n.toFixed(1)}
      </div>
    `,iconSize:[32,32],iconAnchor:[16,16]})},Ox=()=>jl.divIcon({className:"custom-poi-marker",html:`
      <div class="marker-icon" style="background-color: #3b82f6">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white" width="16" height="16">
          <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z" />
        </svg>
      </div>
    `,iconSize:[32,32],iconAnchor:[16,16]}),Bx=({center:n,zoom:c})=>{const l=i1();return b.useEffect(()=>{n&&Array.isArray(n)&&n.length===2&&Ps(n[0],n[1])&&l.setView(n,c)},[l,n,c]),null},Fx=({onLocationUpdate:n})=>(jx({locationfound:c=>{n([c.latlng.lat,c.latlng.lng])}}),null),Ux=({reviews:n=[],currentUser:c,onRefreshData:l})=>{const[g,x]=b.useState([42.3601,-71.0589]),[h,v]=b.useState(12),[_,k]=b.useState(""),[S,A]=b.useState(null),[I,E]=b.useState(1),[j,Z]=b.useState(!1),[J,$]=b.useState(null),[V,re]=b.useState(null),[we,xe]=b.useState(null),[fe,U]=b.useState([]),[Y,K]=b.useState(!1),[ee,q]=b.useState(!1),[R,F]=b.useState(""),[ie,Q]=b.useState([]),ae=b.useRef(null),Ne=b.useRef(null),ge=b.useRef(null),H=b.useRef(!1);b.useEffect(()=>{console.log("Debug - Reviews:",n==null?void 0:n.length)},[n]),b.useEffect(()=>{console.log("Setting up review update listeners in MapScreen");const De=Ve=>{console.log("MapScreen received content update event:",Ve.detail),Ve.detail&&Ve.detail.type==="review-added"&&(console.log("New review added, refreshing map data"),H.current=!0,typeof l=="function"&&l())},$e=()=>{console.log("MapScreen: Direct review-added event detected"),H.current=!0,typeof l=="function"&&l()},We=Ve=>{Ve.key&&(Ve.key==="reviewCount"||Ve.key==="reviewTimestamp"||Ve.key==="lastAddedReview")&&(console.log("MapScreen: Detected review-related localStorage change:",Ve.key),H.current=!0,typeof l=="function"&&l())};window.addEventListener("content-updated",De),window.addEventListener("review-added",$e),window.addEventListener("storage",We);const et=()=>{console.log("MapScreen: Window focused, checking for updates");try{const Ve=parseInt(localStorage.getItem("reviewTimestamp")||"0"),It=parseInt(sessionStorage.getItem("mapscreen-last-check")||"0");Ve>It&&(console.log("MapScreen: New reviews detected since last check, refreshing"),H.current=!0,sessionStorage.setItem("mapscreen-last-check",Date.now().toString()),typeof l=="function"&&l())}catch(Ve){console.warn("Error checking for updates on focus:",Ve)}};return window.addEventListener("focus",et),sessionStorage.setItem("mapscreen-last-check",Date.now().toString()),()=>{console.log("MapScreen: Removing event listeners"),window.removeEventListener("content-updated",De),window.removeEventListener("review-added",$e),window.removeEventListener("storage",We),window.removeEventListener("focus",et),H.current&&typeof l=="function"&&l()}},[l]),b.useEffect(()=>{(async()=>{var $e;try{const We=await fetch(`${Te.API_URL}/admin/pois`,{headers:{Accept:"application/json"}});if(We.ok){const et=await We.json();console.log("Fetched POIs:",(($e=et.pois)==null?void 0:$e.length)||0),Q(et.pois||[])}else console.log("POI endpoint not yet available"),Q([])}catch(We){console.error("Error fetching POIs:",We),Q([])}})(),de()},[]),b.useEffect(()=>{const De=$e=>{Ne.current&&!Ne.current.contains($e.target)&&K(!1)};return document.addEventListener("mousedown",De),()=>document.removeEventListener("mousedown",De)},[]);const ue=b.useMemo(()=>{if(console.log("Processing reviews:",(n==null?void 0:n.length)||0),!n||!Array.isArray(n)||n.length===0)return console.log("No reviews available to process"),[];n.length>0&&(console.log("MapScreen: Sample review coordinates:"),n.slice(0,3).forEach((We,et)=>{var Ve,It,Gt,ft,gt,$t;console.log(`Review ${et}:`,{id:We._id,beefery:We.beefery,location:We.location,coordinates:We.coordinates,rawLat:(Ve=We.coordinates)==null?void 0:Ve.lat,rawLng:(It=We.coordinates)==null?void 0:It.lng,parsedLat:parseFloat((Gt=We.coordinates)==null?void 0:Gt.lat),parsedLng:parseFloat((ft=We.coordinates)==null?void 0:ft.lng),isValid:Ps(parseFloat((gt=We.coordinates)==null?void 0:gt.lat),parseFloat(($t=We.coordinates)==null?void 0:$t.lng))})}));const De=oi.groupBy(n,We=>{var It,Gt;const et=parseFloat((It=We.coordinates)==null?void 0:It.lat),Ve=parseFloat((Gt=We.coordinates)==null?void 0:Gt.lng);return isNaN(et)||isNaN(Ve)||!Ps(et,Ve)?(console.warn("Review has invalid coordinates:",We._id,We.coordinates),`ungrouped-${We._id}`):`${We.beefery}-${We.location}-${et}-${Ve}`});console.log("Grouped reviews into",Object.keys(De).length,"establishments");const $e=Object.entries(De).map(([We,et])=>{var gt,$t;const Ve=et[0];if(!Ve)return null;const It=parseFloat((gt=Ve.coordinates)==null?void 0:gt.lat),Gt=parseFloat(($t=Ve.coordinates)==null?void 0:$t.lng);if(isNaN(It)||isNaN(Gt)||!Ps(It,Gt))return console.warn("Skipping with invalid coordinates:",Ve.beefery,Ve.coordinates),null;const ft=oi.meanBy(et,"rating");return{id:We,beefery:Ve.beefery,location:Ve.location,coordinates:{lat:It,lng:Gt},reviews:oi.orderBy(et,["date"],["desc"]),avgRating:ft,reviewCount:et.length,isNewLocation:We.startsWith("ungrouped-")}}).filter(Boolean);return console.log("Final processed establishments:",$e.length),$e.forEach(We=>{console.log(`- ${We.beefery}: [${We.coordinates.lat}, ${We.coordinates.lng}]${We.isNewLocation?" (NEW)":""}`)}),$e},[n]),W=b.useMemo(()=>ue.filter(De=>De.avgRating>=I),[ue,I]),B=b.useMemo(()=>{const De={};return W.forEach($e=>{const We=`${$e.coordinates.lat.toFixed(5)}-${$e.coordinates.lng.toFixed(5)}`;De[We]=!0}),De},[W]),ye=b.useMemo(()=>ie.filter(De=>{var Ve,It;const $e=parseFloat((Ve=De.coordinates)==null?void 0:Ve.lat),We=parseFloat((It=De.coordinates)==null?void 0:It.lng);if(isNaN($e)||isNaN(We))return!1;const et=`${$e.toFixed(5)}-${We.toFixed(5)}`;return!B[et]}),[ie,B]),de=()=>{"geolocation"in navigator?(q(!0),navigator.geolocation.getCurrentPosition(De=>{const $e=De.coords.latitude,We=De.coords.longitude;if(console.log("Got current location:",$e,We),Ps($e,We)){const et=[$e,We];A(et),x(et),v(13)}else console.error("Invalid coordinates from geolocation"),F("Received invalid coordinates from your device.");q(!1)},De=>{console.error("Geolocation error:",De),F("Could not get your location. Please try searching for your address instead."),q(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})):F("Location services are not available in your browser.")},te=async De=>{const $e=De.target.value;if(k($e),F(""),ae.current&&clearTimeout(ae.current),$e.length<3){U([]),K(!1);return}q(!0),K(!0),ae.current=setTimeout(async()=>{try{const We=W.filter(ft=>ft.beefery.toLowerCase().includes($e.toLowerCase())||ft.location&&ft.location.toLowerCase().includes($e.toLowerCase())).map(ft=>({display_name:`${ft.beefery} - ${ft.location}`,lat:ft.coordinates.lat,lng:ft.coordinates.lng,source:"review"})),et=ye.filter(ft=>ft.name.toLowerCase().includes($e.toLowerCase())||ft.location&&ft.location.toLowerCase().includes($e.toLowerCase())).map(ft=>({display_name:`${ft.name} - ${ft.location}`,lat:ft.coordinates.lat,lng:ft.coordinates.lng,source:"poi"})),Ve=[...We,...et];let It=[];Ve.length<3&&(It=await kp($e));const Gt=oi.uniqBy([...Ve,...It],ft=>`${ft.lat}-${ft.lng}`);U(Gt)}catch(We){console.error("Error getting suggestions:",We),F("Failed to get address suggestions")}finally{q(!1)}},300)},oe=async De=>{k(De.display_name),K(!1),x([parseFloat(De.lat),parseFloat(De.lng)]),v(15)},z=()=>{re(null),xe(null)},ce=(De,$e)=>{console.log(`Marker clicked - Type: ${De}`,$e),re(De),xe($e)},be=De=>{z(),$(De)},he=De=>{console.log(`Cluster clicked with ${De.length} establishments`),re("cluster"),xe(De)},ze=De=>{z(),setTimeout(()=>{re("establishment"),xe(De)},50)},He=De=>{E(parseFloat(De.target.value))},nt=({children:De,onClusterClick:$e,onMarkerClick:We})=>{const et=i1(),Ve=b.useRef(null);return b.useEffect(()=>{if(!et)return;console.log("Initializing cluster group");const It=new jl.MarkerClusterGroup({chunkedLoading:!0,maxClusterRadius:50,spiderfyOnMaxZoom:!0,spiderfyDistanceMultiplier:2,showCoverageOnHover:!1,zoomToBoundsOnClick:!1,animate:!0,disableClusteringAtZoom:18});return It.on("clusterclick",Gt=>{const ft=Gt.layer,gt=ft.getAllChildMarkers();if(et.getZoom()>=et.getMaxZoom())console.log("Max zoom reached, spiderfying"),ft.spiderfy();else{console.log(`Cluster clicked with ${gt.length} markers`);const $t=gt.map(qt=>qt.options.establishmentData).filter(Boolean);$t.length>0?(Gt.originalEvent.stopPropagation(),$e($t)):et.flyTo(ft.getLatLng(),et.getZoom()+1)}}),et.addLayer(It),Ve.current=It,()=>{console.log("Cleaning up cluster group"),et.removeLayer(It)}},[et]),b.useEffect(()=>{const It=Ve.current;It&&(console.log("Updating markers in cluster group"),It.clearLayers(),Gr.Children.forEach(De,Gt=>{if(!Gt)return;const{position:ft,icon:gt,establishmentData:$t,poiData:qt}=Gt.props;if(!ft||!Array.isArray(ft)||ft.length!==2){console.warn("Marker has invalid position format:",ft);return}const[on,xn]=ft;if(!Ps(on,xn)){console.warn("Marker has invalid coordinates:",ft);return}try{console.log(`Adding marker at [${on}, ${xn}]`);const jn=jl.marker(ft,{icon:gt,rating:$t==null?void 0:$t.avgRating,establishmentData:$t,poiData:qt});jn.on("click",Dn=>{jl.DomEvent.stopPropagation(Dn),$t?(console.log("Establishment marker clicked:",$t.beefery),We("establishment",$t)):qt&&(console.log("POI marker clicked:",qt.name),We("poi",qt))}),It.addLayer(jn)}catch(jn){console.error("Error creating marker:",jn)}}))},[De,We]),null};return p("div",{className:"space-y-4",children:[o("div",{className:"flex items-start gap-4 flex-wrap",children:p("div",{className:"relative flex-1",ref:Ne,children:[p("div",{className:"flex items-center space-x-2",children:[p("div",{className:"relative flex-1",children:[o("input",{type:"text",placeholder:"Search for a location...",className:"w-full pl-10 pr-4 py-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",value:_,onChange:te,onFocus:()=>_.length>=3&&K(!0)}),o(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-5 w-5"})]}),o("button",{onClick:de,className:"p-3 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",title:"Use my location",children:o(e0,{className:"h-5 w-5"})}),o("button",{onClick:()=>{const De=!j;Z(De),De||E(1)},className:`p-3 ${j?"bg-primary text-white":"bg-secondary text-foreground"} rounded-lg hover:bg-primary/90 transition-colors`,title:"Filter by rating",children:o(s0,{className:"h-5 w-5"})})]}),Y&&o("div",{className:"absolute z-50 top-full left-0 right-0 mt-1 bg-card rounded-lg shadow-lg border border-border max-h-60 overflow-y-auto",children:ee?p("div",{className:"p-4 text-center text-muted-foreground",children:[o(Rt,{className:"animate-spin h-5 w-5 mx-auto mb-2"}),"Loading suggestions..."]}):fe.length>0?o("ul",{className:"py-2",children:fe.map((De,$e)=>o("li",{children:p("button",{className:"w-full px-4 py-2 text-left hover:bg-secondary transition-colors flex items-center",onClick:()=>oe(De),children:[De.source==="review"?o(Bn,{className:"h-4 w-4 text-yellow-500 mr-2"}):De.source==="poi"?o(Bn,{className:"h-4 w-4 text-blue-500 mr-2"}):o(Go,{className:"h-4 w-4 text-muted-foreground mr-2"}),De.display_name]})},$e))}):o("div",{className:"p-4 text-center text-muted-foreground",children:"No suggestions found"})}),R&&o("p",{className:"mt-2 text-sm text-destructive",children:R})]})}),j&&o(lt,{className:"p-4 relative",children:p("div",{className:"flex flex-col space-y-2",children:[p("div",{className:"flex items-center justify-between",children:[p("label",{className:"text-sm font-medium text-slate-700",children:["Minimum Rating: ",I.toFixed(1)]}),o("button",{onClick:()=>Z(!1),className:"p-1 hover:bg-secondary rounded-full",children:o(Yt,{className:"h-5 w-5 text-muted-foreground"})})]}),p("div",{className:"relative pt-2",children:[o("input",{type:"range",min:"1",max:"10",step:"0.1",value:I,onChange:He,className:"w-full h-2 bg-border rounded-lg appearance-none cursor-pointer"}),o("div",{className:"absolute -top-1 flex items-center justify-center w-7 h-7",style:{left:`calc(${(I-1)/9*100}% - 14px)`,pointerEvents:"none"},children:o("div",{className:"w-7 h-7 rounded-full bg-primary flex items-center justify-center shadow-md",children:o("span",{className:"text-white text-xs",role:"img","aria-label":"fire",children:""})})}),p("div",{className:"flex justify-between mt-1 text-xs text-muted-foreground",children:[o("span",{children:"1.0"}),o("span",{children:"10.0"})]})]})]})}),p("div",{className:"h-[70vh] rounded-lg overflow-hidden border border-border relative",children:[p(Tx,{center:g,zoom:h,scrollWheelZoom:!0,style:{height:"100%",width:"100%"},zoomControl:!1,ref:ge,children:[o(Bx,{center:g,zoom:h}),o(Fx,{onLocationUpdate:A}),o(Ax,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),p(nt,{onClusterClick:he,onMarkerClick:ce,children:[W.map(De=>{var et,Ve;const $e=parseFloat((et=De.coordinates)==null?void 0:et.lat),We=parseFloat((Ve=De.coordinates)==null?void 0:Ve.lng);return isNaN($e)||isNaN(We)||!Ps($e,We)?(console.warn("Invalid establishment coordinates:",De),null):(console.log(`Rendering marker for ${De.beefery} at [${$e}, ${We}]`),o(Lm,{position:[$e,We],icon:Rx(De.avgRating),establishmentData:De},De.id))}),ye.map(De=>{var et,Ve;const $e=parseFloat((et=De.coordinates)==null?void 0:et.lat),We=parseFloat((Ve=De.coordinates)==null?void 0:Ve.lng);return isNaN($e)||isNaN(We)||!Ps($e,We)?(console.warn("Invalid POI coordinates:",De),null):(console.log(`Rendering POI marker for ${De.name} at [${$e}, ${We}]`),o(Lm,{position:[$e,We],icon:Ox(),poiData:De},`poi-${De._id}`))})]}),S&&Array.isArray(S)&&S.length===2&&Ps(S[0],S[1])&&o(Lm,{position:S,icon:jl.divIcon({className:"current-location-marker",html:`
                  <div class="relative">
                    <div class="absolute inset-0 bg-blue-500 rounded-full animate-ping opacity-75"></div>
                    <div class="relative bg-blue-500 w-4 h-4 rounded-full border-2 border-white"></div>
                  </div>
                `,iconSize:[16,16],iconAnchor:[8,8]})}),p("div",{className:"absolute bottom-4 right-4 flex flex-col space-y-2 z-[400]",children:[o("button",{onClick:de,className:"p-3 bg-primary text-white rounded-full shadow-lg hover:bg-primary/90 transition-colors",title:"Go to my location",children:o(e0,{className:"h-5 w-5"})}),o("button",{onClick:()=>v(De=>Math.min(De+1,19)),className:"p-3 bg-card text-foreground rounded-full shadow-lg hover:bg-secondary transition-colors",title:"Zoom in",children:o("span",{className:"text-lg font-bold",children:"+"})}),o("button",{onClick:()=>v(De=>Math.max(De-1,3)),className:"p-3 bg-card text-foreground rounded-full shadow-lg hover:bg-secondary transition-colors",title:"Zoom out",children:o("span",{className:"text-lg font-bold",children:""})}),o("button",{onClick:()=>window.location.reload(),className:"p-3 bg-card text-foreground rounded-full shadow-lg hover:bg-secondary transition-colors",title:"Refresh",children:o(vp,{className:"h-5 w-5"})})]})]}),ee&&o("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center",children:p("div",{className:"bg-card p-4 rounded-lg flex items-center space-x-3",children:[o(Rt,{className:"h-6 w-6 animate-spin text-primary"}),o("span",{className:"text-foreground",children:"Loading map data..."})]})})]}),p("div",{className:"flex items-center justify-center space-x-6 text-sm text-muted-foreground",children:[p("div",{className:"flex items-center",children:[o("div",{className:"w-4 h-4 rounded-full bg-green-500 mr-2"}),o("span",{children:"8.0-10.0"})]}),p("div",{className:"flex items-center",children:[o("div",{className:"w-4 h-4 rounded-full bg-blue-500 mr-2"}),o("span",{children:"6.0-7.9"})]}),p("div",{className:"flex items-center",children:[o("div",{className:"w-4 h-4 rounded-full bg-orange-500 mr-2"}),o("span",{children:"4.0-5.9"})]}),p("div",{className:"flex items-center",children:[o("div",{className:"w-4 h-4 rounded-full bg-red-500 mr-2"}),o("span",{children:"1.0-3.9"})]})]}),J&&o(Jd,{review:J,onClose:()=>$(null)}),V&&we&&o(Dx,{type:V,data:we,onClose:z,onViewReview:be,onSelectEstablishment:ze}),o("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"Tap on markers to view reviews. Use the filter to see beeferies by rating."})]})},Zx=({currentUser:n})=>{const[c,l]=b.useState([]),[g,x]=b.useState(!0),[h,v]=b.useState(null),[_,k]=b.useState({});b.useEffect(()=>{S();const E=j=>{j.detail&&j.detail.type==="news-deleted"?l(Z=>Array.isArray(Z)?Z.filter(J=>J._id!==j.detail.id):[]):S()};return window.addEventListener("content-updated",E),()=>{window.removeEventListener("content-updated",E)}},[]);const S=async()=>{var E;try{x(!0),v(null);const j=await Zo.getNews(),Z=(n==null?void 0:n.role)==="admin"?j.news:(E=j.news)==null?void 0:E.filter(J=>J.visible);l(Z||[])}catch(j){console.error("Failed to fetch news:",j),v("Failed to load news.")}finally{x(!1)}},A=async E=>{if(!n){On({title:"Login Required",description:"You need to be logged in to like news.",type:"warning"});return}if(!_[E])try{k(Z=>({...Z,[E]:!0})),console.log("Liking news item:",E),await Zo.likeNews(E),l(Z=>Z.map(J=>{var $;if(J._id===E){const V=($=J.likes)==null?void 0:$.includes(n._id);return{...J,likes:V?J.likes.filter(re=>re!==n._id):[...J.likes||[],n._id]}}return J}));const j=new CustomEvent("content-updated",{detail:{type:"news-like",newsId:E}});window.dispatchEvent(j)}catch(j){console.error("Like news error:",j),On({title:"Error",description:"Failed to like news. Please try again.",type:"error"})}finally{k(j=>({...j,[E]:!1}))}},I=async(E,j)=>{if(!n){On({title:"Login Required",description:"You need to be logged in to vote in polls.",type:"warning"});return}try{console.log(`Voting on poll ${E}, option ${j}`),await Zo.votePoll(E,j),S();const Z=new CustomEvent("content-updated",{detail:{type:"poll-vote",newsId:E,optionIndex:j}});window.dispatchEvent(Z)}catch(Z){console.error("Poll vote error:",Z),On({title:"Error",description:"Failed to vote in poll. Please try again.",type:"error"})}};return p("div",{className:"space-y-6",children:[o(lt,{className:"bg-gradient-to-r from-primary to-primary/80 text-white",children:p("div",{className:"p-6 flex items-center space-x-3",children:[o(Bd,{className:"h-8 w-8"}),p("div",{children:[o("h2",{className:"text-xl font-bold",children:"Beef News"}),o("p",{className:"text-sm opacity-90",children:"Latest updates from the beef world"})]})]})}),o("div",{className:"space-y-4",children:g?o(lt,{children:p("div",{className:"p-6 text-center flex items-center justify-center text-slate-500",children:[o(Rt,{className:"w-5 h-5 animate-spin mr-2"}),"Loading news..."]})}):h?o(lt,{children:p("div",{className:"p-6 text-center text-red-500",children:[h,o("button",{onClick:S,className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Try Again"})]})}):c.length===0?o(lt,{children:o("div",{className:"p-6 text-center text-slate-500",children:"No beef news available"})}):c.map(E=>o(N0,{item:E,currentUser:n,onLike:()=>A(E._id),onVotePoll:j=>I(E._id,j),onRefreshContent:S},E._id))})]})},rw=({initialPoll:n=null,onSubmit:c,onCancel:l,isSubmitting:g=!1})=>{var Y;const[x,h]=b.useState({question:(n==null?void 0:n.question)||"",options:((Y=n==null?void 0:n.options)==null?void 0:Y.length)>0?n.options.map(K=>({title:K.title||"",imageUrl:K.imageUrl||""})):[{title:"",imageUrl:""},{title:"",imageUrl:""}]}),[v,_]=b.useState(!1),[k,S]=b.useState(null),[A,I]=b.useState({}),[E,j]=b.useState({question:!1,options:{}});b.useEffect(()=>{_(g)},[g]);const Z=(K,ee=null)=>{j(ee!==null?q=>({...q,options:{...q.options,[ee]:!0}}):q=>({...q,[K]:!0}))},J=(K,ee,q)=>{const R=[...x.options];R[K]={...R[K],[ee]:q},h({...x,options:R}),Z("options",K)},$=()=>{h({...x,options:[...x.options,{title:"",imageUrl:""}]})},V=K=>{if(x.options.length<=2){S("A poll requires at least two options");return}const ee=[...x.options];ee.splice(K,1);const q={...E.options};delete q[K];const R={};Object.keys(q).forEach(F=>{const ie=parseInt(F,10);ie>K?R[ie-1]=q[F]:R[F]=q[F]}),j({...E,options:R}),h({...x,options:ee})},re=async(K,ee)=>{if(!ee)return;I(R=>({...R,[K]:null}));const q=Te.MAX_IMAGE_SIZE;if(ee.size>q){const R=Math.round(q/1048576);I(F=>({...F,[K]:`Image must be less than ${R}MB`}));return}if(!ee.type.startsWith("image/")){I(R=>({...R,[K]:"File must be an image"}));return}try{const R=new FileReader;R.onloadend=()=>{J(K,"imageUrl",R.result)},R.onerror=()=>{I(F=>({...F,[K]:"Failed to load image"}))},R.readAsDataURL(ee)}catch(R){console.error("Image processing error:",R),I(F=>({...F,[K]:"Error processing image"}))}},we=(K,ee,q=null)=>K==="question"?ee.trim()?null:"Question is required":K==="option"&&q!==null?ee.trim()?null:`Option ${q+1} title is required`:null,xe=()=>{let K=!0,ee=null;return x.question.trim()||(ee="Poll question is required",K=!1),x.options.filter(R=>R.title.trim()).length<2&&(ee="At least two options with titles are required",K=!1),Object.values(A).some(R=>R!==null)&&(ee="Please fix the image errors before continuing",K=!1),S(ee),K},fe=async K=>{if(K.preventDefault(),j({question:!0,options:x.options.reduce((ee,q,R)=>(ee[R]=!0,ee),{})}),!!xe()){_(!0),S(null);try{const ee=x.options.filter(q=>q.title.trim()).map(q=>({title:q.title.trim(),imageUrl:q.imageUrl||null}));await c({question:x.question.trim(),options:ee,active:!0})}catch(ee){console.error("Poll submission error:",ee),S(ee.message||"Failed to save poll"),_(!1)}}},U=(K,ee=null)=>K==="question"&&E.question?we("question",x.question):K==="option"&&ee!==null&&E.options[ee]?we("option",x.options[ee].title,ee):null;return p(lt,{className:"p-6",children:[p("div",{className:"flex justify-between items-center mb-4",children:[o("h3",{className:"text-lg font-bold text-foreground",children:n?"Edit Poll":"Create Poll"}),o("button",{onClick:l,className:"p-2 hover:bg-secondary rounded-full transition-colors",disabled:v,children:o(Yt,{className:"h-5 w-5 text-muted-foreground"})})]}),k&&p("div",{className:"mb-4 p-3 bg-red-100 border border-red-200 rounded-lg text-red-600 flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),o("span",{children:k})]}),p("form",{onSubmit:fe,className:"space-y-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Poll Question"}),o("input",{type:"text",value:x.question,onChange:K=>{h({...x,question:K.target.value}),Z("question")},className:`w-full p-3 border ${U("question")?"border-red-300 focus:ring-red-500":"border-border focus:ring-primary"} rounded-lg focus:ring-2 focus:border-transparent`,placeholder:"What's your favorite beef?",required:!0,disabled:v}),U("question")&&o("p",{className:"mt-1 text-sm text-red-500",children:U("question")})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-2",children:"Options"}),o("div",{className:"space-y-3",children:x.options.map((K,ee)=>p("div",{className:"flex items-start space-x-2",children:[p("div",{className:"flex-grow",children:[o("input",{type:"text",value:K.title,onChange:q=>J(ee,"title",q.target.value),className:`w-full p-3 border ${U("option",ee)?"border-red-300 focus:ring-red-500":"border-border focus:ring-primary"} rounded-lg focus:ring-2 focus:border-transparent`,placeholder:`Option ${ee+1}`,required:!0,disabled:v}),U("option",ee)&&o("p",{className:"mt-1 text-sm text-red-500",children:U("option",ee)})]}),p("div",{className:"w-20 h-20 flex-shrink-0",children:[K.imageUrl?p("div",{className:"relative h-full w-full group",children:[o("img",{src:K.imageUrl,alt:K.title||`Option ${ee+1}`,className:"h-full w-full object-cover rounded-lg border border-border"}),o("button",{type:"button",onClick:()=>J(ee,"imageUrl",""),className:"absolute top-1 right-1 p-1 bg-black/50 text-white rounded-full opacity-0 group-hover:opacity-100 transition-opacity",disabled:v,children:o(Yt,{className:"h-4 w-4"})})]}):p("label",{className:`flex flex-col items-center justify-center h-full w-full border-2 border-dashed ${A[ee]?"border-red-300":"border-border"} rounded-lg cursor-pointer hover:border-primary/50 transition-colors ${v?"opacity-50 cursor-not-allowed":""}`,children:[o(Od,{className:"h-6 w-6 text-muted-foreground"}),o("span",{className:"text-xs text-muted-foreground mt-1",children:"Add Image"}),o("input",{type:"file",accept:"image/*",className:"hidden",onChange:q=>{q.target.files&&q.target.files[0]&&re(ee,q.target.files[0])},disabled:v})]}),A[ee]&&o("p",{className:"mt-1 text-xs text-red-500",children:A[ee]})]}),x.options.length>2&&o("button",{type:"button",onClick:()=>V(ee),className:"p-2 hover:bg-red-50 text-red-500 rounded-full transition-colors",disabled:v,children:o(Yt,{className:"h-5 w-5"})})]},ee))}),p("button",{type:"button",onClick:$,className:`mt-3 flex items-center px-4 py-2 bg-secondary text-foreground rounded-lg hover:bg-secondary/80 transition-colors ${v?"opacity-50 cursor-not-allowed":""}`,disabled:v,children:[o(Bs,{className:"h-4 w-4 mr-2"}),"Add Option"]})]}),p("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[o("button",{type:"button",onClick:l,className:"px-4 py-2 text-foreground hover:bg-secondary rounded-lg transition-colors",disabled:v,children:"Cancel"}),o("button",{type:"submit",disabled:v,className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center",children:v?p(jt,{children:[o(Rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):"Save Poll"})]})]})]})},Yx=[{text:"Beef Madness",color:"purple"},{text:"Event",color:"green"},{text:"Important",color:"red"},{text:"Announcement",color:"blue"},{text:"Featured",color:"amber"},{text:"Sponsored",color:"pink"},{text:"Update",color:"cyan"}],Gx=[{name:"primary",value:"primary"},{name:"Red",value:"red"},{name:"Green",value:"green"},{name:"Blue",value:"blue"},{name:"Yellow",value:"yellow"},{name:"Purple",value:"purple"},{name:"Pink",value:"pink"},{name:"Orange",value:"orange"},{name:"Cyan",value:"cyan"},{name:"Amber",value:"amber"},{name:"Gray",value:"gray"}],Qx=({news:n=null,onClose:c,onSubmit:l,onRefreshContent:g=()=>{},currentUser:x})=>{var ge,H;const[h,v]=b.useState({title:(n==null?void 0:n.title)||"",content:(n==null?void 0:n.content)||"",image:null,visible:(n==null?void 0:n.visible)??!0,tags:(n==null?void 0:n.tags)||[],pinned:((ge=n==null?void 0:n.pinned)==null?void 0:ge.isPinned)||!1,pinnedLabel:((H=n==null?void 0:n.pinned)==null?void 0:H.label)||""}),[_,k]=b.useState(n!=null&&n.imageUrl?typeof Te.getImageUrl=="function"?Te.getImageUrl(n.imageUrl):n.imageUrl:""),[S,A]=b.useState(!1),[I,E]=b.useState(!1),[j,Z]=b.useState({text:"",color:"primary"}),[J,$]=b.useState(""),[V,re]=b.useState(!1),[we,xe]=b.useState(!1),[fe,U]=b.useState(!1),[Y,K]=b.useState((n==null?void 0:n._id)||null),[ee,q]=b.useState(!1);b.useEffect(()=>{let ue;return fe&&(ue=setTimeout(()=>{U(!1)},3e3)),()=>clearTimeout(ue)},[fe]);const R=ue=>{const W=ue.target.files[0];if(W){if(W.size>Te.MAX_IMAGE_SIZE){const B=Math.round(Te.MAX_IMAGE_SIZE/1048576);$(`Image size must be less than ${B}MB`);return}if(!(Te.ALLOWED_IMAGE_TYPES&&Te.ALLOWED_IMAGE_TYPES.includes(W.type)||W.type.startsWith("image/"))){$("File type not supported. Please upload an image.");return}v(B=>({...B,image:W})),k(URL.createObjectURL(W)),$("")}},F=async ue=>{if(ue.preventDefault(),!x||x.role!=="admin"){$("You must be an admin to submit news");return}re(!0),$("");try{console.log("Original tags:",h.tags);const W=new FormData;W.append("title",h.title),W.append("content",h.content),W.append("visible",h.visible);const B=Array.isArray(h.tags)?h.tags:[];console.log("Tags being sent (pre-stringify):",B);const ye=JSON.stringify(B);console.log("Tags being sent (stringified):",ye),W.append("tags",ye);const de={isPinned:!!h.pinned,label:h.pinnedLabel||(h.pinned?"Pinned News":"")};W.append("pinned",JSON.stringify(de)),h.image&&W.append("image",h.image),W.append("directTestTags",JSON.stringify([{text:"Test Tag 1",color:"green"},{text:"Test Tag 2",color:"blue"}])),console.log("Form data entries:");for(let oe of W.entries())console.log(oe[0],":",typeof oe[1]=="string"?oe[1]:"[File or object]");const te=await l(W);if(te){console.log("News saved successfully with response:",te),Array.isArray(te.tags)?console.log("Tags saved in response:",te.tags):console.warn("No tags array in response:",te),te._id&&!Y&&K(te._id),U(!0),S||c(),console.log("Dispatching content-updated event after save");const oe=new CustomEvent("content-updated");window.dispatchEvent(oe)}}catch(W){console.error("News submission error:",W),$(W.message||"Failed to submit news")}finally{re(!1)}},ie=()=>{j.text.trim()&&(v(ue=>({...ue,tags:[...ue.tags,{...j}]})),Z({text:"",color:"primary"}),E(!1))},Q=ue=>{v(W=>({...W,tags:W.tags.filter((B,ye)=>ye!==ue)}))},ae=async ue=>{if(!ue||!ue.question||!ue.options||ue.options.length<2){$("Invalid poll data. Make sure to include a question and at least two options.");return}xe(!0),$("");try{if(!Y)throw new Error("Missing news ID. Please save the news item first.");console.log("Submitting poll for news ID:",Y,"with data:",ue);const W=localStorage.getItem("token");if(!W)throw new Error("Not authenticated");const B=await fetch(`${Te.API_URL}/news/${Y}/poll`,{method:"POST",headers:{Authorization:`Bearer ${W}`,"Content-Type":"application/json"},body:JSON.stringify(ue)});if(!B.ok){const te=await B.json().catch(()=>({}));throw console.error("Poll submission server error:",te),new Error(te.message||`Failed to add poll: ${B.status}`)}const ye=await B.json();console.log("Poll added successfully:",ye),A(!1),U(!0),g&&g(),ee||!h.visible?($(""),U(!0),setTimeout(()=>{$("Poll added successfully! You can now publish this news when ready.")},1500)):setTimeout(()=>{c()},1500);const de=new Event("content-updated");window.dispatchEvent(de)}catch(W){console.error("Poll submission error:",W),$(W.message||"Failed to add poll")}finally{xe(!1)}},Ne=ue=>{switch(ue){case"red":return"bg-red-100 text-red-800";case"green":return"bg-green-100 text-green-800";case"blue":return"bg-blue-100 text-blue-800";case"yellow":return"bg-yellow-100 text-yellow-800";case"purple":return"bg-purple-100 text-purple-800";case"pink":return"bg-pink-100 text-pink-800";case"orange":return"bg-orange-100 text-orange-800";case"cyan":return"bg-cyan-100 text-cyan-800";case"amber":return"bg-amber-100 text-amber-800";case"gray":return"bg-gray-100 text-gray-800";default:return"bg-primary/10 text-primary"}};return p("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100] overflow-y-auto",children:[o(lt,{className:"w-full max-w-2xl bg-card shadow-xl rounded-2xl",children:p("div",{className:"p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[o("h2",{className:"text-2xl font-bold text-foreground",children:n?"Edit News":"Add News"}),o("button",{onClick:c,className:"p-2 hover:bg-secondary rounded-full transition-colors",disabled:V||we,children:o(Yt,{className:"h-6 w-6 text-muted-foreground"})})]}),fe&&p("div",{className:"mb-6 p-4 bg-green-500/10 border border-green-500/20 rounded-lg text-green-500 flex items-center",children:[o(hu,{className:"h-5 w-5 mr-2"}),n?"News updated successfully!":"News created successfully!",ee&&" (Saved as draft)"]}),J&&p("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),J]}),p("form",{onSubmit:F,className:"space-y-6",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Title"}),o("input",{type:"text",value:h.title,onChange:ue=>v({...h,title:ue.target.value}),className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter news title...",required:!0,disabled:V||we})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Content"}),o("textarea",{value:h.content,onChange:ue=>v({...h,content:ue.target.value}),rows:6,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Write your news content...",required:!0,disabled:V||we})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Image"}),p("div",{className:"flex items-center space-x-4",children:[_?p("div",{className:"relative group",children:[o("img",{src:_,alt:"Preview",className:"w-32 h-24 object-cover rounded-lg border border-border"}),o("button",{type:"button",onClick:()=>{k(""),v({...h,image:null})},className:"absolute top-1 right-1 p-1 bg-card rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity",disabled:V||we,children:o(Yt,{className:"h-4 w-4 text-muted-foreground"})})]}):o("div",{className:"w-32 h-24 border-2 border-dashed border-border rounded-lg flex items-center justify-center",children:o(Od,{className:"h-8 w-8 text-muted-foreground"})}),p("label",{className:`flex items-center px-4 py-2 bg-secondary text-foreground rounded-lg cursor-pointer hover:bg-secondary/90 transition-colors ${V||we?"opacity-50 cursor-not-allowed":""}`,children:[o(l0,{className:"h-5 w-5 mr-2"}),"Upload Image",o("input",{type:"file",accept:"image/*",onChange:R,className:"hidden",disabled:V||we})]})]})]}),p("div",{children:[p("div",{className:"flex justify-between items-center mb-2",children:[o("label",{className:"block text-sm font-medium text-foreground",children:"Tags"}),p("button",{type:"button",onClick:()=>E(!0),className:"text-xs flex items-center text-primary hover:text-primary/80",disabled:V||we,children:[o(Bs,{className:"h-3 w-3 mr-1"}),"Add Tag"]})]}),p("div",{className:"flex flex-wrap gap-2 mb-2",children:[h.tags.map((ue,W)=>p("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ne(ue.color)}`,children:[ue.text,o("button",{type:"button",onClick:()=>Q(W),className:"ml-1.5 h-3.5 w-3.5 rounded-full flex items-center justify-center hover:bg-black/20",disabled:V||we,children:o(Yt,{className:"h-2 w-2"})})]},W)),h.tags.length===0&&o("span",{className:"text-sm text-muted-foreground",children:"No tags added"})]}),I&&p("div",{className:"flex items-center space-x-2 mt-2 p-3 bg-secondary/30 rounded-lg",children:[o("input",{type:"text",value:j.text,onChange:ue=>Z({...j,text:ue.target.value}),className:"flex-grow p-2 text-sm border border-border rounded-lg",placeholder:"Tag name",disabled:V||we}),o("select",{value:j.color,onChange:ue=>Z({...j,color:ue.target.value}),className:"p-2 text-sm border border-border rounded-lg",disabled:V||we,children:Gx.map(ue=>o("option",{value:ue.value,children:ue.name},ue.value))}),o("button",{type:"button",onClick:ie,className:"p-2 bg-primary text-white rounded-lg text-sm",disabled:V||we,children:"Add"}),o("button",{type:"button",onClick:()=>E(!1),className:"p-2 text-muted-foreground",disabled:V||we,children:"Cancel"})]}),!I&&p("div",{className:"text-xs text-muted-foreground mt-1",children:["Suggested:",Yx.map((ue,W)=>o("button",{type:"button",onClick:()=>{h.tags.some(B=>B.text===ue.text)||v(B=>({...B,tags:[...B.tags,{...ue}]}))},className:"ml-1 underline hover:text-foreground",disabled:V||we,children:ue.text},W))]})]}),p("div",{children:[p("div",{className:"flex items-center mb-2",children:[o("input",{type:"checkbox",id:"pinned",checked:h.pinned,onChange:ue=>v({...h,pinned:ue.target.checked}),className:"h-4 w-4 rounded border-gray-300 text-primary focus:ring-primary",disabled:V||we}),p("label",{htmlFor:"pinned",className:"ml-2 text-sm font-medium text-foreground flex items-center",children:[o(Fd,{className:"h-4 w-4 mr-1"}),"Pin this post"]})]}),h.pinned&&p("div",{className:"ml-6 mt-2",children:[o("label",{className:"block text-xs font-medium text-foreground mb-1",children:"Pin Label"}),o("input",{type:"text",value:h.pinnedLabel,onChange:ue=>v({...h,pinnedLabel:ue.target.value}),className:"w-full p-2 text-sm border border-border rounded-lg",placeholder:"Important News, Featured, etc.",disabled:V||we})]})]}),p("div",{className:"flex items-center space-x-2",children:[o("input",{type:"checkbox",id:"visible",checked:h.visible,onChange:ue=>v({...h,visible:ue.target.checked}),className:"rounded border-border text-primary focus:ring-primary",disabled:V||we}),o("label",{htmlFor:"visible",className:"text-sm text-foreground",children:"Publish immediately"})]}),p("div",{className:"pt-4 border-t",children:[p("button",{type:"button",onClick:()=>{if(h.title.trim()===""||h.content.trim()===""){$("Please enter a title and content before adding a poll");return}if(Y){A(!0);return}n?$("Cannot add poll: missing news ID. Try saving first."):(localStorage.setItem("poll_creation_mode","true"),window.confirm("Adding a poll requires saving the news item first. Would you like to save this news as a draft and add a poll now? You can publish it after adding the poll.")&&(async()=>{try{re(!0),$("");const W=new FormData;W.append("title",h.title),W.append("content",h.content),W.append("visible",!1),W.append("tags",JSON.stringify(h.tags)),W.append("pinned",JSON.stringify({isPinned:h.pinned,label:h.pinnedLabel})),h.image&&W.append("image",h.image),console.log("Saving draft news before showing poll form");const B=await l(W);if(B&&B._id)K(B._id),q(!0),v(ye=>({...ye,visible:!1})),U(!0),A(!0);else throw new Error("Failed to get valid response from save operation")}catch(W){console.error("Error saving news draft before poll:",W),$(W.message||"Failed to save news before adding poll")}finally{re(!1)}})())},className:"flex items-center text-primary hover:text-primary/80",disabled:V||we,children:[o(Bs,{className:"h-4 w-4 mr-1"}),"Add Poll to this post"]}),ee&&Y&&o("p",{className:"mt-2 text-xs text-green-500",children:"News saved as draft. You can add a poll and publish when ready."})]}),p("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[o("button",{type:"button",onClick:c,className:"px-4 py-2 text-sm text-foreground hover:bg-secondary rounded-lg transition-colors",disabled:V||we,children:"Cancel"}),o("button",{type:"submit",disabled:V||we,className:"px-4 py-2 text-sm bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center",children:V?p(jt,{children:[o(Rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):o(jt,{children:n?"Update News":"Add News"})})]})]})]})}),S&&o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[110]",children:o("div",{className:"w-full max-w-2xl mx-auto",children:o(rw,{onSubmit:ae,onCancel:()=>A(!1),isSubmitting:we})})})]})},Wx=({currentUser:n})=>{const[c,l]=b.useState([]),[g,x]=b.useState(!0),[h,v]=b.useState(null),[_,k]=b.useState(!1),[S,A]=b.useState(null),[I,E]=b.useState(0);console.log("NewsManagement - Current User:",{user:n,role:n==null?void 0:n.role,id:n==null?void 0:n._id});const j=async(Y=!1)=>{try{x(!0),v(null);const K=await Zo.getNews({forceRefresh:Y});console.log("News API response:",K),K&&Array.isArray(K.news)?l(K.news):K&&Array.isArray(K)?l(K):(console.error("Unexpected news response format:",K),l([]))}catch(K){console.error("Failed to fetch news:",K),v("Failed to load news. Please try again later.")}finally{x(!1)}};b.useEffect(()=>{j()},[I]);const Z=Y=>new Date(Y).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"}),J=async Y=>{try{console.log("Adding news with user:",n);const K=await Zo.addNews(Y);return K&&K._id?l(ee=>[K,...ee]):E(ee=>ee+1),K}catch(K){throw console.error("Error adding news:",K),K}},$=async Y=>{try{const K=await Zo.updateNews(S._id,Y);return K&&K._id?l(ee=>ee.map(q=>q._id===K._id?K:q)):E(ee=>ee+1),A(null),K}catch(K){throw console.error("Error updating news:",K),K}},V=async Y=>{if(window.confirm("Are you sure you want to delete this news item?"))try{await Zo.deleteNews(Y),l(ee=>ee.filter(q=>q._id!==Y)),console.log("Dispatching backup content-updated event after delete");const K=new CustomEvent("content-updated",{detail:{type:"news-deleted",id:Y}});window.dispatchEvent(K)}catch(K){console.error("Delete news error:",K),v("Failed to delete news item. Please try again.")}},re=async(Y,K)=>{try{const ee=c.find(ae=>ae._id===Y);if(!ee)throw new Error("News item not found");const q={...ee,visible:!K};l(ae=>ae.map(Ne=>Ne._id===Y?q:Ne));const R=localStorage.getItem("token");if(!R)throw new Error("Not authenticated");const F=await fetch(`${Te.API_URL}/news/${Y}/visibility`,{method:"PUT",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"},body:JSON.stringify({visible:!K})});if(!F.ok){const ae=await F.json().catch(()=>({}));throw new Error(ae.message||`Failed to update visibility: ${F.status}`)}const ie=await F.json(),Q=ie.news||ie;Q&&typeof Q=="object"&&Q._id?l(ae=>ae.map(Ne=>Ne._id===Y?Q:Ne)):l(ae=>ae.map(Ne=>Ne._id===Y?{...Ne,visible:!K}:Ne)),console.log(`Visibility toggled successfully for news ${Y}. New visibility:`,!K)}catch(ee){console.error("Toggle visibility error:",ee),l(q=>q.map(R=>R._id===Y?{...R,visible:K}:R)),v("Failed to change visibility. Please try again.")}},we=async Y=>{try{const K=c.find(ge=>ge._id===Y);if(!K)throw new Error("News item not found");const ee=!!(typeof K.pinned=="object"&&K.pinned!==null?K.pinned.isPinned:K.pinned);console.log("Current pinned state:",ee);const q=K.pinned&&K.pinned.label||"Pinned News",R=!ee;console.log("New pinned state will be:",R),l(ge=>ge.map(H=>H._id===Y?{...H,pinned:{isPinned:R,label:q,pinnedAt:R?new Date:null}}:H));const F=localStorage.getItem("token");if(!F)throw new Error("Not authenticated");const ie={isPinned:R,label:q};console.log("Sending pin update with payload:",ie);const Q=await fetch(`${Te.API_URL}/news/${Y}/pin`,{method:"PUT",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify(ie)});if(!Q.ok){const ge=await Q.text();throw console.error("Pin update API error:",ge),new Error(`Failed to update pin status: ${Q.status}`)}const ae=await Q.json();console.log("Pin update response:",ae),cacheHelpers.clear("news-data"),l(ge=>ge.map(H=>H._id===Y?{...ae,pinned:typeof ae.pinned=="object"?ae.pinned:{isPinned:!!ae.pinned,label:q}}:H)),console.log("Dispatching content-updated event for pin change");const Ne=new CustomEvent("content-updated");window.dispatchEvent(Ne),await j(!0)}catch(K){console.error("Toggle pinning error:",K),v("Failed to change pinned status. Please try again.");try{await j(!0)}catch(ee){console.error("Error fetching news after pin failure:",ee)}}},xe=()=>{E(Y=>Y+1)},fe=Y=>{var K;if(!Y)return null;try{if(Te.getImageUrl&&typeof Te.getImageUrl=="function")return Te.getImageUrl(Y);const ee=Y.split(/[/\\]/).pop();return`${((K=Te.API_URL)==null?void 0:K.replace(/\/api\/?$/,""))||""}/uploads/news/${ee}`}catch(ee){return console.error("Error generating news image URL:",ee,Y),null}},U=Y=>Y&&Y.poll&&Y.poll.question;return!n||n.role!=="admin"?(console.log("Access denied - User:",n),p("div",{className:"p-8 text-center",children:[o("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Access Denied"}),o("p",{className:"text-muted-foreground",children:"You don't have permission to access this area."}),p("p",{className:"text-muted-foreground mt-2",children:["Current user role: ",n?n.role:"not logged in"]})]})):p("div",{className:"space-y-6",children:[p(lt,{className:"p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[o("h2",{className:"text-xl font-bold text-foreground",children:"News Management"}),p("button",{onClick:()=>{console.log("Add News clicked - Current user:",n),k(!0),A(null)},className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center",children:[o(Bs,{className:"h-5 w-5 mr-2"}),"Add News"]})]}),h&&p("div",{className:"mb-6 p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),o("span",{children:h}),o("button",{onClick:()=>{v(null),xe()},className:"ml-auto text-sm underline",children:"Try Again"})]}),g?p("div",{className:"flex items-center justify-center py-8",children:[o(Rt,{className:"w-6 h-6 animate-spin text-primary"}),o("span",{className:"ml-2 text-foreground",children:"Loading news..."})]}):c.length===0?p("div",{className:"text-center text-muted-foreground py-8",children:[o("p",{className:"mb-4",children:"No news items available"}),p("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center mx-auto",children:[o(Bs,{className:"h-5 w-5 mr-2"}),"Create First News Item"]})]}):o("div",{className:"space-y-4",children:c.map(Y=>{var K,ee,q,R,F;return o(lt,{className:"p-4 hover:shadow-md transition-shadow",children:p("div",{className:"flex items-start justify-between",children:[p("div",{className:"flex flex-col space-y-4",children:[p("div",{children:[o("h3",{className:"text-lg font-bold text-foreground",children:Y.title}),p("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mt-1",children:[p("span",{className:"flex items-center",children:[o(zs,{className:"w-4 h-4 mr-1"}),((K=Y.author)==null?void 0:K.displayName)||"Unknown Author"]}),p("span",{className:"flex items-center",children:[o(Yo,{className:"w-4 h-4 mr-1"}),Z(Y.date)]}),p("span",{className:"flex items-center",children:[o(sa,{className:"w-4 h-4 mr-1"}),((ee=Y.likes)==null?void 0:ee.length)||0]}),U(Y)&&p("span",{className:"flex items-center",children:[o(du,{className:"w-4 h-4 mr-1"}),"Poll"]})]})]}),p("div",{className:"flex items-start space-x-4",children:[o("div",{className:"flex-grow",children:o("p",{className:"text-muted-foreground line-clamp-3",children:Y.content})}),Y.imageUrl&&o("div",{className:"flex-shrink-0",children:o("img",{src:fe(Y.imageUrl),alt:Y.title,className:"w-32 h-24 rounded-lg object-cover",onError:ie=>{console.error("Image load error:",{src:ie.target.src,original:Y.imageUrl}),ie.target.style.display="none"}})})]}),p("div",{className:"flex flex-wrap items-center gap-2",children:[o("span",{className:`text-xs px-2 py-1 rounded-full ${Y.visible?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:Y.visible?"Published":"Hidden"}),((q=Y.pinned)==null?void 0:q.isPinned)&&p("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full",children:["Pinned",Y.pinned.label?`: ${Y.pinned.label}`:""]}),U(Y)&&o("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-800 rounded-full",children:Y.poll.active?"Active Poll":"Closed Poll"}),Y.tags&&Y.tags.length>0&&o("div",{className:"flex flex-wrap gap-1 mt-1",children:Array.isArray(Y.tags)?Y.tags.map((ie,Q)=>o("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-800 rounded-full",children:typeof ie=="string"?ie:ie.text||ie.name||"Tag"},Q)):o("span",{className:"text-xs px-2 py-0.5 bg-gray-100 text-gray-800 rounded-full",children:typeof Y.tags=="string"?Y.tags:"Has tags"})})]})]}),o("div",{className:"ml-4 flex-shrink-0",children:p("div",{className:"flex flex-col space-y-2",children:[o("button",{onClick:()=>re(Y._id,Y.visible),className:`p-2 rounded-lg transition-colors flex items-center ${Y.visible?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"}`,title:Y.visible?"Hide":"Show",children:Y.visible?o(Rs,{className:"w-5 h-5"}):o(Gh,{className:"w-5 h-5"})}),o("button",{onClick:()=>we(Y._id),className:`p-2 rounded-lg transition-colors flex items-center ${typeof Y.pinned=="object"&&((R=Y.pinned)!=null&&R.isPinned)||typeof Y.pinned=="boolean"&&Y.pinned?"bg-blue-100 text-blue-800 hover:bg-blue-200":"bg-secondary hover:bg-secondary/80"}`,title:typeof Y.pinned=="object"&&((F=Y.pinned)!=null&&F.isPinned)||typeof Y.pinned=="boolean"&&Y.pinned?"Unpin":"Pin",children:o(Fd,{className:"w-5 h-5 text-foreground"})}),o("button",{onClick:()=>{A(Y),k(!0)},className:"p-2 bg-secondary hover:bg-secondary/80 rounded-lg transition-colors",title:"Edit news",children:o(qv,{className:"w-5 w-5 text-foreground"})}),o("button",{onClick:()=>V(Y._id),className:"p-2 bg-red-100 hover:bg-red-200 text-red-800 rounded-lg transition-colors",title:"Delete news",children:o(Bf,{className:"w-5 h-5"})}),o("button",{onClick:async()=>{try{console.log("Adding tags to news:",Y._id);const ie=await Zo.addTagsToNews(Y._id);console.log("Tags added successfully:",ie),xe()}catch(ie){console.error("Failed to add tags:",ie),v("Failed to add tags: "+ie.message)}},className:"p-2 bg-purple-100 hover:bg-purple-200 text-purple-800 rounded-lg transition-colors",title:"Add Test Tags",children:o(Dm,{className:"w-5 h-5"})})]})})]})},Y._id)})})]}),_&&o(Qx,{news:S,onClose:()=>{k(!1),A(null)},onSubmit:S?$:J,onRefreshContent:xe,currentUser:n})]})},Jx=({role:n})=>{if(!n)return null;const l={admin:{text:"Admin",className:"bg-purple-100 text-purple-800"},moderator:{text:"Mod",className:"bg-green-100 text-green-800"},user:{text:"User",className:"bg-slate-100 text-slate-800"},mvb:{text:"MVB",className:"bg-purple-100 text-purple-800"},danBob:{text:"DanBob",className:"bg-orange-100 text-orange-800"},verified:{text:"Verified",className:"bg-blue-100 text-blue-800"},banned:{text:"Banned",className:"bg-red-100 text-red-800"}}[n]||{text:n,className:"bg-slate-100 text-slate-800"};return o("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.className}`,children:l.text})},$x=()=>{const[n,c]=b.useState([]),[l,g]=b.useState(""),[x,h]=b.useState(!0),[v,_]=b.useState(null),[k,S]=b.useState(!1),{showNotification:A}=Ud(),[I,E]=b.useState({page:1,total:0,pages:0}),[j,Z]=b.useState({role:"all",status:"all",sortBy:"joinDate",sortOrder:"desc",page:1,limit:10}),J=async()=>{try{h(!0),_(null);const U=localStorage.getItem("token"),Y=new URLSearchParams({search:l,...j}),K=await fetch(`${Te.API_URL}/admin/users?${Y}`,{headers:{Authorization:`Bearer ${U}`,Accept:"application/json"}});if(!K.ok)throw new Error("Failed to fetch users");const ee=await K.json();c(ee.users||[]),E(ee.pagination||{page:1,total:0,pages:0})}catch(U){console.error("Error fetching users:",U),_(U.message||"Failed to load users"),A("error","Failed to load users")}finally{h(!1)}};b.useEffect(()=>{J()},[]),b.useEffect(()=>{const U=setTimeout(()=>{l!==""&&J()},500);return()=>clearTimeout(U)},[l]),b.useEffect(()=>{j.page!==1&&J()},[j.page]);const $=(U,Y)=>{Z(K=>({...K,[U]:Y,page:1})),J()},V=U=>{Z(Y=>({...Y,page:U}))},re=async(U,Y)=>{try{const K=JSON.parse(localStorage.getItem("user"));if(U===K._id){A("error","You cannot change your own role");return}const ee=n.find(F=>F._id===U);if(!ee){A("error","User not found");return}if(ee.role==="admin"&&Y!=="admin"&&n.filter(ie=>ie.role==="admin").length<=1){A("error","Cannot remove the last admin user");return}const q=localStorage.getItem("token"),R=await fetch(`${Te.API_URL}/admin/users/${U}/role`,{method:"PUT",headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"},body:JSON.stringify({role:Y})});if(!R.ok){const F=await R.json();throw new Error(F.message)}c(F=>F.map(ie=>ie._id===U?{...ie,role:Y}:ie)),A("success",`User role updated to ${Y} successfully`)}catch(K){console.error("Failed to update user role:",K),A("error",K.message||"Failed to update user role")}},we=async(U,Y)=>{try{const K=localStorage.getItem("token"),ee=await fetch(`${Te.API_URL}/admin/users/${U}/ban`,{method:"PUT",headers:{Authorization:`Bearer ${K}`,"Content-Type":"application/json"},body:JSON.stringify({banned:Y})});if(!ee.ok){const q=await ee.json();throw new Error(q.message)}A("success",Y?"User banned successfully":"User unbanned successfully"),J()}catch(K){console.error("Failed to update user ban status:",K),A("error",K.message)}},xe=U=>o(la,{user:U,size:"xl",className:"w-12 h-12"}),fe=U=>new Date(U).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return p("div",{className:"space-y-6",children:[p("div",{className:"flex flex-col space-y-4",children:[p("div",{className:"flex items-center space-x-4",children:[p("div",{className:"relative flex-1",children:[o("input",{type:"text",placeholder:"Search users by name, email, or username...",value:l,onChange:U=>g(U.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-200 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),o(zf,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"})]}),o("button",{onClick:()=>S(!k),className:"p-2 hover:bg-slate-100 rounded-lg transition-colors",children:o(s0,{className:"h-5 w-5 text-slate-600"})})]}),k&&o(lt,{className:"p-4",children:p("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Role"}),p("select",{value:j.role,onChange:U=>$("role",U.target.value),className:"w-full p-2 border border-slate-200 rounded-lg",children:[o("option",{value:"all",children:"All Roles"}),o("option",{value:"user",children:"Users"}),o("option",{value:"admin",children:"Admins"}),o("option",{value:"moderator",children:"Moderators"}),o("option",{value:"mvb",children:"MVB"}),o("option",{value:"danBob",children:"DanBob"}),o("option",{value:"verified",children:"Verified"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),p("select",{value:j.status,onChange:U=>$("status",U.target.value),className:"w-full p-2 border border-slate-200 rounded-lg",children:[o("option",{value:"all",children:"All Status"}),o("option",{value:"active",children:"Active"}),o("option",{value:"banned",children:"Banned"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),p("select",{value:j.sortBy,onChange:U=>$("sortBy",U.target.value),className:"w-full p-2 border border-slate-200 rounded-lg",children:[o("option",{value:"joinDate",children:"Join Date"}),o("option",{value:"lastActive",children:"Last Active"}),o("option",{value:"reviewCount",children:"Review Count"}),o("option",{value:"username",children:"Username"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort Order"}),p("select",{value:j.sortOrder,onChange:U=>$("sortOrder",U.target.value),className:"w-full p-2 border border-slate-200 rounded-lg",children:[o("option",{value:"desc",children:"Descending"}),o("option",{value:"asc",children:"Ascending"})]})]})]})})]}),o("div",{className:"space-y-4",children:x&&n.length===0?o(lt,{className:"p-6",children:p("div",{className:"flex items-center justify-center",children:[o(Rt,{className:"w-6 h-6 animate-spin text-purple-500"}),o("span",{className:"ml-2 text-slate-600",children:"Loading users..."})]})}):v?o(lt,{className:"p-6",children:p("div",{className:"text-center text-red-500",children:[o(fr,{className:"w-6 h-6 mx-auto mb-2"}),v,o("button",{onClick:J,className:"mt-4 px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600",children:"Try Again"})]})}):n.length===0?o(lt,{children:o("div",{className:"p-6 text-center text-slate-500",children:"No users found"})}):p(jt,{children:[n.map(U=>{var Y;return o(lt,{className:"hover:shadow-md transition-shadow",children:o("div",{className:"p-6",children:p("div",{className:"flex flex-col md:flex-row md:items-start space-y-4 md:space-y-0 md:justify-between",children:[p("div",{className:"flex items-start space-x-4",children:[o("div",{className:"flex-shrink-0",children:xe(U)}),p("div",{children:[o("h3",{className:"text-lg font-semibold text-slate-900",children:U.displayName}),p("div",{className:"flex flex-wrap items-center gap-2 mt-1",children:[p("span",{className:"text-sm text-slate-500",children:["@",U.username]}),o(Jx,{role:U.role}),U.banned&&o("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Banned"})]}),p("div",{className:"flex flex-wrap items-center gap-4 mt-2 text-sm text-slate-500",children:[p("div",{className:"flex items-center",children:[o(Xh,{className:"h-4 w-4 mr-1"}),o("span",{className:"truncate max-w-[200px]",children:U.email})]}),p("div",{className:"flex items-center",children:[o(Yo,{className:"h-4 w-4 mr-1"}),"Joined ",fe(U.joinDate)]})]})]})]}),p("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[p("div",{className:"flex space-x-4 px-4 py-2 bg-slate-50 rounded-lg w-full sm:w-auto",children:[p("div",{className:"flex items-center text-slate-600",children:[o(Rd,{className:"h-4 w-4 mr-1"}),p("span",{className:"text-sm",children:[U.reviewCount||0," reviews"]})]}),p("div",{className:"flex items-center text-slate-600",children:[o(Bn,{className:"h-4 w-4 mr-1"}),p("span",{className:"text-sm",children:[((Y=U.avgRating)==null?void 0:Y.toFixed(1))||0," avg"]})]})]}),p("div",{className:"flex space-x-2",children:[p("select",{value:U.role,onChange:K=>re(U._id,K.target.value),className:`px-3 py-1.5 border border-slate-200 rounded-lg text-sm hover:border-slate-300 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent ${U._id===JSON.parse(localStorage.getItem("user"))._id?"opacity-50 cursor-not-allowed":""}`,disabled:U._id===JSON.parse(localStorage.getItem("user"))._id||U.role==="admin"&&n.filter(K=>K.role==="admin").length===1,children:[o("option",{value:"user",children:"User"}),o("option",{value:"admin",children:"Admin"}),o("option",{value:"moderator",children:"Moderator"}),o("option",{value:"mvb",children:"MVB"}),o("option",{value:"danBob",children:"DanBob"}),o("option",{value:"verified",children:"Verified"})]}),o("button",{onClick:()=>we(U._id,!U.banned),className:`p-2 rounded-lg transition-colors ${U.banned?"text-green-600 hover:bg-green-50":"text-red-600 hover:bg-red-50"} ${U.role==="admin"?"opacity-50 cursor-not-allowed":""}`,disabled:U.role==="admin",title:U.role==="admin"?"Cannot ban admin users":U.banned?"Unban User":"Ban User",children:U.banned?o(Am,{className:"h-5 w-5"}):o(Uv,{className:"h-5 w-5"})})]})]})]})})},U._id)}),I.pages>1&&p("div",{className:"flex items-center justify-between border-t border-slate-200 bg-white px-4 py-3 sm:px-6",children:[p("div",{className:"flex flex-1 justify-between sm:hidden",children:[o("button",{onClick:()=>V(I.page-1),disabled:I.page===1,className:"relative inline-flex items-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Previous"}),o("button",{onClick:()=>V(I.page+1),disabled:I.page===I.pages,className:"relative ml-3 inline-flex items-center rounded-md border border-slate-300 bg-white px-4 py-2 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-50",children:"Next"})]}),p("div",{className:"hidden sm:flex sm:flex-1 sm:items-center sm:justify-between",children:[o("div",{children:p("p",{className:"text-sm text-slate-700",children:["Showing"," ",o("span",{className:"font-medium",children:(I.page-1)*j.limit+1})," ","to"," ",o("span",{className:"font-medium",children:Math.min(I.page*j.limit,I.total)})," ","of"," ",o("span",{className:"font-medium",children:I.total})," ","users"]})}),o("div",{children:p("nav",{className:"isolate inline-flex -space-x-px rounded-md shadow-sm","aria-label":"Pagination",children:[p("button",{onClick:()=>V(I.page-1),disabled:I.page===1,className:"relative inline-flex items-center rounded-l-md px-2 py-2 text-slate-400 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[o("span",{className:"sr-only",children:"Previous"}),o(gp,{className:"h-5 w-5","aria-hidden":"true"})]}),Array.from({length:I.pages},(U,Y)=>Y+1).filter(U=>{const Y=I.page;return U===1||U===I.pages||U>=Y-1&&U<=Y+1}).map((U,Y,K)=>{const ee=[];return Y>0&&K[Y-1]!==U-1&&ee.push(o("span",{className:"relative inline-flex items-center px-4 py-2 text-sm font-semibold text-slate-700 ring-1 ring-inset ring-slate-300",children:"..."},`ellipsis-before-${U}`)),ee.push(o("button",{onClick:()=>V(U),className:`relative inline-flex items-center px-4 py-2 text-sm font-semibold ${U===I.page?"bg-purple-600 text-white focus:z-20 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-purple-600":"text-slate-900 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 focus:z-20 focus:outline-offset-0"}`,children:U},U)),ee}),p("button",{onClick:()=>V(I.page+1),disabled:I.page===I.pages,className:"relative inline-flex items-center rounded-r-md px-2 py-2 text-slate-400 ring-1 ring-inset ring-slate-300 hover:bg-slate-50 focus:z-20 focus:outline-offset-0 disabled:opacity-50",children:[o("span",{className:"sr-only",children:"Next"}),o(qh,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})})]})},Hx=()=>{const[n,c]=b.useState([]),[l,g]=b.useState(""),[x,h]=b.useState("all"),[v,_]=b.useState(!0),[k,S]=b.useState(!1),[A,I]=b.useState(!1),[E,j]=b.useState(null),[Z,J]=b.useState({page:1,total:0,pages:0}),[$,V]=b.useState({minRating:"",maxRating:"",reportStatus:"all",sortBy:"date",sortOrder:"desc",page:1,limit:10}),{showNotification:re}=Ud();b.useEffect(()=>{we()},[$,l]);const we=async()=>{try{_(!0);const R=localStorage.getItem("token");if(!R)throw new Error("No authentication token found");const F=new URLSearchParams({search:l,...$,page:$.page,limit:$.limit}),ie=await fetch(`${Te.API_URL}/reviews?${F}`,{headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}});if(!ie.ok)throw new Error(`Failed to fetch reviews: ${ie.status}`);const Q=await ie.json();c(Q.reviews||[]),J(Q.pagination||{page:1,total:0,pages:0})}catch(R){console.error("Failed to fetch reviews:",R),re("error","Failed to load reviews")}finally{_(!1)}},xe=async R=>{if(window.confirm("Are you sure you want to delete this review?"))try{const F=localStorage.getItem("token");if(!F)throw new Error("No authentication token found");const ie=await fetch(`${Te.API_URL}/reviews/${R}`,{method:"DELETE",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(!ie.ok)throw new Error(`Failed to delete review: ${ie.status}`);c(Q=>Q.filter(ae=>ae._id!==R)),re("success","Review deleted successfully")}catch(F){console.error("Failed to delete review:",F),re("error","Failed to delete review")}},fe=async(R,F)=>{try{const ie=localStorage.getItem("token");if(!ie)throw new Error("No authentication token found");if(!n.find(ue=>ue._id===R))throw new Error("Review not found");const ae={featured:F,pinned:{isPinned:F,label:"Featured Review",pinnedAt:F?new Date:null}};c(ue=>ue.map(W=>W._id===R?{...W,featured:F,pinned:ae.pinned}:W));const Ne=await fetch(`${Te.API_URL}/admin/reviews/${R}/feature`,{method:"PUT",headers:{Authorization:`Bearer ${ie}`,"Content-Type":"application/json"},body:JSON.stringify(ae)});if(!Ne.ok)throw new Error(`Failed to update review feature status: ${Ne.status}`);const ge=await Ne.json();c(ue=>ue.map(W=>W._id===R?{...ge,pinned:{isPinned:ge.featured,label:"Featured Review",pinnedAt:ge.featured?new Date:null}}:W));const H=new CustomEvent("content-updated",{detail:{type:"review-featured",reviewId:R,featured:F}});window.dispatchEvent(H),re("success",`Review ${F?"featured":"unfeatured"} successfully`)}catch(ie){console.error("Failed to update review feature status:",ie),re("error","Failed to update review feature status"),c(Q=>[...Q])}},U=(R,F)=>{V(ie=>({...ie,minRating:R,maxRating:F,page:1}))},Y=R=>{V(F=>({...F,sortBy:R,sortOrder:F.sortBy===R&&F.sortOrder==="desc"?"asc":"desc",page:1}))},K=R=>{V(F=>({...F,page:R}))},ee=R=>{j(R),I(!0)},q=R=>new Date(R).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return p("div",{className:"space-y-6",children:[p("div",{className:"flex flex-col space-y-4",children:[p("div",{className:"flex items-center space-x-4",children:[p("div",{className:"relative flex-1",children:[o("input",{type:"text",placeholder:"Search reviews by beefery or user...",value:l,onChange:R=>g(R.target.value),className:"w-full pl-10 pr-4 py-2 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent"}),o(zf,{className:"absolute left-3 top-2.5 h-5 w-5 text-slate-400"})]}),o("button",{onClick:()=>S(!k),className:"p-2 hover:bg-secondary rounded-lg transition-colors",children:o(s0,{className:"h-5 w-5 text-muted-foreground"})})]}),k&&o(lt,{className:"p-4",children:p("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Min Rating"}),p("select",{value:$.minRating,onChange:R=>U(R.target.value,$.maxRating),className:"w-full p-2 border border-border rounded-lg",children:[o("option",{value:"",children:"Any"}),[0,1,2,3,4,5,6,7,8,9].map(R=>p("option",{value:R,children:[R.toFixed(1),"+"]},R))]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Max Rating"}),p("select",{value:$.maxRating,onChange:R=>U($.minRating,R.target.value),className:"w-full p-2 border border-border rounded-lg",children:[o("option",{value:"",children:"Any"}),[1,2,3,4,5,6,7,8,9,10].map(R=>o("option",{value:R,children:R.toFixed(1)},R))]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Report Status"}),p("select",{value:$.reportStatus,onChange:R=>V(F=>({...F,reportStatus:R.target.value,page:1})),className:"w-full p-2 border border-border rounded-lg",children:[o("option",{value:"all",children:"All Reviews"}),o("option",{value:"reported",children:"Reported Only"}),o("option",{value:"unreported",children:"Not Reported"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),p("select",{value:$.sortBy,onChange:R=>Y(R.target.value),className:"w-full p-2 border border-border rounded-lg",children:[o("option",{value:"date",children:"Date"}),o("option",{value:"rating",children:"Rating"}),o("option",{value:"likes",children:"Likes"}),o("option",{value:"comments",children:"Comments"})]})]})]})})]}),o("div",{className:"space-y-4",children:v?p(lt,{className:"p-6 flex justify-center items-center",children:[o(Rt,{className:"h-6 w-6 animate-spin text-primary"}),o("span",{className:"ml-2",children:"Loading reviews..."})]}):n.length===0?o(lt,{children:o("div",{className:"p-6 text-center text-slate-500",children:"No reviews found"})}):p(jt,{children:[o("div",{className:"overflow-x-auto",children:p("table",{className:"w-full text-sm",children:[o("thead",{className:"bg-secondary text-muted-foreground",children:p("tr",{children:[o("th",{className:"px-4 py-3 text-left",children:"Beefery"}),o("th",{className:"px-4 py-3 text-left",children:"User"}),o("th",{className:"px-4 py-3 text-left",children:"Location"}),o("th",{className:"px-4 py-3 text-center",children:"Rating"}),o("th",{className:"px-4 py-3 text-center",children:"Likes"}),o("th",{className:"px-4 py-3 text-center",children:"Comments"}),o("th",{className:"px-4 py-3 text-center",children:"Date"}),o("th",{className:"px-4 py-3 text-center",children:"Actions"})]})}),o("tbody",{className:"divide-y divide-border",children:n.map(R=>{var F,ie;return p("tr",{className:"hover:bg-secondary/50 transition-colors",children:[o("td",{className:"px-4 py-3 truncate max-w-[200px]",children:R.beefery}),o("td",{className:"px-4 py-3",children:p("div",{className:"flex items-center",children:[o(la,{user:{_id:R.userId,displayName:R.userDisplayName,profileImage:R.userImage},size:"sm",className:"mr-2"}),o("span",{children:R.userDisplayName})]})}),o("td",{className:"px-4 py-3 truncate max-w-[200px]",children:R.location}),o("td",{className:"px-4 py-3 text-center",children:p("div",{className:"flex items-center justify-center",children:[o("span",{className:"font-semibold mr-1",children:R.rating.toFixed(1)}),o(Bn,{className:"w-4 h-4 text-yellow-500"})]})}),o("td",{className:"px-4 py-3 text-center",children:((F=R.likes)==null?void 0:F.length)||0}),o("td",{className:"px-4 py-3 text-center",children:((ie=R.comments)==null?void 0:ie.length)||0}),o("td",{className:"px-4 py-3 text-center",children:q(R.date)}),o("td",{className:"px-4 py-3",children:p("div",{className:"flex justify-center space-x-2",children:[o("button",{onClick:()=>ee(R),className:"p-1.5 bg-secondary hover:bg-border rounded-lg transition-colors text-foreground",title:"View Review",children:o(Rs,{className:"h-4 w-4"})}),o("button",{onClick:()=>fe(R._id,!R.featured),className:`p-1.5 rounded-lg transition-colors ${R.featured?"bg-yellow-100 text-yellow-600 hover:bg-yellow-200":"bg-secondary hover:bg-border text-foreground"}`,title:R.featured?"Unfeature Review":"Feature Review",children:o(Bn,{className:"h-4 w-4"})}),o("button",{onClick:()=>xe(R._id),className:"p-1.5 bg-red-100 text-red-600 hover:bg-red-200 rounded-lg transition-colors",title:"Delete Review",children:o(Bf,{className:"h-4 w-4"})})]})})]},R._id)})})]})}),Z.pages>1&&p("div",{className:"flex justify-between items-center pt-4",children:[p("div",{className:"text-sm text-muted-foreground",children:["Showing ",(Z.page-1)*$.limit+1," to ",Math.min(Z.page*$.limit,Z.total)," of ",Z.total," reviews"]}),p("div",{className:"flex space-x-2",children:[o("button",{onClick:()=>K(Z.page-1),disabled:Z.page===1,className:"px-3 py-1 border border-border rounded-md hover:bg-secondary transition-colors disabled:opacity-50",children:"Previous"}),[...Array(Z.pages)].map((R,F)=>o("button",{onClick:()=>K(F+1),className:`px-3 py-1 rounded-md transition-colors ${Z.page===F+1?"bg-primary text-white":"border border-border hover:bg-secondary"}`,children:F+1},F)),o("button",{onClick:()=>K(Z.page+1),disabled:Z.page===Z.pages,className:"px-3 py-1 border border-border rounded-md hover:bg-secondary transition-colors disabled:opacity-50",children:"Next"})]})]})]})}),A&&E&&o(Jd,{review:E,onClose:()=>{I(!1),j(null)},currentUser:null,readOnly:!0})]})},Vx=({currentUser:n})=>{const[c,l]=b.useState([]),[g,x]=b.useState(!0),[h,v]=b.useState(null),[_,k]=b.useState(!1),[S,A]=b.useState(null);b.useEffect(()=>{I()},[]);const I=async()=>{try{const $=localStorage.getItem("token"),V=await fetch(`${Te.API_URL}/admin/pois`,{headers:{Authorization:`Bearer ${$}`,Accept:"application/json"}});if(V.ok){const re=await V.json();l(re.pois||[])}else console.log("POI endpoint not yet available"),l([])}catch($){console.error("Error fetching POIs:",$),l([])}finally{x(!1)}},E=async $=>{try{const V=localStorage.getItem("token"),re=await fetch(`${Te.API_URL}/admin/pois`,{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify($)});if(!re.ok)throw new Error("Failed to add POI");const we=await re.json();l([...c,we]),k(!1)}catch(V){console.error("Error adding POI:",V),v(V.message)}},j=async($,V)=>{try{const re=localStorage.getItem("token"),we=await fetch(`${Te.API_URL}/admin/pois/${$}`,{method:"PUT",headers:{Authorization:`Bearer ${re}`,"Content-Type":"application/json"},body:JSON.stringify(V)});if(!we.ok)throw new Error("Failed to update POI");const xe=await we.json();l(c.map(fe=>fe._id===$?xe:fe)),A(null)}catch(re){console.error("Error updating POI:",re),v(re.message)}},Z=async $=>{if(window.confirm("Are you sure you want to delete this POI?"))try{const V=localStorage.getItem("token");if(!(await fetch(`${Te.API_URL}/admin/pois/${$}`,{method:"DELETE",headers:{Authorization:`Bearer ${V}`}})).ok)throw new Error("Failed to delete POI");l(c.filter(we=>we._id!==$))}catch(V){console.error("Error deleting POI:",V),v(V.message)}},J=({onSubmit:$,initialData:V=null,onCancel:re})=>{const[we,xe]=b.useState({name:(V==null?void 0:V.name)||"",location:(V==null?void 0:V.location)||"",coordinates:(V==null?void 0:V.coordinates)||{lat:0,lng:0},notes:(V==null?void 0:V.notes)||""});return p("form",{onSubmit:fe=>{fe.preventDefault(),$(we)},className:"space-y-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Beefery Name"}),o("input",{type:"text",value:we.name,onChange:fe=>xe({...we,name:fe.target.value}),className:"w-full p-3 border border-border rounded-lg",required:!0})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Location"}),o(Ip,{onLocationSelect:({location:fe,coordinates:U})=>{xe({...we,location:fe,coordinates:U})},initialValue:we.location})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Notes"}),o("textarea",{value:we.notes,onChange:fe=>xe({...we,notes:fe.target.value}),className:"w-full p-3 border border-border rounded-lg",rows:3})]}),p("div",{className:"flex justify-end space-x-3",children:[o("button",{type:"button",onClick:re,className:"px-4 py-2 text-muted-foreground hover:bg-secondary rounded-lg",children:"Cancel"}),o("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:V?"Save Changes":"Add POI"})]})]})};return!(n!=null&&n.role)==="admin"?o(lt,{className:"p-6",children:o("p",{className:"text-center text-muted-foreground",children:"You don't have permission to manage Points of Interest."})}):o("div",{className:"space-y-6",children:p(lt,{className:"p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[o("h2",{className:"text-xl font-bold text-foreground",children:"Points of Interest"}),p("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center",children:[o(Bs,{className:"h-5 w-5 mr-2"}),"Add New POI"]})]}),h&&o("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg",children:h}),_&&p("div",{className:"mb-6 border-b pb-6",children:[o("h3",{className:"text-lg font-semibold mb-4",children:"Add New POI"}),o(J,{onSubmit:E,onCancel:()=>k(!1)})]}),g?o("div",{className:"text-center py-4",children:o(Rt,{className:"h-6 w-6 animate-spin mx-auto text-primary"})}):c.length===0?o("p",{className:"text-center text-muted-foreground",children:"No points of interest added yet."}):o("div",{className:"space-y-4",children:c.map($=>o("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:S===$._id?o(J,{initialData:$,onSubmit:V=>j($._id,V),onCancel:()=>A(null)}):o("div",{children:p("div",{className:"flex justify-between items-start",children:[p("div",{children:[o("h3",{className:"font-semibold text-lg",children:$.name}),o("p",{className:"text-muted-foreground",children:$.location}),$.notes&&o("p",{className:"text-sm text-slate-500 mt-2",children:$.notes})]}),p("div",{className:"flex space-x-2",children:[o("button",{onClick:()=>A($._id),className:"p-2 hover:bg-secondary rounded-lg",children:o(yp,{className:"h-4 w-4 text-muted-foreground"})}),o("button",{onClick:()=>Z($._id),className:"p-2 hover:bg-secondary rounded-lg",children:o(Bf,{className:"h-4 w-4 text-red-500"})})]})]})})},$._id))})]})})},qx=({currentUser:n})=>{const[c,l]=b.useState([]),[g,x]=b.useState(!0),[h,v]=b.useState(null),[_,k]=b.useState(!1),[S,A]=b.useState(null),[I,E]=b.useState(""),[j,Z]=b.useState([]);b.useEffect(()=>{J()},[]),b.useEffect(()=>{if(c.length>0){const xe=c.filter(fe=>fe.name.toLowerCase().includes(I.toLowerCase())||fe.location&&fe.location.toLowerCase().includes(I.toLowerCase()));Z(xe)}},[c,I]);const J=async()=>{try{x(!0),v(null);const xe=localStorage.getItem("token");try{const U=await fetch(`${Te.API_URL}/admin/beeferies`,{headers:{Authorization:`Bearer ${xe}`,Accept:"application/json"}});if(U.ok){const Y=await U.json();if(Y.beeferies&&Array.isArray(Y.beeferies)){l(Y.beeferies),Z(Y.beeferies),x(!1);return}}}catch{console.log("Dedicated beefery endpoint not available, falling back to review data")}const fe=await fo.getReviews();if(fe&&fe.reviews&&Array.isArray(fe.reviews)){const U={};fe.reviews.forEach(K=>{const ee=`${K.beefery}-${K.location||""}`;U[ee]||(U[ee]={name:K.beefery,location:K.location||"",coordinates:K.coordinates||null,reviews:[],reviewCount:0,avgRating:0,_id:ee}),U[ee].reviews.push(K),U[ee].reviewCount=U[ee].reviews.length,U[ee].avgRating=U[ee].reviews.reduce((q,R)=>q+R.rating,0)/U[ee].reviewCount});const Y=Object.values(U);l(Y),Z(Y)}else throw new Error("No beefery data available")}catch(xe){console.error("Error fetching beeferies:",xe),v("Failed to load beeferies. Please try again.")}finally{x(!1)}},$=async xe=>{try{const fe=localStorage.getItem("token"),U=await fetch(`${Te.API_URL}/admin/beeferies`,{method:"POST",headers:{Authorization:`Bearer ${fe}`,"Content-Type":"application/json"},body:JSON.stringify(xe)});if(!U.ok){const K=await U.json().catch(()=>({message:"Failed to add beefery"}));throw new Error(K.message||"Failed to add beefery")}const Y=await U.json();l([...c,Y]),k(!1),alert("Beefery added successfully")}catch(fe){console.error("Error adding beefery:",fe),v(fe.message)}},V=async(xe,fe)=>{try{if(xe.includes("-"))return $(fe);const U=localStorage.getItem("token"),Y=await fetch(`${Te.API_URL}/admin/beeferies/${xe}`,{method:"PUT",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify(fe)});if(!Y.ok){const ee=await Y.json().catch(()=>({message:"Failed to update beefery"}));throw new Error(ee.message||"Failed to update beefery")}const K=await Y.json();l(c.map(ee=>ee._id===xe?K:ee)),A(null),alert("Beefery updated successfully")}catch(U){console.error("Error updating beefery:",U),v(U.message)}},re=async xe=>{if(window.confirm("Are you sure you want to delete this beefery? This will not delete associated reviews."))try{if(xe.includes("-")){alert("Cannot delete this beefery as it has associated reviews. Delete the reviews first.");return}const fe=localStorage.getItem("token"),U=await fetch(`${Te.API_URL}/admin/beeferies/${xe}`,{method:"DELETE",headers:{Authorization:`Bearer ${fe}`}});if(!U.ok){const Y=await U.json().catch(()=>({message:"Failed to delete beefery"}));throw new Error(Y.message||"Failed to delete beefery")}l(c.filter(Y=>Y._id!==xe)),alert("Beefery deleted successfully")}catch(fe){console.error("Error deleting beefery:",fe),v(fe.message)}},we=({onSubmit:xe,initialData:fe=null,onCancel:U})=>{const[Y,K]=b.useState({name:(fe==null?void 0:fe.name)||"",location:(fe==null?void 0:fe.location)||"",coordinates:(fe==null?void 0:fe.coordinates)||{lat:0,lng:0},notes:(fe==null?void 0:fe.notes)||"",isPermanent:(fe==null?void 0:fe.isPermanent)||!1}),ee=q=>{K(R=>({...R,location:q.location||R.location,coordinates:q.coordinates||R.coordinates}))};return p("form",{onSubmit:q=>{q.preventDefault(),xe(Y)},className:"space-y-6",children:[p("div",{className:"grid gap-4",children:[p("div",{className:"space-y-2",children:[o("label",{htmlFor:"name",className:"block text-sm font-medium text-slate-700",children:"Beefery Name"}),o("input",{id:"name",type:"text",value:Y.name,onChange:q=>K({...Y,name:q.target.value}),className:"w-full p-3 border border-border rounded-lg",required:!0})]}),p("div",{className:"space-y-2",children:[o("label",{htmlFor:"location",className:"block text-sm font-medium text-slate-700",children:"Location"}),o(Ip,{onLocationSelect:ee,initialValue:Y.location})]}),p("div",{className:"space-y-2",children:[o("label",{htmlFor:"notes",className:"block text-sm font-medium text-slate-700",children:"Notes"}),o("textarea",{id:"notes",value:Y.notes,onChange:q=>K({...Y,notes:q.target.value}),className:"w-full p-3 border border-border rounded-lg min-h-[100px]"})]}),p("div",{className:"flex items-center space-x-2",children:[o("input",{type:"checkbox",id:"isPermanent",checked:Y.isPermanent,onChange:q=>K({...Y,isPermanent:q.target.checked}),className:"mr-2 h-4 w-4"}),o("label",{htmlFor:"isPermanent",className:"text-sm font-medium text-slate-700",children:"Permanent Location (Not a Pop-up)"})]})]}),p("div",{className:"flex justify-end space-x-3",children:[o("button",{type:"button",onClick:U,className:"px-4 py-2 border border-border rounded-lg text-muted-foreground hover:bg-secondary",children:"Cancel"}),o("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:fe?"Save Changes":"Add Beefery"})]})]})};return!(n!=null&&n.role)==="admin"?o(lt,{className:"p-6 shadow-sm",children:p("div",{className:"flex items-center justify-center text-muted-foreground",children:[o(fr,{className:"mr-2 h-5 w-5"}),o("p",{children:"You don't have permission to manage Beeferies."})]})}):o("div",{className:"space-y-6",children:p(lt,{className:"shadow-sm",children:[o("div",{className:"p-6 border-b border-border",children:p("div",{className:"flex flex-col items-center gap-4",children:[o("h2",{className:"text-xl font-bold text-foreground text-center",children:"Beefery Management"}),p("div",{className:"relative w-full max-w-md",children:[o(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),o("input",{type:"text",placeholder:"Search beeferies...",value:I,onChange:xe=>E(xe.target.value),className:"pl-9 p-2 border border-border rounded-lg w-full"})]}),p("button",{onClick:()=>k(!0),className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 flex items-center justify-center",children:[o(Bs,{className:"h-4 w-4 mr-2"}),"Add New Beefery"]})]})}),p("div",{className:"p-6",children:[h&&p("div",{className:"mb-6 p-4 bg-red-50 text-red-600 rounded-lg flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2 flex-shrink-0"}),o("span",{className:"flex-grow",children:h}),o("button",{onClick:()=>v(null),className:"p-1 hover:bg-red-100 rounded-full",children:o(Yt,{className:"h-4 w-4 text-red-700"})})]}),_&&p("div",{className:"mb-6",children:[p("div",{className:"bg-slate-50 rounded-lg p-6",children:[o("h3",{className:"text-lg font-semibold mb-4",children:"Add New Beefery"}),o(we,{onSubmit:$,onCancel:()=>k(!1)})]}),o("div",{className:"my-6 border-t border-border"})]}),g?o("div",{className:"flex justify-center items-center py-12",children:o(Rt,{className:"h-8 w-8 animate-spin text-primary"})}):j.length===0?p("div",{className:"text-center py-12 text-muted-foreground",children:[o("div",{className:"mb-2",children:I?o(zf,{className:"h-10 w-10 mx-auto text-muted-foreground/50"}):o(fr,{className:"h-10 w-10 mx-auto text-muted-foreground/50"})}),o("p",{className:"text-lg",children:I?"No beeferies match your search.":"No beeferies added yet."}),I&&o("button",{onClick:()=>E(""),className:"mt-2 px-4 py-1 text-sm border border-border rounded-md hover:bg-secondary",children:"Clear search"})]}):o("div",{className:"grid gap-4",children:j.map(xe=>o("div",{className:"border rounded-lg overflow-hidden hover:shadow-md transition-shadow bg-white",children:S===xe._id?o("div",{className:"p-6",children:o(we,{initialData:xe,onSubmit:fe=>V(xe._id,fe),onCancel:()=>A(null)})}):o("div",{className:"p-6",children:p("div",{className:"flex flex-col md:flex-row md:items-start justify-between gap-4",children:[p("div",{className:"space-y-2 flex-grow",children:[p("div",{className:"flex flex-wrap items-center gap-2",children:[o("h3",{className:"font-semibold text-lg",children:xe.name}),xe.avgRating&&p("div",{className:"flex items-center text-yellow-500",children:[o(Bn,{className:"h-4 w-4 fill-current"}),o("span",{className:"ml-1 font-medium",children:xe.avgRating.toFixed(1)})]}),xe.isPermanent&&o("span",{className:"px-2 py-0.5 text-xs font-medium rounded-full bg-green-50 text-green-700",children:"Permanent"})]}),p("div",{className:"flex items-center text-muted-foreground",children:[o(Go,{className:"h-4 w-4 mr-1 flex-shrink-0"}),o("span",{className:"text-sm",children:xe.location||"No location specified"})]}),xe.reviewCount>0&&p("p",{className:"text-sm text-muted-foreground",children:[xe.reviewCount," ",xe.reviewCount===1?"review":"reviews"]}),xe.notes&&o("div",{className:"mt-3 text-sm text-muted-foreground bg-slate-50 p-3 rounded-md",children:xe.notes})]}),p("div",{className:"flex md:flex-col space-x-2 md:space-x-0 md:space-y-2 self-end md:self-start",children:[p("button",{onClick:()=>A(xe._id),className:"px-3 py-1 border border-border rounded-md hover:bg-secondary flex items-center",children:[o(yp,{className:"h-4 w-4 mr-1 text-muted-foreground"}),o("span",{children:"Edit"})]}),p("button",{onClick:()=>re(xe._id),className:"px-3 py-1 border border-red-200 rounded-md text-red-500 hover:bg-red-50 flex items-center",children:[o(Bf,{className:"h-4 w-4 mr-1"}),o("span",{children:"Delete"})]})]})]})})},xe._id))})]})]})})},Kx=({currentUser:n})=>{const[c,l]=b.useState(!0),[g,x]=b.useState(null),[h,v]=b.useState([]),[_,k]=b.useState(!1),[S,A]=b.useState(null),[I,E]=b.useState(null),[j,Z]=b.useState(!1),[J,$]=b.useState([]),[V,re]=b.useState(""),[we,xe]=b.useState(!1);b.useEffect(()=>{window.userCache=window.userCache||{}},[]),b.useEffect(()=>{fe()},[]);const fe=async()=>{try{l(!0),x(null);const q=localStorage.getItem("token");if(!q)throw new Error("Not authenticated");const R=await fetch(`${Te.API_URL}/news`,{headers:{Authorization:`Bearer ${q}`,"Content-Type":"application/json"}});if(!R.ok)throw new Error("Failed to fetch polls");const Q=((await R.json()).news||[]).filter(ae=>ae.poll).map(ae=>({newsId:ae._id,newsTitle:ae.title,date:ae.date,...ae.poll,totalVotes:ae.poll.options.reduce((Ne,ge)=>{var H;return Ne+(((H=ge.votes)==null?void 0:H.length)||0)},0)}));Q.sort((ae,Ne)=>new Date(Ne.date)-new Date(ae.date)),v(Q)}catch(q){console.error("Error fetching polls:",q),x(q.message)}finally{l(!1)}},U=async(q,R=!1)=>{try{const F=localStorage.getItem("token");if(!F)throw new Error("Not authenticated");if(!(await fetch(`${Te.API_URL}/news/${q}/poll/end`,{method:"PUT",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"},body:JSON.stringify({announceWinner:R})})).ok)throw new Error("Failed to end poll");await fe();const Q=new CustomEvent("content-updated",{detail:{type:"poll-ended",newsId:q,announceWinner:R}});window.dispatchEvent(Q)}catch(F){console.error("Error ending poll:",F),x(F.message)}},Y=async q=>{if(window.confirm("Are you sure you want to delete this poll?"))try{const R=localStorage.getItem("token");if(!R)throw new Error("Not authenticated");if(!(await fetch(`${Te.API_URL}/news/${q}/poll`,{method:"DELETE",headers:{Authorization:`Bearer ${R}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete poll");await fe();const ie=new CustomEvent("content-updated",{detail:{type:"poll-deleted",newsId:q}});window.dispatchEvent(ie)}catch(R){console.error("Error deleting poll:",R),x(R.message)}},K=async(q,R)=>{try{const F=q.options[R];re(F.title),xe(!0);const ie=F.votes||[];console.log("Raw votes data:",ie);const Q=ie.map(ge=>ge.userId&&typeof ge.userId=="object"&&ge.userId._id?{_id:ge.userId._id,displayName:ge.userId.displayName||ge.userId.username||"Unknown User",profileImage:ge.userId.profileImage,username:ge.userId.username,timestamp:ge.timestamp}:ge.userId?{_id:typeof ge.userId=="object"?ge.userId.toString():ge.userId,displayName:"Unknown User",timestamp:ge.timestamp}:{_id:typeof ge=="object"?ge.toString():ge,displayName:"Unknown User"});$(Q),Z(!0);const ae=localStorage.getItem("token");if(!ae){xe(!1);return}const Ne=Q.filter(ge=>ge.displayName==="Unknown User").map(ge=>ge._id).filter(Boolean);if(Ne.length===0){xe(!1);return}console.log("Fetching data for user IDs:",Ne);try{const ge=await fetch(`${Te.API_URL}/users?ids=${Ne.join(",")}`,{headers:{Authorization:`Bearer ${ae}`}});if(ge.ok){const te=await ge.json();if(console.log("Bulk user API response:",te),te.users&&Array.isArray(te.users)){const oe={};te.users.forEach(ce=>{ce&&ce._id&&(oe[ce._id]=ce)});const z=Q.map(ce=>{if(oe[ce._id]){const be=oe[ce._id];return{...ce,displayName:be.displayName||be.username||"Unknown User",profileImage:be.profileImage,username:be.username,role:be.role}}return ce});$(z),xe(!1);return}}const H=await fetch(`${Te.API_URL}/admin/users/batch`,{method:"POST",headers:{Authorization:`Bearer ${ae}`,"Content-Type":"application/json"},body:JSON.stringify({ids:Ne})});if(H.ok){const te=await H.json();if(console.log("Admin API response:",te),te.users&&Array.isArray(te.users)){const oe={};te.users.forEach(ce=>{ce&&ce._id&&(oe[ce._id]=ce)});const z=Q.map(ce=>{if(oe[ce._id]){const be=oe[ce._id];return{...ce,displayName:be.displayName||be.username||"Unknown User",profileImage:be.profileImage,username:be.username,role:be.role}}return ce});$(z),xe(!1);return}}console.log("Falling back to individual user fetches");const ue=Math.min(Ne.length,5),W=[];for(let te=0;te<ue;te++)W.push(fetch(`${Te.API_URL}/users/profile/${Ne[te]}`,{headers:{Authorization:`Bearer ${ae}`}}).then(oe=>oe.ok?oe.json():null));const B=await Promise.allSettled(W),ye={};B.forEach((te,oe)=>{if(te.status==="fulfilled"&&te.value&&te.value.user){const z=te.value.user;ye[z._id]=z}});const de=Q.map(te=>{if(ye[te._id]){const oe=ye[te._id];return{...te,displayName:oe.displayName||oe.username||"Unknown User",profileImage:oe.profileImage,username:oe.username,role:oe.role}}return te});$(de)}catch(ge){console.error("Error fetching user data:",ge)}}catch(F){console.error("Error loading voters:",F)}finally{xe(!1)}},ee=q=>new Date(q).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return p("div",{className:"space-y-6",children:[p(lt,{className:"p-6",children:[o("div",{className:"flex justify-between items-center mb-6",children:o("h3",{className:"text-xl font-bold text-foreground",children:"Polls Management"})}),g&&p("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 text-red-600 rounded-lg flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),o("span",{children:g}),o("button",{onClick:fe,className:"ml-auto text-sm underline",children:"Try Again"})]}),c?o("div",{className:"flex justify-center items-center py-12",children:o(Rt,{className:"h-8 w-8 animate-spin text-primary"})}):h.length===0?p("div",{className:"text-center py-12 text-muted-foreground",children:[o(du,{className:"h-10 w-10 mx-auto mb-4 text-muted-foreground/50"}),o("p",{children:"No polls have been created yet."}),o("p",{className:"text-sm mt-2",children:"Create a poll by adding it to a news item."})]}):o("div",{className:"space-y-6",children:h.map((q,R)=>{var F;return o(lt,{className:`border ${q.active?"border-primary/30":(F=q.winner)!=null&&F.announced?"border-yellow-400/50":"border-border"} hover:shadow-md transition-shadow`,children:p("div",{className:"p-4",children:[p("div",{className:"flex justify-between items-start cursor-pointer",onClick:()=>E(I===q.newsId?null:q.newsId),children:[p("div",{children:[p("div",{className:"flex items-center",children:[o("h4",{className:"font-semibold text-foreground",children:q.question}),q.active?p("span",{className:"ml-2 px-2 py-0.5 bg-green-100 text-green-800 rounded-full text-xs flex items-center",children:[o(o0,{className:"h-3 w-3 mr-1"}),"Active"]}):o("span",{className:"ml-2 px-2 py-0.5 bg-gray-100 text-gray-800 rounded-full text-xs flex items-center",children:"Closed"}),q.winner&&q.winner.announced&&p("span",{className:"ml-2 px-2 py-0.5 bg-yellow-100 text-yellow-800 rounded-full text-xs flex items-center",children:[o(El,{className:"h-3 w-3 mr-1"}),"Winner Announced"]})]}),p("p",{className:"text-sm text-muted-foreground mt-1",children:["From news: ",q.newsTitle]}),p("div",{className:"flex items-center text-xs text-muted-foreground mt-1",children:[p("span",{className:"flex items-center",children:[o(ou,{className:"h-3 w-3 mr-1"}),q.totalVotes," ",q.totalVotes===1?"vote":"votes"]}),o("span",{className:"mx-2",children:""}),o("span",{children:ee(q.date)})]})]}),o("div",{className:"flex items-center",children:I===q.newsId?o(Fv,{className:"h-5 w-5 text-muted-foreground"}):o(dp,{className:"h-5 w-5 text-muted-foreground"})})]}),I===q.newsId&&p("div",{className:"mt-4 pt-4 border-t",children:[o("div",{className:"space-y-3 mb-4",children:q.options.map((ie,Q)=>{var H,ue;const ae=((H=ie.votes)==null?void 0:H.length)||0,Ne=q.totalVotes>0?Math.round(ae/q.totalVotes*100):0,ge=((ue=q.winner)==null?void 0:ue.announced)&&q.winner.optionIndex===Q;return p("div",{className:"relative",children:[p("div",{className:`relative p-3 rounded-lg overflow-hidden border ${ge?"border-yellow-400":"border-border"}`,children:[o("div",{className:`absolute top-0 left-0 bottom-0 ${ge?"bg-yellow-100":"bg-secondary/30"}`,style:{width:`${Ne}%`}}),p("div",{className:"flex justify-between items-center relative z-10",children:[p("div",{className:"flex items-center",children:[ie.imageUrl&&o("div",{className:"w-10 h-10 mr-3 rounded-md overflow-hidden flex-shrink-0",children:o("img",{src:ie.imageUrl,alt:ie.title,className:"w-full h-full object-cover",onError:W=>{W.target.style.display="none"}})}),o("div",{children:p("div",{className:"font-medium text-foreground flex items-center",children:[ie.title,ge&&o(El,{className:"h-4 w-4 text-yellow-500 ml-2"})]})})]}),p("div",{className:"text-sm text-muted-foreground",children:[o("span",{className:"font-medium",children:ae}),o("span",{className:"mx-1",children:""}),p("span",{children:[Ne,"%"]})]})]})]}),ae>0&&o("button",{onClick:W=>{W.stopPropagation(),K(q,Q)},className:"mt-1 ml-auto block text-xs text-primary hover:text-primary/80 transition-colors",children:"Show voters"}),ge&&o("div",{className:"absolute -right-1 -top-1 bg-yellow-400 text-yellow-900 p-1 rounded-full",children:o(mp,{className:"h-4 w-4"})})]},Q)})}),p("div",{className:"flex space-x-2 mt-4",children:[q.active&&p(jt,{children:[p("button",{onClick:()=>U(q.newsId,!1),className:"px-3 py-1.5 text-sm bg-secondary text-foreground rounded-lg hover:bg-secondary/80 transition-colors flex items-center",children:[o(Of,{className:"h-4 w-4 mr-1"}),"End Poll"]}),p("button",{onClick:()=>U(q.newsId,!0),className:"px-3 py-1.5 text-sm bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center",children:[o(El,{className:"h-4 w-4 mr-1"}),"End & Announce Winner"]})]}),p("button",{onClick:()=>Y(q.newsId),className:"px-3 py-1.5 text-sm bg-red-500/10 text-red-500 rounded-lg hover:bg-red-500/20 transition-colors flex items-center ml-auto",children:[o(Yt,{className:"h-4 w-4 mr-1"}),"Delete Poll"]})]})]})]})},R)})})]}),j&&o(Qf,{likes:J,onClose:()=>Z(!1),title:`Voters for "${V}"`,isLoading:we}),_&&o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-[110]",children:o("div",{className:"w-full max-w-2xl mx-auto",children:o(rw,{initialPoll:S,onSubmit:()=>{k(!1),fe()},onCancel:()=>k(!1)})})})]})},Xx=({currentUser:n})=>{const[c,l]=b.useState(!0),[g,x]=b.useState(null),[h,v]=b.useState([]),[_,k]=b.useState([]),[S,A]=b.useState(""),[I,E]=b.useState("reviewCount"),[j,Z]=b.useState("desc"),[J,$]=b.useState({start:ae(),end:new Date().toISOString().split("T")[0]}),[V,re]=b.useState(null),[we,xe]=b.useState("year"),[fe,U]=b.useState(!1),[Y,K]=b.useState(!1),[ee,q]=b.useState(1),[R,F]=b.useState(!1),[ie,Q]=b.useState(null);function ae(){const z=new Date;return z.setFullYear(z.getFullYear()-1),z.toISOString().split("T")[0]}b.useEffect(()=>{Ne()},[J]),b.useEffect(()=>{ge()},[S,h,I,j,ee]),b.useEffect(()=>{const z=ce=>{!ce.target.closest(".date-range-dropdown")&&!ce.target.closest(".date-range-button")&&U(!1),!ce.target.closest(".date-picker")&&!ce.target.closest(".toggle-date-picker")&&K(!1),!ce.target.closest(".min-reviews-dropdown")&&!ce.target.closest(".min-reviews-button")&&F(!1)};return document.addEventListener("mousedown",z),()=>{document.removeEventListener("mousedown",z)}},[]),b.useEffect(()=>{console.log("BeeferyAnalytics: Setting up enhanced content update listeners");const z=async he=>{console.log("BeeferyAnalytics: Content update detected",he.detail);try{await Ne(),console.log("BeeferyAnalytics: Data refreshed after content update")}catch(ze){console.error("BeeferyAnalytics: Error refreshing after content update:",ze)}},ce=async()=>{console.log("BeeferyAnalytics: Direct review-added event detected");try{await Ne(),console.log("BeeferyAnalytics: Data refreshed after review-added event")}catch(he){console.error("BeeferyAnalytics: Error refreshing after review-added event:",he)}},be=async he=>{if(he.key&&(he.key==="reviewCount"||he.key==="reviewTimestamp"||he.key==="lastAddedReview")){console.log("BeeferyAnalytics: Detected review-related localStorage change:",he.key);try{await Ne(),console.log("BeeferyAnalytics: Data refreshed after storage event")}catch(ze){console.error("BeeferyAnalytics: Error refreshing after storage event:",ze)}}};return window.addEventListener("content-updated",z),window.addEventListener("review-added",ce),window.addEventListener("storage",be),()=>{console.log("BeeferyAnalytics: Removing event listeners"),window.removeEventListener("content-updated",z),window.removeEventListener("review-added",ce),window.removeEventListener("storage",be)}},[]),b.useEffect(()=>{const z=async()=>{console.log("BeeferyAnalytics: Window focused, checking for updates");try{const ce=parseInt(localStorage.getItem("reviewTimestamp")||"0"),be=parseInt(sessionStorage.getItem("beeferyanalytics-last-check")||"0");ce>be&&(console.log("BeeferyAnalytics: New reviews detected since last check, refreshing"),sessionStorage.setItem("beeferyanalytics-last-check",Date.now().toString()),await Ne())}catch(ce){console.warn("Error checking for updates on focus:",ce)}};return window.addEventListener("focus",z),sessionStorage.setItem("beeferyanalytics-last-check",Date.now().toString()),()=>{window.removeEventListener("focus",z)}},[]),b.useEffect(()=>{const z=setInterval(()=>{console.log("BeeferyAnalytics: Polling for updates");const ce=parseInt(sessionStorage.getItem("beeferyanalytics-last-update")||"0"),be=Date.now();be-ce>3e4&&Ne().then(()=>{console.log("BeeferyAnalytics: Poll refresh complete"),sessionStorage.setItem("beeferyanalytics-last-update",be.toString())}).catch(he=>console.error("BeeferyAnalytics: Poll refresh error:",he))},45e3);return()=>clearInterval(z)},[]);const Ne=async()=>{var z;try{if(l(!0),x(null),!localStorage.getItem("token"))throw new Error("Not authenticated");console.log("BeeferyAnalytics: Fetching fresh data...");try{const be=await fo.getReviews({forceRefresh:!0,filters:{startDate:J.start,endDate:J.end}});if(console.log("BeeferyAnalytics: reviewService returned data:",((z=be==null?void 0:be.reviews)==null?void 0:z.length)||0,"reviews"),be&&be.reviews&&Array.isArray(be.reviews)){const he={};be.reviews.forEach(He=>{if(!He.beefery)return;const nt=He.beefery;he[nt]||(he[nt]={name:He.beefery,location:He.location||"",reviewCount:0,totalRating:0,avgRating:0,lastReviewed:null,ratingDistribution:{},recentReviewers:[]}),he[nt].reviewCount++,he[nt].totalRating+=He.rating||0;const De=Math.floor(He.rating||0);he[nt].ratingDistribution[De]=(he[nt].ratingDistribution[De]||0)+1;const $e=new Date(He.date||He.createdAt);(!he[nt].lastReviewed||$e>new Date(he[nt].lastReviewed))&&(he[nt].lastReviewed=$e.toISOString()),He.user&&he[nt].recentReviewers.push({_id:He.user._id,displayName:He.user.displayName,profileImage:He.user.profileImage,reviewDate:He.date||He.createdAt,rating:He.rating})});const ze=Object.entries(he).map(([He,nt])=>({...nt,avgRating:nt.reviewCount>0?nt.totalRating/nt.reviewCount:0,recentReviewers:nt.recentReviewers.sort((De,$e)=>new Date($e.reviewDate)-new Date(De.reviewDate)).slice(0,10)}));return console.log("BeeferyAnalytics: Processed",ze.length,"beeferies from reviews"),v(ze),l(!1),sessionStorage.setItem("beeferyanalytics-last-update",Date.now().toString()),ze}else throw new Error("No review data available from service")}catch(be){throw console.error("BeeferyAnalytics: Failed to get data:",be),be}}catch(ce){return console.error("Error fetching beefery data:",ce),x(ce.message||"Failed to load beeferies"),l(!1),[]}},ge=()=>{let z=[...h];if(S){const ce=S.toLowerCase();z=z.filter(be=>{var he;return be.name.toLowerCase().includes(ce)||((he=be.location)==null?void 0:he.toLowerCase().includes(ce))})}z=z.filter(ce=>(ce.reviewCount||0)>=ee),z.sort((ce,be)=>{var He,nt;let he,ze;switch(I){case"name":he=((He=ce.name)==null?void 0:He.toLowerCase())||"",ze=((nt=be.name)==null?void 0:nt.toLowerCase())||"";break;case"reviewCount":he=ce.reviewCount||0,ze=be.reviewCount||0;break;case"avgRating":he=ce.avgRating||0,ze=be.avgRating||0;break;case"lastReviewed":he=ce.lastReviewed?new Date(ce.lastReviewed):new Date(0),ze=be.lastReviewed?new Date(be.lastReviewed):new Date(0);break;default:he=ce[I]||0,ze=be[I]||0}return j==="asc"?he>ze?1:-1:he<ze?1:-1}),k(z)},H=z=>{I===z?Z(j==="asc"?"desc":"asc"):(E(z),Z("desc"))},ue=z=>{const ce=new Date().toISOString().split("T")[0];let be;const he=new Date;switch(z){case"3days":const ze=new Date(he);ze.setDate(he.getDate()-3),be=ze.toISOString().split("T")[0];break;case"week":const He=new Date(he);He.setDate(he.getDate()-7),be=He.toISOString().split("T")[0];break;case"month":const nt=new Date(he);nt.setMonth(he.getMonth()-1),be=nt.toISOString().split("T")[0];break;case"3months":const De=new Date(he);De.setMonth(he.getMonth()-3),be=De.toISOString().split("T")[0];break;case"6months":const $e=new Date(he);$e.setMonth(he.getMonth()-6),be=$e.toISOString().split("T")[0];break;case"year":const We=new Date(he);We.setFullYear(he.getFullYear()-1),be=We.toISOString().split("T")[0];break;case"all-time":default:const et=new Date(he);et.setFullYear(he.getFullYear()-3),be=et.toISOString().split("T")[0];break}$({start:be,end:ce}),xe(z),U(!1)},W=z=>{const{name:ce,value:be}=z.target;$(he=>({...he,[ce]:be})),xe("custom")},B=()=>{switch(we){case"3days":return"Last 3 Days";case"week":return"Last Week";case"month":return"Last Month";case"3months":return"Last 3 Months";case"6months":return"Last 6 Months";case"year":return"Last Year";case"all-time":return"All Time";case"custom":return"Custom Range";default:return"Last Year"}},ye=z=>{q(z),F(!1)},de=()=>{const z=["Name","Location","Review Count","Average Rating","Last Reviewed"],ce=_.map(nt=>{var De;return[nt.name,nt.location||"",nt.reviewCount,((De=nt.avgRating)==null?void 0:De.toFixed(2))||"N/A",nt.lastReviewed?new Date(nt.lastReviewed).toLocaleDateString():"N/A"]}),be=[z.join(","),...ce.map(nt=>nt.join(","))].join(`
`),he=new Blob([be],{type:"text/csv;charset=utf-8;"}),ze=URL.createObjectURL(he),He=document.createElement("a");He.setAttribute("href",ze),He.setAttribute("download",`beefery-analytics-${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(He),He.click(),document.body.removeChild(He)},te=z=>I!==z?null:j==="asc"?o(Bv,{className:"h-4 w-4 ml-1"}):o(Ov,{className:"h-4 w-4 ml-1"}),oe=({reviewer:z,onClose:ce})=>{var be;return z?o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-md bg-card p-6 relative max-h-[80vh] flex flex-col",children:[o("button",{onClick:ce,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-5 w-5 text-muted-foreground"})}),p("div",{className:"mb-6 flex items-center space-x-4",children:[o(la,{user:{_id:z._id,displayName:z.displayName,profileImage:z.profileImage},size:"xl"}),p("div",{children:[o("h2",{className:"text-xl font-bold text-foreground",children:z.displayName}),z.username&&p("p",{className:"text-sm text-muted-foreground",children:["@",z.username]})]})]}),p("div",{className:"space-y-4 mb-6",children:[z.bio&&p("div",{children:[o("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Bio"}),o("p",{className:"text-foreground",children:z.bio})]}),p("div",{children:[o("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Stats"}),p("div",{className:"grid grid-cols-2 gap-2",children:[p("div",{className:"bg-secondary/10 p-3 rounded-lg",children:[o("p",{className:"text-sm text-muted-foreground",children:"Reviews"}),o("p",{className:"text-lg font-bold",children:z.reviewCount||"0"})]}),p("div",{className:"bg-secondary/10 p-3 rounded-lg",children:[o("p",{className:"text-sm text-muted-foreground",children:"Avg. Rating"}),p("div",{className:"flex items-center",children:[o(Bn,{className:"h-4 w-4 text-yellow-500 mr-1"}),o("span",{className:"text-lg font-bold",children:((be=z.avgRating)==null?void 0:be.toFixed(1))||"N/A"})]})]})]})]}),z.joinedDate&&p("div",{children:[o("h3",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Member Since"}),o("p",{className:"text-foreground",children:new Date(z.joinedDate).toLocaleDateString()})]})]}),o("div",{className:"mt-auto pt-4 border-t border-border",children:o("button",{className:"w-full py-2 bg-primary text-white rounded-md hover:bg-primary/90",onClick:ce,children:"Close"})})]})}):null};return p(lt,{className:"p-6",children:[p("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-white p-6 -mx-6 -mt-6 mb-6 rounded-t-lg",children:[p("div",{className:"flex justify-between items-center mb-4",children:[p("div",{className:"flex items-center space-x-3",children:[o(El,{className:"h-6 w-6"}),p("div",{children:[o("h3",{className:"text-xl font-bold",children:"Beefery Analytics"}),o("p",{className:"text-sm opacity-90",children:"Track performance and reviews"})]})]}),p("div",{className:"flex items-center",children:[o("button",{onClick:()=>Ne(),className:"mr-2 px-3 py-1 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors flex items-center",disabled:c,children:c?o(Rt,{className:"h-4 w-4 animate-spin"}):p(jt,{children:[o(Rt,{className:"h-4 w-4 mr-1"}),"Refresh"]})}),p("button",{onClick:de,className:"px-4 py-2 bg-white/20 hover:bg-white/30 text-white rounded-lg transition-colors flex items-center",disabled:c||_.length===0,children:[o(Qv,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})]})]}),p("div",{className:"mt-4 flex flex-col md:flex-row md:items-center gap-2 md:gap-4",children:[p("div",{className:"relative",children:[p("button",{className:"bg-white/20 hover:bg-white/30 transition-colors py-2 px-4 rounded-lg flex items-center space-x-2 text-sm w-full md:w-auto date-range-button",onClick:()=>U(!fe),children:[o(Yo,{className:"h-4 w-4 mr-1"}),o("span",{children:B()}),o(Os,{className:"h-4 w-4"})]}),fe&&o("div",{className:"absolute z-10 mt-1 w-48 bg-white shadow-lg rounded-lg text-slate-800 date-range-dropdown",children:p("div",{className:"py-1",children:[o("button",{onClick:()=>ue("3days"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last 3 Days"}),o("button",{onClick:()=>ue("week"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last Week"}),o("button",{onClick:()=>ue("month"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last Month"}),o("button",{onClick:()=>ue("3months"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last 3 Months"}),o("button",{onClick:()=>ue("6months"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last 6 Months"}),o("button",{onClick:()=>ue("year"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"Last Year"}),o("button",{onClick:()=>ue("all-time"),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:"All Time"})]})})]}),p("div",{className:"flex items-center",children:[p("button",{className:"bg-white/20 hover:bg-white/30 transition-colors py-2 px-4 rounded-lg flex items-center space-x-2 text-sm toggle-date-picker",onClick:()=>K(!Y),children:[o(Yo,{className:"h-4 w-4 mr-1"}),o("span",{children:"Custom Range"})]}),Y&&o("div",{className:"absolute z-10 mt-32 bg-white shadow-lg rounded-lg p-4 text-slate-800 date-picker",children:p("div",{className:"space-y-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium mb-1",children:"Start Date"}),o("input",{type:"date",name:"start",value:J.start,onChange:W,className:"w-full p-2 border border-slate-300 rounded-md"})]}),p("div",{children:[o("label",{className:"block text-sm font-medium mb-1",children:"End Date"}),o("input",{type:"date",name:"end",value:J.end,onChange:W,max:new Date().toISOString().split("T")[0],className:"w-full p-2 border border-slate-300 rounded-md"})]}),o("button",{className:"w-full py-2 bg-primary text-white rounded-md hover:bg-primary/90",onClick:()=>K(!1),children:"Apply"})]})})]}),p("div",{className:"relative",children:[p("button",{className:"bg-white/20 hover:bg-white/30 transition-colors py-2 px-4 rounded-lg flex items-center space-x-2 text-sm min-reviews-button",onClick:()=>F(!R),children:[p("span",{children:["Min Reviews: ",ee]}),o(Os,{className:"h-4 w-4"})]}),R&&o("div",{className:"absolute z-10 mt-1 w-48 bg-white shadow-lg rounded-lg text-slate-800 min-reviews-dropdown",children:p("div",{className:"py-1",children:[[1,2,3,5,10,15,20].map(z=>p("button",{onClick:()=>ye(z),className:"block px-4 py-2 text-sm w-full text-left hover:bg-secondary",children:[z," ",z===1?"Review":"Reviews"]},z)),p("div",{className:"px-4 py-2 flex items-center",children:[o("input",{type:"number",min:"1",value:ee,onChange:z=>q(Math.max(1,parseInt(z.target.value)||1)),className:"w-16 p-1 border border-slate-300 rounded mr-2"}),o("button",{onClick:()=>F(!1),className:"bg-primary text-white text-xs px-2 py-1 rounded",children:"Apply"})]})]})})]}),o("div",{className:"ml-auto text-sm bg-white/20 py-2 px-4 rounded-lg",children:p("span",{children:[_.length," beeferies found"]})})]})]}),p("div",{className:"space-y-6",children:[o("div",{className:"flex justify-center mb-8",children:o("div",{className:"relative max-w-md w-full",children:p("div",{className:"relative",children:[o(zf,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),o("input",{type:"text",placeholder:"Search beeferies...",value:S,onChange:z=>A(z.target.value),className:"w-full p-3 pl-10 pr-10 border border-border rounded-lg focus:ring-2 focus:ring-primary/30 focus:border-primary transition-all"}),S&&o("button",{onClick:()=>A(""),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:o(Yt,{className:"h-5 w-5"})})]})})}),o("div",{className:"bg-secondary/10 p-4 rounded-lg mb-8",children:p("div",{className:"text-sm grid grid-cols-1 sm:grid-cols-3 gap-4",children:[p("div",{className:"flex flex-col items-center",children:[o("span",{className:"text-muted-foreground",children:"Total Beeferies"}),o("span",{className:"font-bold text-lg text-foreground",children:h.length})]}),p("div",{className:"flex flex-col items-center",children:[o("span",{className:"text-muted-foreground",children:"Total Reviews"}),o("span",{className:"font-bold text-lg text-foreground",children:h.reduce((z,ce)=>z+(ce.reviewCount||0),0)})]}),p("div",{className:"flex flex-col items-center",children:[o("span",{className:"text-muted-foreground",children:"Average Rating"}),p("span",{className:"font-bold text-lg text-foreground flex items-center",children:[o(Bn,{className:"h-4 w-4 text-yellow-500 mr-1"}),(h.reduce((z,ce)=>z+(ce.avgRating||0)*(ce.reviewCount||0),0)/Math.max(1,h.reduce((z,ce)=>z+(ce.reviewCount||0),0))).toFixed(2)]})]})]})}),g&&p("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 text-red-600 rounded-lg flex items-center",children:[o(fr,{className:"h-5 w-5 mr-3 flex-shrink-0"}),o("span",{children:g}),p("button",{onClick:()=>Ne(),className:"ml-auto text-sm bg-red-100 hover:bg-red-200 text-red-700 px-3 py-1 rounded-lg transition-colors flex items-center",children:[o(Rt,{className:"h-4 w-4 mr-1"}),"Refresh Data"]})]}),c?o("div",{className:"flex justify-center items-center py-12",children:o(Rt,{className:"h-8 w-8 animate-spin text-primary"})}):_.length===0?p("div",{className:"text-center py-12 bg-secondary/5 rounded-lg",children:[o(du,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),o("p",{className:"text-lg font-medium text-foreground",children:"No beeferies found."}),S&&o("p",{className:"text-sm mt-2 text-muted-foreground",children:"Try adjusting your search or filters."})]}):o("div",{className:"overflow-x-auto rounded-lg border border-border",children:p("table",{className:"w-full border-collapse",children:[o("thead",{className:"bg-secondary/20",children:p("tr",{children:[o("th",{className:"p-4 text-left text-sm font-medium text-muted-foreground border-b",children:p("button",{onClick:()=>H("name"),className:"flex items-center hover:text-foreground transition-colors",children:["Name ",te("name")]})}),o("th",{className:"p-4 text-left text-sm font-medium text-muted-foreground border-b",children:p("button",{onClick:()=>H("location"),className:"flex items-center hover:text-foreground transition-colors",children:["Location ",te("location")]})}),o("th",{className:"p-4 text-right text-sm font-medium text-muted-foreground border-b",children:p("button",{onClick:()=>H("reviewCount"),className:"flex items-center justify-end hover:text-foreground transition-colors ml-auto",children:["Reviews ",te("reviewCount")]})}),o("th",{className:"p-4 text-right text-sm font-medium text-muted-foreground border-b",children:p("button",{onClick:()=>H("avgRating"),className:"flex items-center justify-end hover:text-foreground transition-colors ml-auto",children:["Avg. Rating ",te("avgRating")]})}),o("th",{className:"p-4 text-right text-sm font-medium text-muted-foreground border-b",children:p("button",{onClick:()=>H("lastReviewed"),className:"flex items-center justify-end hover:text-foreground transition-colors ml-auto",children:["Last Reviewed ",te("lastReviewed")]})})]})}),o("tbody",{children:_.map((z,ce)=>{var be;return p(Gr.Fragment,{children:[p("tr",{className:`hover:bg-secondary/10 transition-colors cursor-pointer ${V===ce?"bg-secondary/10":""}`,onClick:()=>re(V===ce?null:ce),children:[o("td",{className:"p-4 border-b",children:o("div",{className:"font-medium text-foreground",children:z.name})}),o("td",{className:"p-4 border-b text-muted-foreground",children:z.location||"Unknown location"}),o("td",{className:"p-4 border-b text-muted-foreground text-right",children:z.reviewCount||0}),o("td",{className:"p-4 border-b text-right",children:p("div",{className:"flex items-center justify-end",children:[o(Bn,{className:"h-4 w-4 text-yellow-500 mr-1"}),o("span",{className:"font-medium text-foreground",children:((be=z.avgRating)==null?void 0:be.toFixed(1))||"N/A"})]})}),o("td",{className:"p-4 border-b text-muted-foreground text-right",children:z.lastReviewed?new Date(z.lastReviewed).toLocaleDateString():"N/A"})]}),V===ce&&o("tr",{children:o("td",{colSpan:"5",className:"p-0 border-b",children:p("div",{className:"p-6 bg-secondary/5",children:[o("h4",{className:"font-medium text-foreground mb-4",children:"Review Breakdown"}),o("div",{className:"space-y-3 mb-6",children:z.ratingDistribution&&Object.entries(z.ratingDistribution).sort(([he],[ze])=>Number(ze)-Number(he)).map(([he,ze])=>{const He=z.reviewCount>0?Math.round(ze/z.reviewCount*100):0;return p("div",{className:"flex items-center",children:[p("div",{className:"w-16 text-sm text-muted-foreground flex items-center",children:[o(Bn,{className:"h-3 w-3 text-yellow-500 mr-1"}),Number(he).toFixed(1)]}),o("div",{className:"flex-grow mx-3 h-3 bg-secondary/20 rounded-full overflow-hidden",children:o("div",{className:"h-full bg-primary rounded-full",style:{width:`${He}%`}})}),p("div",{className:"w-20 text-right text-sm text-muted-foreground",children:[ze," (",He,"%)"]})]},he)})}),z.recentReviewers&&z.recentReviewers.length>0&&p("div",{children:[p("h5",{className:"text-sm font-medium text-foreground mb-3 flex justify-between",children:[o("span",{children:"Recent Reviewers"}),p("span",{className:"text-xs text-muted-foreground",children:[z.recentReviewers.length," ",z.recentReviewers.length===1?"person":"people"]})]}),o("div",{className:"max-h-60 overflow-y-auto border border-border rounded-lg",children:z.recentReviewers.map((he,ze)=>{var He;return p("div",{onClick:()=>Q(he),className:"flex items-center space-x-3 p-3 hover:bg-secondary/50 rounded-lg cursor-pointer border-b border-border last:border-b-0",children:[o("div",{className:"flex-shrink-0",children:o(la,{user:{_id:he._id,displayName:he.displayName,profileImage:he.profileImage},size:"md"})}),p("div",{children:[o("p",{className:"font-semibold text-foreground",children:he.displayName}),he.reviewDate&&o("p",{className:"text-xs text-muted-foreground",children:new Date(he.reviewDate).toLocaleDateString()})]}),p("div",{className:"ml-auto flex items-center",children:[o(Bn,{className:"h-4 w-4 text-yellow-500 mr-1"}),o("span",{className:"text-sm font-medium",children:((He=he.rating)==null?void 0:He.toFixed(1))||"N/A"})]})]},ze)})})]})]})})})]},ce)})})]})})]}),ie&&o(oe,{reviewer:ie,onClose:()=>Q(null)})]})},a1=({comment:n,onClose:c,currentUser:l,isAdmin:g=!1})=>{var E,j,Z,J,$;const[x,h]=b.useState(!1),[v,_]=b.useState(null);if(!n)return null;const k=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),S=V=>Fn(V,"comment"),A=()=>{h(!1)};return o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-lg bg-card p-6 relative",children:[o("button",{onClick:c,className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-5 w-5 text-muted-foreground"})}),p("div",{className:"flex justify-between items-start mb-4",children:[o("h2",{className:"text-xl font-bold text-foreground",children:"Comment Details"}),o("div",{className:"flex space-x-2",children:(()=>{if(g)return null;const V=typeof n.userId=="string"?n.userId:typeof n.userId=="object"&&(n.userId.id||n.userId._id)||"";return!l||l._id===V?null:o("button",{onClick:()=>h(!0),className:"p-2 text-muted-foreground hover:bg-red-50 rounded-lg transition-colors",title:"Report Comment",children:o(Of,{className:"h-5 w-5"})})})()})]}),v&&p("div",{className:"mb-4 p-3 bg-red-50 text-red-600 rounded-lg flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),v]}),p("div",{className:"divide-y divide-border",children:[p("div",{className:"pb-4",children:[p("div",{className:"flex items-start space-x-4",children:[o(la,{user:{_id:typeof n.userId=="string"?n.userId:typeof n.userId=="object"&&(n.userId.id||n.userId._id)||"",displayName:n.userDisplayName||"Unknown",profileImage:n.userImage},size:"lg"}),p("div",{children:[o("h3",{className:"text-lg font-semibold text-foreground",children:n.userDisplayName}),o("p",{className:"text-sm text-muted-foreground",children:k(n.date)}),n.beefery&&p("p",{className:"text-xs text-muted-foreground mt-1",children:["On review: ",n.beefery]})]})]}),n.text&&o("div",{className:"mt-4 text-foreground whitespace-pre-line break-words",children:n.text}),n.media&&o("div",{className:"mt-4",children:p("div",{className:"relative group",children:[o("img",{src:S(n.media),alt:"Comment media",className:"max-h-60 rounded-lg object-contain bg-black/5 hover:bg-black/10 transition-colors cursor-pointer",loading:"lazy",onError:V=>{console.error("Media load error:",{media:n.media,url:V.target.src}),V.target.style.display="none"}},n.media.url||n.media.original||Math.random()),o("button",{onClick:()=>window.open(S(n.media),"_blank"),className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",title:"Open image in new tab",children:o(mu,{className:"h-4 w-4 text-white"})}),f0(n.media)&&o("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/50 rounded-md text-white text-xs",children:"GIF"})]})})]}),o("div",{className:"pt-4",children:p("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${(E=n.likes)!=null&&E.some(V=>typeof V=="object"?V._id===(l==null?void 0:l._id):V===(l==null?void 0:l._id))?"bg-emerald-100/10 text-emerald-600":"text-muted-foreground"}`,children:[(j=n.likes)!=null&&j.some(V=>typeof V=="object"?V._id===(l==null?void 0:l._id):V===(l==null?void 0:l._id))?o(hu,{className:"h-4 w-4 stroke-[3]"}):o(sa,{className:"h-4 w-4"}),o("span",{children:l&&((Z=n.likes)!=null&&Z.some(V=>typeof V=="object"?V._id===l._id:V===l._id))?n.likes.length>1?`You and ${n.likes.length-1} other${n.likes.length>2?"s":""}`:"You like this":`${((J=n.likes)==null?void 0:J.length)||0} like${(($=n.likes)==null?void 0:$.length)!==1?"s":""}`})]})})]}),x&&o(_0,{contentType:"comment",contentId:n._id,onClose:()=>h(!1),onReportSubmitted:A})]})})};a1.propTypes={comment:se.shape({_id:se.string.isRequired,text:se.string,userId:se.oneOfType([se.string,se.object]).isRequired,userDisplayName:se.string.isRequired,userImage:se.string,date:se.string.isRequired,media:se.shape({url:se.string,original:se.string,type:se.string}),likes:se.array,beefery:se.string,reviewId:se.string}),onClose:se.func.isRequired,currentUser:se.object,isAdmin:se.bool};const e_=({news:n=null,onClose:c,onSubmit:l})=>{const[g,x]=b.useState({title:(n==null?void 0:n.title)||"",content:(n==null?void 0:n.content)||"",image:null,visible:(n==null?void 0:n.visible)??!0}),[h,v]=b.useState((n==null?void 0:n.imageUrl)||""),[_,k]=b.useState(""),[S,A]=b.useState(!1),I=j=>{const Z=j.target.files[0];if(Z){if(Z.size>50*1024*1024){k("Image size must be less than 50MB");return}if(!Z.type.startsWith("image/")){k("File must be an image");return}x({...g,image:Z}),v(URL.createObjectURL(Z)),k("")}};return o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:o(lt,{className:"w-full max-w-2xl bg-card shadow-xl rounded-2xl",children:p("div",{className:"p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[o("h2",{className:"text-2xl font-bold text-foreground",children:n?"Edit News":"Add News"}),o("button",{onClick:c,className:"p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-6 w-6 text-slate-500"})})]}),_&&p("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-600 flex items-center",children:[o(Yt,{className:"h-5 w-5 mr-2"}),_]}),p("form",{onSubmit:async j=>{j.preventDefault(),A(!0),k("");try{if(!g.title.trim())throw new Error("Title is required");if(!g.content.trim())throw new Error("Content is required");const Z=new FormData;Object.keys(g).forEach(J=>{g[J]!==null&&Z.append(J,g[J])}),await l(Z),c()}catch(Z){k(Z.message||"Failed to save news")}finally{A(!1)}},className:"space-y-6",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Title"}),o("input",{type:"text",value:g.title,onChange:j=>x({...g,title:j.target.value}),className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Enter news title...",required:!0})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content"}),o("textarea",{value:g.content,onChange:j=>x({...g,content:j.target.value}),rows:6,className:"w-full p-3 border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent",placeholder:"Write your news content...",required:!0})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Image"}),p("div",{className:"flex items-center space-x-4",children:[h&&p("div",{className:"relative group",children:[o("img",{src:h,alt:"Preview",className:"w-32 h-24 object-cover rounded-lg border border-border"}),o("button",{type:"button",onClick:()=>{v(""),x({...g,image:null})},className:"absolute top-1 right-1 p-1 bg-card rounded-full shadow-md opacity-0 group-hover:opacity-100 transition-opacity",children:o(Yt,{className:"h-4 w-4 text-slate-500"})})]}),p("label",{className:"flex flex-col items-center justify-center w-32 h-24 border-2 border-dashed border-slate-300 rounded-lg hover:border-primary cursor-pointer transition-colors",children:[o(Od,{className:"h-8 w-8 text-slate-400 mb-2"}),o("span",{className:"text-sm text-slate-500",children:"Upload image"}),o("input",{type:"file",accept:"image/*",onChange:I,className:"hidden"})]})]}),o("p",{className:"mt-2 text-sm text-slate-500",children:"Recommended: 1200x630px, max 50MB"})]}),p("div",{className:"flex items-center space-x-2",children:[o("input",{type:"checkbox",id:"visible",checked:g.visible,onChange:j=>x({...g,visible:j.target.checked}),className:"rounded border-slate-300 text-primary focus:ring-primary"}),o("label",{htmlFor:"visible",className:"text-sm text-slate-700",children:"Publish immediately"})]}),p("div",{className:"flex justify-end space-x-3 pt-6 border-t",children:[o("button",{type:"button",onClick:c,className:"px-4 py-2 text-sm text-slate-700 hover:bg-secondary rounded-lg transition-colors",disabled:S,children:"Cancel"}),o("button",{type:"submit",disabled:S,className:"px-4 py-2 text-sm bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors disabled:opacity-50 flex items-center",children:S?p(jt,{children:[o(Rt,{className:"h-4 w-4 mr-2 animate-spin"}),"Saving..."]}):o(jt,{children:n?"Update News":"Add News"})})]})]})]})})})},t_=({news:n,onClose:c,currentUser:l})=>{var E,j,Z,J,$,V;const[g,x]=b.useState(!1);if(!n)return null;const h=re=>{try{return new Date(re).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric"})}catch(we){return console.error("Error formatting date:",we),"Invalid date"}},v=re=>{switch(re){case"red":return"bg-red-100 text-red-800";case"green":return"bg-green-100 text-green-800";case"blue":return"bg-blue-100 text-blue-800";case"yellow":return"bg-yellow-100 text-yellow-800";case"purple":return"bg-purple-100 text-purple-800";case"pink":return"bg-pink-100 text-pink-800";case"orange":return"bg-orange-100 text-orange-800";case"cyan":return"bg-cyan-100 text-cyan-800";case"amber":return"bg-amber-100 text-amber-800";case"gray":return"bg-gray-100 text-gray-800";default:return"bg-primary/10 text-primary"}},_=()=>{try{if(!n.tags||Array.isArray(n.tags)&&n.tags.length===0)return[];if(typeof n.tags=="string")try{return n.tags.startsWith("[")&&n.tags.endsWith("]")?JSON.parse(n.tags):n.tags.includes(",")?n.tags.split(",").map(re=>({text:re.trim(),color:"primary"})):[{text:n.tags.trim(),color:"primary"}]}catch(re){return console.error("Error parsing tags string:",re),[{text:n.tags,color:"primary"}]}else if(Array.isArray(n.tags))return n.tags.map(re=>typeof re=="string"?{text:re,color:"primary"}:typeof re=="object"&&re!==null?{text:re.text||re.name||"Tag",color:re.color||"primary"}:null).filter(Boolean);return[]}catch(re){return console.error("Error processing tags:",re),[]}},k=()=>{try{if(!n||!n.poll)return!1;const re=!!n.poll.question,we=Array.isArray(n.poll.options)&&n.poll.options.length>=2;return re&&we}catch(re){return console.error("Error checking poll existence:",re),!1}},S=()=>{try{return!Array.isArray(n.likes)||!n.likes.length?[]:n.likes.map(re=>typeof re=="object"&&re!==null?re:l&&re===l._id?{_id:l._id,displayName:l.displayName,profileImage:l.profileImage,role:l.role}:{_id:re,displayName:"User"})}catch(re){return console.error("Error formatting likes data:",re),[]}},A=re=>{try{return re?Fn(re,"news"):null}catch(we){return console.error("Error getting image URL:",we),null}};return p("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50 overflow-y-auto",children:[o(lt,{className:"w-full max-w-2xl bg-card shadow-xl rounded-2xl",children:p("div",{className:"p-6",children:[p("div",{className:"flex justify-between items-center mb-6",children:[o("h2",{className:"text-2xl font-bold text-foreground",children:"View News"}),o("button",{onClick:c,className:"p-2 hover:bg-secondary rounded-full transition-colors",children:o(Yt,{className:"h-6 w-6 text-muted-foreground"})})]}),p("div",{className:"space-y-4",children:[p("div",{className:"flex flex-wrap gap-2 mb-2",children:[p("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-primary text-white",children:[o(Bd,{className:"w-3 h-3 mr-1"}),"News"]}),(()=>{try{return n.pinned&&typeof n.pinned=="object"&&n.pinned.isPinned===!0||n.pinned===!0||n.pinned==="true"}catch(re){return console.error("Error checking pinned status:",re),!1}})()&&p("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[o(Fd,{className:"w-3 h-3 mr-1"}),typeof n.pinned=="object"&&n.pinned.label?n.pinned.label:"Pinned"]}),k()&&p("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:[o(du,{className:"w-3 h-3 mr-1"}),n.poll.active?"Active Poll":"Closed Poll"]}),_().map((re,we)=>p("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v(re.color)}`,children:[o(Dm,{className:"h-3 w-3 mr-1"}),re.text]},we))]}),o("h3",{className:"text-xl font-bold text-foreground",children:n.title}),p("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:[p("div",{className:"flex items-center",children:[o(la,{user:{_id:typeof n.author=="object"&&(n.author.userId||n.author._id)||"",displayName:((E=n.author)==null?void 0:E.displayName)||"Unknown",profileImage:(j=n.author)==null?void 0:j.profileImage,role:(Z=n.author)==null?void 0:Z.role},size:"sm"}),p("span",{className:"ml-2",children:[((J=n.author)==null?void 0:J.displayName)||"Unknown Author",(($=n.author)==null?void 0:$.role)&&n.author.role!=="user"&&o("span",{className:`inline-block ml-1 px-2 py-0.5 rounded-full text-xs ${n.author.role==="admin"?"bg-red-500 text-white":n.author.role==="moderator"?"bg-green-500 text-white":n.author.role==="mvb"?"bg-purple-500 text-white":"bg-gray-500 text-white"}`,children:n.author.role==="admin"?"Admin":n.author.role==="moderator"?"Mod":n.author.role==="mvb"?"MVB":n.author.role})]})]}),p("div",{className:"flex items-center",children:[o(Yo,{className:"h-4 w-4 mr-1"}),h(n.date)]})]}),n.imageUrl&&o("div",{className:"mt-4",children:o("img",{src:A(n.imageUrl),alt:n.title,className:"w-full max-h-80 object-cover rounded-lg",onError:re=>{console.error("Image load error:",re.target.src),re.target.style.display="none"}})}),o("div",{className:"mt-4",children:o("p",{className:"text-muted-foreground whitespace-pre-line emoji-font",children:n.content})}),k()&&p("div",{className:"mt-4 bg-secondary/30 p-4 rounded-lg",children:[p("h4",{className:"font-medium mb-2",children:["Poll: ",n.poll.question]}),o(r1,{poll:n.poll,newsId:n._id,currentUser:l,readOnly:!0})]}),p("div",{className:"mt-4 flex items-center space-x-2",children:[p("div",{className:"flex items-center",children:[o(sa,{className:"h-5 w-5 text-primary mr-2"}),p("span",{children:[((V=n.likes)==null?void 0:V.length)||0," likes"]})]}),Array.isArray(n.likes)&&n.likes.length>0&&o("button",{onClick:()=>x(!0),className:"text-sm text-primary hover:underline",children:"View"})]}),(l==null?void 0:l.role)==="admin"&&p("div",{className:"mt-4 pt-4 border-t border-border",children:[o("h4",{className:"text-sm font-medium text-foreground mb-2",children:"Admin Details"}),p("div",{className:"space-y-1 text-sm text-muted-foreground",children:[p("p",{children:["ID: ",n._id]}),p("p",{children:["Visibility: ",n.visible?"Published":"Hidden"]}),p("p",{children:["Created: ",h(n.date)]}),n.lastUpdated&&p("p",{children:["Last Updated: ",h(n.lastUpdated)]})]})]})]})]})}),g&&o(Qf,{likes:S(),onClose:()=>x(!1),title:"News Likes"})]})},sr={REVIEW_LIKE:"review_like",COMMENT_LIKE:"comment_like",REVIEW_COMMENT:"review_comment",NEW_USER:"new_user",NEW_REVIEW:"new_review",NEWS_LIKE:"news_like"},iw=({currentUser:n=null})=>{const[c,l]=b.useState([]),[g,x]=b.useState(!0),[h,v]=b.useState("all"),[_,k]=b.useState(1),[S,A]=b.useState(!0),[I,E]=b.useState(!1),[j,Z]=b.useState(null),[J,$]=b.useState(null),[V,re]=b.useState(null),[we,xe]=b.useState(!1),[fe,U]=b.useState(!1),[Y,K]=b.useState(null),[ee,q]=b.useState(null);b.useEffect(()=>{l([]),k(1),q(null),R()},[h]),b.useEffect(()=>{const z=ce=>{ce.key==="Escape"&&(U(!1),Z(null),$(null),re(null))};return window.addEventListener("keydown",z),()=>window.removeEventListener("keydown",z)},[]),b.useEffect(()=>{console.log("Setting up content-updated event listener in AdminActivityFeed");const z=ce=>{console.log("AdminActivityFeed received content update event:",ce),ce.detail&&ce.detail.type==="news-deleted"&&(console.log("Handling news deletion event for ID:",ce.detail.id),R())};return window.addEventListener("content-updated",z),()=>{window.removeEventListener("content-updated",z)}},[]);const R=async(z=!1)=>{var ce;try{const be=localStorage.getItem("token")||(n==null?void 0:n.token);if(!be)throw new Error("No authentication token found");const he=z?_+1:1;E(z),x(!z),q(null),console.log("Fetching activities with token:",be.substring(0,10)+"...");const ze=await fetch(`${Te.API_URL}/admin/activities?filter=${h}&page=${he}`,{headers:{Authorization:`Bearer ${be}`,"Content-Type":"application/json"}}),He=await ze.json();if(!ze.ok)throw new Error(He.message||`Failed to fetch activities: ${ze.status}`);if(!Array.isArray(He.activities))throw console.error("Invalid activities data:",He),new Error("Invalid response format from server");const nt=He.activities.filter(Boolean).map(De=>({...De,actor:De.actor||{displayName:"Unknown User"},target:De.target||{},subject:De.subject||{},metadata:De.metadata||{},type:Object.values(sr).includes(De.type)?De.type:null})).filter(De=>De.type!==null);l(De=>z?[...De,...nt]:nt),A(he<(((ce=He.pagination)==null?void 0:ce.pages)||1)),k(he)}catch(be){console.error("Error fetching activities:",be),q(be.message),(be.message.includes("401")||be.message.includes("Unauthorized"))&&(localStorage.removeItem("token"),window.location.href="/login")}finally{x(!1),E(!1)}},F=async z=>{var ce,be,he,ze,He,nt,De,$e,We,et,Ve,It,Gt,ft;if(z)try{const gt=localStorage.getItem("token");if(!gt){console.error("No authentication token found");return}const $t=async qt=>{if(!qt)throw new Error("No review ID provided");const on=await fetch(`${Te.API_URL}/reviews/${qt}`,{headers:{Authorization:`Bearer ${gt}`,"Content-Type":"application/json"}});if(!on.ok)throw new Error(`Failed to fetch review: ${on.status}`);return on.json()};switch(z.type){case sr.COMMENT_LIKE:case sr.REVIEW_COMMENT:{let qt=((ce=z.target)==null?void 0:ce.reviewId)||((be=z.metadata)==null?void 0:be.reviewId);if(!qt){console.error("Missing review ID:",z);return}const on=await $t(qt);if(z.type===sr.REVIEW_COMMENT){console.log("Processing comment activity:",z);const xn={_id:(he=z.target)==null?void 0:he.id,text:(ze=z.target)==null?void 0:ze.content,date:z.date,userId:(He=z.actor)==null?void 0:He.userId,userDisplayName:(nt=z.actor)==null?void 0:nt.displayName,userImage:(De=z.actor)==null?void 0:De.profileImage,reviewId:qt,media:($e=z.target)==null?void 0:$e.media,likes:((We=z.metadata)==null?void 0:We.likes)||[]},jn=(et=on.comments)==null?void 0:et.find(Dn=>{var Zn;return Dn._id===((Zn=z.target)==null?void 0:Zn.id)});jn&&Object.assign(xn,{...jn,reviewId:qt}),console.log("Final comment data:",xn),$(xn)}else if(z.type===sr.COMMENT_LIKE){const xn=(Ve=on.comments)==null?void 0:Ve.find(jn=>{var Dn;return jn._id===((Dn=z.target)==null?void 0:Dn.id)});xn&&$({...xn,reviewId:qt})}break}case sr.NEW_REVIEW:case sr.REVIEW_LIKE:{const qt=((It=z.target)==null?void 0:It.id)||((Gt=z.target)==null?void 0:Gt.reviewId);if(!qt){console.error("Missing review ID in target:",z.target);return}try{const on=await $t(qt);Z(on)}catch(on){console.error("Error fetching review:",on)}break}case sr.NEWS_LIKE:{const qt=(ft=z.target)==null?void 0:ft.id;if(!qt){console.error("Missing news ID in target:",z.target);return}try{const on=await fetch(`${Te.API_URL}/news/${qt}`,{headers:{Authorization:`Bearer ${gt}`,"Content-Type":"application/json"}});if(!on.ok)throw new Error(`Failed to fetch news: ${on.status}`);const xn=await on.json();re(xn),xe(!1)}catch(on){console.error("Error fetching news:",on)}break}}}catch(gt){console.error("Error handling activity click:",gt),q("Failed to load activity details")}},ie=z=>{try{const ce=new Date,be=new Date(z);if(isNaN(be.getTime()))return console.warn("Invalid date:",z),"Invalid date";const he=Math.floor((ce-be)/(1e3*60));return he<60?`${he}m ago`:he<1440?`${Math.floor(he/60)}h ago`:he<10080?`${Math.floor(he/1440)}d ago`:be.toLocaleDateString()}catch(ce){return console.error("Error formatting date:",ce),"Unknown date"}},Q=z=>{try{if(!z||!z.url)return console.warn("Invalid media data:",z),null;let ce=z.url;return ce=ce.replace(/\/uploads\/uploads\//,"/uploads/"),ce=ce.replace(/^\/api\//,""),ce.startsWith("/uploads/")||(ce=`/uploads/${ce}`),ce=ce.replace(/\/\//g,"/"),`${Te.API_URL.endsWith("/api/")?Te.API_URL.slice(0,-5):Te.API_URL.endsWith("/api")?Te.API_URL.slice(0,-4):Te.API_URL}${ce}`}catch(ce){return console.error("Error generating media URL:",ce),null}},ae=z=>{var He;if(!z||!z.type||!z.actor)return console.warn("Invalid activity data:",z),"Unknown activity";const{type:ce,actor:be,target:he,subject:ze}=z;switch(ce){case sr.REVIEW_LIKE:return p(jt,{children:[o("span",{className:"font-semibold",children:be.displayName})," liked ",ze!=null&&ze.displayName?p(jt,{children:[p("span",{className:"font-semibold",children:[ze.displayName,"'s review of "]}),o("span",{className:"font-semibold",children:he==null?void 0:he.beefery})]}):o(jt,{children:"a review"})]});case sr.COMMENT_LIKE:return p(jt,{children:[o("span",{className:"font-semibold",children:be.displayName})," liked ",ze!=null&&ze.displayName?p(jt,{children:[p("span",{className:"font-semibold",children:[ze.displayName,"'s comment"]}),(he==null?void 0:he.beefery)&&p(jt,{children:[" on ",o("span",{className:"font-semibold",children:he.beefery})," review"]})]}):"a comment"]});case sr.REVIEW_COMMENT:return p(jt,{children:[o("span",{className:"font-semibold",children:be.displayName}),ze&&ze.userId!==be.userId?p(jt,{children:[" replied to ",p("span",{className:"font-semibold",children:[ze.displayName,"'s comment"]})]}):" commented",(he==null?void 0:he.beefery)&&p(jt,{children:[" on ",o("span",{className:"font-semibold",children:he.beefery})," review"]})]});case sr.NEW_USER:return p(jt,{children:[o("span",{className:"font-semibold",children:be.displayName})," joined North Shore Beefs"]});case sr.NEW_REVIEW:return p(jt,{children:[o("span",{className:"font-semibold",children:be.displayName})," reviewed ",o("span",{className:"font-semibold",children:(he==null?void 0:he.beefery)||"a beefery"}),((He=z.metadata)==null?void 0:He.rating)!==void 0&&` (${Number(z.metadata.rating).toFixed(1)}/10)`]});case sr.NEWS_LIKE:return p(jt,{children:[o("span",{className:"font-semibold",children:be.displayName})," liked ",p("span",{className:"font-semibold",children:["news article: ",(he==null?void 0:he.title)||"News"]})]});default:return console.warn("Unknown activity type:",ce),"Unknown activity"}},Ne=z=>{switch(z){case sr.REVIEW_LIKE:case sr.COMMENT_LIKE:case sr.NEWS_LIKE:return o(sa,{className:"h-5 w-5 text-primary"});case sr.REVIEW_COMMENT:return o(pu,{className:"h-5 w-5 text-primary"});case sr.NEW_USER:return o(zs,{className:"h-5 w-5 text-primary"});case sr.NEW_REVIEW:return o(Bn,{className:"h-5 w-5 text-primary"});default:return null}},ge=z=>{var ce,be,he,ze;try{if(!(z!=null&&z.target))return null;const He=(ce=z.target.media)==null?void 0:ce.url,nt=z.target.content;return!He&&!nt?null:p("div",{className:"text-sm text-muted-foreground mt-1",children:[nt&&p("div",{className:"mb-2",children:['"',z.target.content,'"']}),He&&o("div",{className:"mt-2",children:p("div",{className:"relative group",children:[o("img",{src:Q(z.target.media),alt:`Media from ${((be=z.actor)==null?void 0:be.displayName)||"user"}`,className:"max-h-48 rounded-lg object-contain bg-black/5 hover:bg-black/10 transition-colors cursor-pointer",loading:"lazy",onClick:De=>{De.stopPropagation(),z.target.media&&(K(z.target.media),U(!0))},onError:De=>{console.error("Media load error:",{src:De.target.src,media:z.target.media}),De.target.style.display="none"}}),o("div",{className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full opacity-0 group-hover:opacity-100 transition-opacity",children:o("button",{onClick:De=>{De.stopPropagation();const $e=Q(z.target.media);$e&&window.open($e,"_blank")},className:"p-1 hover:bg-black/30 rounded-full",title:"Open image in new tab",children:o(mu,{className:"h-4 w-4 text-white"})})}),((ze=(he=z.target.media)==null?void 0:he.type)==null?void 0:ze.includes("gif"))&&o("div",{className:"absolute bottom-2 right-2 px-2 py-1 bg-black/50 rounded-md text-white text-xs",children:"GIF"})]})})]})}catch(He){return console.error("Error rendering activity content:",He),null}},H=z=>z!=null&&z._id?p("div",{onClick:()=>F(z),className:"flex items-start space-x-4 p-4 rounded-lg hover:bg-secondary/50 transition-colors cursor-pointer group",children:[o("div",{className:"flex-shrink-0",children:Ne(z.type)}),p("div",{className:"flex-grow min-w-0",children:[o("div",{className:"text-sm text-foreground",children:ae(z)}),ge(z),o("span",{className:"text-xs text-muted-foreground",children:ie(z.date)})]}),o("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:o(Rs,{className:"h-5 w-5 text-muted-foreground"})})]},z._id):null,ue=()=>p("select",{value:h,onChange:z=>v(z.target.value),className:"bg-secondary p-2 rounded-lg text-sm","aria-label":"Filter activities",children:[o("option",{value:"all",children:"All Activity"}),o("option",{value:"reviews",children:"Reviews"}),o("option",{value:"likes",children:"Likes"}),o("option",{value:"comments",children:"Comments"}),o("option",{value:"users",children:"Users"}),o("option",{value:"news",children:"News"})]}),W=()=>p("div",{className:"flex items-center justify-center p-8",role:"status",children:[o(Rt,{className:"h-6 w-6 animate-spin text-primary"}),o("span",{className:"sr-only",children:"Loading activities..."})]}),B=()=>o("div",{className:"text-center text-muted-foreground p-8",role:"status",children:h==="all"?"No recent activity":`No ${h.slice(0,-1)} activity`}),ye=()=>ee?p("div",{className:"p-4 text-center text-red-500 bg-red-100 rounded-lg",children:[o("p",{className:"mb-2",children:ee}),p("div",{className:"text-xs text-gray-500 mb-2",children:["API URL: ",Te.API_URL,(n==null?void 0:n.role)&&` | Role: ${n.role}`]}),o("button",{onClick:()=>{q(null),R()},className:"text-sm text-primary hover:text-primary/80",children:"Try Again"})]}):null,de=()=>S?o("button",{onClick:()=>R(!0),disabled:I,className:"w-full p-4 text-center text-primary hover:bg-secondary transition-colors disabled:opacity-50",children:I?o(Rt,{className:"h-5 w-5 animate-spin mx-auto"}):"Load More"}):null,te=()=>!fe||!Y?null:o("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-90 flex items-center justify-center cursor-pointer",onClick:()=>U(!1),children:p("div",{className:"relative max-w-[90vw] max-h-[90vh]",children:[o("button",{onClick:z=>{z.stopPropagation(),U(!1)},className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors p-2 z-50",children:o(Yt,{className:"h-8 w-8"})}),o("img",{src:Q(Y),alt:"Fullscreen media",className:"max-w-full max-h-[90vh] object-contain",onClick:z=>z.stopPropagation(),onError:z=>{console.error("Fullscreen media load error:",z),U(!1)}})]})}),oe=()=>p(jt,{children:[j&&o(Jd,{review:j,onClose:()=>Z(null),currentUser:n,isAdmin:!0}),J&&o(a1,{comment:J,currentUser:n,onClose:()=>$(null),isAdmin:!0})]});return p("div",{className:"space-y-4",role:"feed","aria-label":"Activity Feed",children:[p("div",{className:"flex justify-between items-center",children:[o("h2",{className:"text-lg font-semibold text-foreground",children:"Recent Activity"}),ue()]}),ye(),o("div",{className:"space-y-4",children:g?W():c.length===0?B():p(jt,{children:[c.map(z=>H(z)),de()]})}),oe(),te(),V&&!we&&o(t_,{news:V,onClose:()=>re(null),currentUser:n}),V&&we&&o(e_,{news:V,onClose:()=>re(null),onSubmit:z=>{console.log("Would update news with:",z),re(null),R()},currentUser:n})]})};iw.propTypes={currentUser:se.shape({_id:se.string.isRequired,displayName:se.string.isRequired,role:se.string.isRequired,profileImage:se.string,token:se.string}).isRequired};const n_=({currentUser:n})=>{const[c,l]=b.useState([]),[g,x]=b.useState("pending"),[h,v]=b.useState(!0),[_,k]=b.useState(!1),[S,A]=b.useState(null),[I,E]=b.useState(!1),[j,Z]=b.useState({pending:0,reviewing:0,resolved:0,dismissed:0}),[J,$]=b.useState({type:"all",dateRange:"7days",sortBy:"date"}),[V,re]=b.useState(null),[we,xe]=b.useState(null),[fe,U]=b.useState(null),Y=b.useCallback(async()=>{try{v(!0),A(null);const H=new URLSearchParams({filter:g,...J}),ue=await fetch(`${Te.API_URL}/admin/reports?${H}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!ue.ok)throw new Error(`Failed to fetch reports: ${ue.status}`);const W=await ue.json();l(W.reports||[])}catch(H){console.error("Failed to fetch reports:",H),A(H.message||"Failed to fetch reports. Please try again."),l([])}finally{v(!1)}},[g,J]),K=b.useCallback(async()=>{try{const H=await fetch(`${Te.API_URL}/admin/report-counts`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!H.ok)throw new Error(`Failed to fetch report counts: ${H.status}`);const ue=await H.json();Z(ue)}catch(H){console.error("Failed to fetch report counts:",H),Z({pending:0,reviewing:0,resolved:0,dismissed:0})}},[]);b.useEffect(()=>{Y(),K()},[Y,K]);const ee=async()=>{try{k(!0),await Promise.all([Y(),K()])}finally{k(!1)}},q=async(H,ue)=>{try{const W=await fetch(`${Te.API_URL}/admin/reports/${H}/action`,{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({action:ue})});if(!W.ok)throw new Error(`Failed to process report: ${W.status}`);Y(),K()}catch(W){console.error("Failed to process report:",W),A(W.message||"Failed to process report. Please try again.")}},R=async H=>{re(H);try{H.type==="review"?await F(H.contentId):H.type==="comment"&&await ie(H.contentId)}catch(ue){console.error("Failed to fetch content:",ue),A("Failed to fetch the reported content. It may have been deleted.")}},F=async H=>{try{const ue=await fetch(`${Te.API_URL}/reviews/${H}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!ue.ok)throw new Error(`Failed to fetch review: ${ue.status}`);const W=await ue.json();xe(W),U(null)}catch(ue){throw console.error("Failed to fetch review:",ue),xe(null),ue}},ie=async H=>{try{const ue=await fetch(`${Te.API_URL}/reviews?commentId=${H}`,{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!ue.ok)throw new Error(`Failed to find review containing comment: ${ue.status}`);const W=await ue.json();if(W.reviews&&W.reviews.length>0){const B=W.reviews[0],ye=B.comments.find(de=>de._id===H);if(ye)U({...ye,reviewId:B._id,beefery:B.beefery}),xe(null);else throw new Error("Comment not found in review")}else throw new Error("Review containing comment not found")}catch(ue){throw console.error("Failed to fetch comment:",ue),U(null),ue}},Q=H=>new Date(H).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ae=H=>{switch(H){case"pending":return"bg-yellow-100 text-yellow-800";case"reviewing":return"bg-blue-100 text-blue-800";case"resolved":return"bg-green-100 text-green-800";case"dismissed":return"bg-secondary text-slate-800";default:return"bg-secondary text-slate-800"}},Ne=H=>{switch(H){case"review":return o(Rd,{className:"h-4 w-4 mr-1"});case"comment":return o(pu,{className:"h-4 w-4 mr-1"});case"user":return o(zs,{className:"h-4 w-4 mr-1"});default:return o(Of,{className:"h-4 w-4 mr-1"})}},ge=()=>{re(null),xe(null),U(null)};return S&&S.includes("Unexpected token")?o("div",{className:"space-y-6",children:o(lt,{className:"p-6",children:p("div",{className:"flex flex-col items-center justify-center text-center",children:[o(fr,{className:"h-12 w-12 text-yellow-500 mb-4"}),o("h2",{className:"text-xl font-bold mb-2",children:"Report API Not Setup"}),o("p",{className:"text-muted-foreground mb-4",children:"The report management API endpoints don't appear to be properly set up yet. Please ensure the report routes are added to your server.js file."}),p("div",{className:"bg-slate-50 p-4 rounded-lg text-left w-full max-w-2xl",children:[o("p",{className:"font-medium mb-2",children:"Add this to your server.js file:"}),o("pre",{className:"bg-slate-100 p-2 rounded text-sm overflow-x-auto",children:`const reportRoutes = require('./routes/reportRoutes');

// Add this with your other route registrations
app.use('/api', reportRoutes);`})]})]})})}):p("div",{className:"space-y-6",children:[p("div",{className:"flex justify-between items-center",children:[o("h2",{className:"text-xl font-bold text-foreground",children:"Report Management"}),o("button",{onClick:ee,className:`p-2 rounded-full transition-colors ${_?"opacity-50 cursor-not-allowed":"hover:bg-secondary"}`,disabled:_,title:"Refresh Reports",children:o(vp,{className:`h-5 w-5 ${_?"animate-spin":""}`})})]}),p("div",{className:"flex flex-col space-y-4",children:[p("div",{className:"flex justify-between items-center",children:[o("div",{className:"flex space-x-2 overflow-x-auto pb-2",children:["pending","reviewing","resolved","dismissed"].map(H=>p("button",{onClick:()=>x(H),className:`px-4 py-2 rounded-lg transition-colors flex items-center ${g===H?"bg-primary text-white":"bg-secondary text-muted-foreground hover:bg-border"}`,children:[o("span",{children:H.charAt(0).toUpperCase()+H.slice(1)}),o("span",{className:"ml-2 bg-white/20 text-xs rounded-full px-2 py-0.5",children:j[H]||0})]},H))}),o("button",{onClick:()=>E(!I),className:"p-2 hover:bg-secondary rounded-lg transition-colors",children:o(s0,{className:"h-5 w-5 text-muted-foreground"})})]}),I&&o(lt,{className:"p-4",children:p("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Content Type"}),p("select",{value:J.type,onChange:H=>$(ue=>({...ue,type:H.target.value})),className:"w-full p-2 border border-border rounded-lg",children:[o("option",{value:"all",children:"All Types"}),o("option",{value:"review",children:"Reviews"}),o("option",{value:"comment",children:"Comments"}),o("option",{value:"user",children:"Users"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Date Range"}),p("select",{value:J.dateRange,onChange:H=>$(ue=>({...ue,dateRange:H.target.value})),className:"w-full p-2 border border-border rounded-lg",children:[o("option",{value:"today",children:"Today"}),o("option",{value:"7days",children:"Last 7 Days"}),o("option",{value:"30days",children:"Last 30 Days"}),o("option",{value:"all",children:"All Time"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Sort By"}),p("select",{value:J.sortBy,onChange:H=>$(ue=>({...ue,sortBy:H.target.value})),className:"w-full p-2 border border-border rounded-lg",children:[o("option",{value:"date",children:"Date"}),o("option",{value:"type",children:"Type"}),o("option",{value:"reports",children:"Report Count"})]})]})]})})]}),S&&!S.includes("Unexpected token")&&o(lt,{className:"p-4 border-red-300",children:p("div",{className:"text-red-500 flex items-center",children:[o(fr,{className:"h-5 w-5 mr-2"}),S]})}),o("div",{className:"space-y-4",children:h?o(lt,{children:p("div",{className:"p-6 text-center text-slate-500 flex justify-center",children:[o(Rt,{className:"h-6 w-6 animate-spin mr-2"}),"Loading reports..."]})}):c.length===0?o(lt,{children:p("div",{className:"p-6 text-center text-slate-500",children:["No ",g," reports found"]})}):c.map(H=>{var ue,W;return o(lt,{className:"hover:shadow-md transition-shadow",children:p("div",{className:"p-6",children:[p("div",{className:"flex items-start justify-between",children:[p("div",{children:[p("div",{className:"flex items-center space-x-3 flex-wrap gap-y-2",children:[o("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ae(H.status)}`,children:H.status}),p("span",{className:"text-sm text-slate-500",children:[o(o0,{className:"inline-block h-4 w-4 mr-1"}),Q(H.date)]}),p("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800",children:[Ne(H.type),H.type]})]}),p("div",{className:"flex items-center mt-2 space-x-2",children:[o(zs,{className:"h-4 w-4 text-slate-400"}),p("span",{className:"text-sm text-muted-foreground",children:["Reported by ",((ue=H.reportedBy)==null?void 0:ue.displayName)||"Unknown"]})]})]}),p("div",{className:"flex space-x-2",children:[H.status==="pending"&&p(jt,{children:[o("button",{onClick:()=>q(H._id,"reviewing"),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Mark as Reviewing",children:o(Rs,{className:"h-5 w-5"})}),o("button",{onClick:()=>q(H._id,"dismiss"),className:"p-2 text-muted-foreground hover:bg-slate-50 rounded-lg transition-colors",title:"Dismiss Report",children:o(E1,{className:"h-5 w-5"})}),o("button",{onClick:()=>q(H._id,"resolve"),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Remove Content",children:o(fr,{className:"h-5 w-5"})})]}),H.status==="reviewing"&&p(jt,{children:[o("button",{onClick:()=>q(H._id,"dismiss"),className:"p-2 text-muted-foreground hover:bg-slate-50 rounded-lg transition-colors",title:"Dismiss Report",children:o(E1,{className:"h-5 w-5"})}),o("button",{onClick:()=>q(H._id,"resolve"),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Remove Content",children:o(Am,{className:"h-5 w-5"})})]}),o("button",{onClick:()=>R(H),className:"p-2 text-primary hover:bg-primary/10 rounded-lg transition-colors",title:"View Content",children:o(Rs,{className:"h-5 w-5"})})]})]}),p("div",{className:"mt-4",children:[o("div",{className:"text-sm font-medium text-slate-700 mb-2",children:"Report Reason:"}),p("div",{className:"p-3 bg-slate-50 rounded-lg text-muted-foreground",children:[H.reason,H.additionalInfo&&p("p",{className:"mt-2 pt-2 border-t border-slate-200",children:[o("span",{className:"font-medium",children:"Additional Info:"})," ",H.additionalInfo]})]})]}),p("div",{className:"mt-4",children:[o("div",{className:"flex items-center justify-between mb-2",children:o("div",{className:"text-sm font-medium text-slate-700",children:"Reported Content:"})}),o("div",{className:"p-3 bg-slate-50 rounded-lg text-muted-foreground",children:H.contentPreview||"No content preview available"})]}),H.status!=="pending"&&o("div",{className:"mt-4 pt-4 border-t border-border",children:p("div",{className:"flex items-center justify-between text-sm text-slate-500",children:[p("div",{children:["Handled by: ",((W=H.resolvedBy)==null?void 0:W.displayName)||"System"]}),p("div",{children:["Resolution: ",H.resolution||"None"]}),H.resolvedDate&&p("div",{children:["Resolved: ",Q(H.resolvedDate)]})]})})]})},H._id)})}),we&&o(Jd,{review:we,onClose:ge,currentUser:n,readOnly:!0}),fe&&o(a1,{comment:fe,onClose:ge,currentUser:n})]})},Il=({label:n,value:c,icon:l,trend:g})=>o(lt,{className:"hover:shadow-md transition-shadow",children:o("div",{className:"p-6",children:p("div",{className:"flex items-center justify-between",children:[p("div",{children:[o("p",{className:"text-sm font-medium text-muted-foreground",children:n}),o("p",{className:"text-2xl font-bold text-foreground mt-1",children:typeof c=="number"?c.toLocaleString():c}),g&&p("p",{className:"text-xs text-muted-foreground mt-1",children:[g.label,": ",typeof g.value=="number"?g.value.toLocaleString():g.value]})]}),o(l,{className:"h-8 w-8 text-primary"})]})})}),xm=[{id:"overview",label:"Overview",icon:bp},{id:"users",label:"Users",icon:ou},{id:"reviews",label:"Reviews",icon:Rd},{id:"beefery-analytics",label:"Analytics",icon:Zv},{id:"beefery-management",label:"Beeferies",icon:xp},{id:"reports",label:"Reports",icon:fr},{id:"news",label:"News",icon:Bd},{id:"polls",label:"Polls",icon:du},{id:"pois",label:"Points of Interest",icon:Go}],r_=({currentUser:n})=>{const c=()=>{const ee=window.location.hash.substring(1);return xm.map(R=>R.id).includes(ee)?ee:"overview"},[l,g]=b.useState(()=>c()),[x,h]=b.useState(!0),[v,_]=b.useState(null),[k,S]=b.useState({users:0,reviews:0,reports:0,totalReports:0,newUsers:0,activeUsers:0,totalLikes:0,totalComments:0,averageRating:0}),[A,I]=b.useState(0),[E,j]=b.useState(null),[Z,J]=b.useState(null),$=b.useRef(null),V=50,re=ee=>{J(null),j(ee.targetTouches[0].clientX)},we=ee=>{J(ee.targetTouches[0].clientX)},xe=()=>{if(!E||!Z)return;const ee=E-Z,q=ee>V,R=ee<-50;q&&U("right"),R&&U("left")};b.useEffect(()=>{fe(),window.location.hash=l;const ee=()=>{const q=window.location.hash.substring(1);xm.map(F=>F.id).includes(q)&&g(q)};return window.addEventListener("hashchange",ee),()=>window.removeEventListener("hashchange",ee)},[l]),b.useEffect(()=>{const ee=q=>{q.key};return window.addEventListener("keydown",ee),()=>window.removeEventListener("keydown",ee)},[]);const fe=async()=>{try{h(!0),_(null);const ee=localStorage.getItem("token"),[q,R]=await Promise.all([fetch(`${Te.API_URL}/admin/stats`,{headers:{Authorization:`Bearer ${ee}`,Accept:"application/json"}}),fetch(`${Te.API_URL}/admin/report-counts`,{headers:{Authorization:`Bearer ${ee}`,Accept:"application/json"}})]);if(!q.ok)throw new Error(`Failed to fetch stats: ${q.status}`);const F=await q.json();if(R.ok){const ie=await R.json();F.reports=ie.pending||0,F.totalReports=Object.values(ie).reduce((Q,ae)=>Q+ae,0)}S(F)}catch(ee){console.error("Failed to fetch admin stats:",ee),_("Failed to load admin stats. Please try again.")}finally{h(!1)}};if((n==null?void 0:n.role)!=="admin")return p("div",{className:"p-8 text-center",children:[o("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Access Denied"}),o("p",{className:"text-muted-foreground",children:"You don't have permission to access this area."})]});const U=ee=>{if($.current){const q=$.current,R=ee==="left"?-200:200;q.scrollBy({left:R,behavior:"smooth"}),I(q.scrollLeft+R)}},Y=ee=>{g(ee),window.location.hash=ee},K=()=>{var ee;if(x&&l==="overview")return o(lt,{className:"p-6",children:p("div",{className:"flex items-center justify-center",children:[o(Rt,{className:"w-6 h-6 animate-spin text-primary"}),o("span",{className:"ml-2 text-foreground",children:"Loading content..."})]})});if(v&&l==="overview")return o(lt,{className:"p-6",children:p("div",{className:"text-center",children:[o("p",{className:"text-red-500",children:v}),o("button",{onClick:()=>{h(!0),_(null),fe()},className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Try Again"})]})});switch(l){case"overview":return p("div",{className:"space-y-6",children:[p("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o(Il,{label:"Total Users",value:k.users,icon:ou}),o(Il,{label:"Total Reviews",value:k.reviews,icon:Rd}),o(Il,{label:"Active Reports",value:k.reports,icon:fr,trend:{value:k.totalReports||0,label:"Total reports"}}),o(Il,{label:"New Users Today",value:k.newUsers,icon:ou}),o(Il,{label:"Active Users",value:k.activeUsers,icon:ou}),o(Il,{label:"Total Likes",value:k.totalLikes,icon:sa}),o(Il,{label:"Total Comments",value:k.totalComments,icon:pu}),o(Il,{label:"Average Rating",value:((ee=k.averageRating)==null?void 0:ee.toFixed(1))||"N/A",icon:Bn})]}),p(lt,{className:"p-6",children:[o("h2",{className:"text-lg font-semibold text-foreground mb-4",children:"Recent Activity"}),o("div",{className:"h-[600px] overflow-y-auto",children:o(iw,{currentUser:n})})]})]});case"users":return o($x,{currentUser:n});case"reviews":return o(Hx,{currentUser:n});case"beefery-analytics":return o(Xx,{currentUser:n});case"beefery-management":return o(qx,{currentUser:n});case"reports":return o(n_,{currentUser:n});case"news":return o(Wx,{currentUser:n});case"polls":return o(Kx,{currentUser:n});case"pois":return o(Vx,{currentUser:n});default:return null}};return p("div",{className:"min-h-screen bg-background",children:[o("div",{className:"bg-card border-b border-border",children:o("div",{className:"max-w-7xl mx-auto px-4 py-4 text-center",children:o("h1",{className:"text-2xl font-bold text-foreground",children:"Admin Dashboard"})})}),o("div",{className:"bg-card border-b border-border relative",children:p("div",{className:"max-w-7xl mx-auto px-4 flex items-center",children:[o("button",{onClick:()=>U("left"),className:"p-2 bg-card hover:bg-secondary rounded-full z-10",children:o(gp,{className:"h-5 w-5 text-foreground"})}),o("div",{ref:$,className:"flex overflow-x-auto scrollbar-hide px-2 py-2 space-x-4 flex-grow touch-pan-x",style:{scrollBehavior:"smooth"},onTouchStart:re,onTouchMove:we,onTouchEnd:xe,children:xm.map(({id:ee,label:q,icon:R})=>p("button",{onClick:()=>Y(ee),className:`flex items-center px-4 py-2 rounded-lg transition-colors whitespace-nowrap ${l===ee?"bg-primary text-white":"text-muted-foreground hover:text-foreground hover:bg-secondary/50"}`,children:[o(R,{className:`h-5 w-5 mr-2 ${l===ee?"text-white":"text-muted-foreground group-hover:text-foreground"}`}),q,ee==="reports"&&k.reports>0&&o("span",{className:"ml-2 bg-red-500 text-white text-xs rounded-full px-2 py-0.5",children:k.reports})]},ee))}),o("button",{onClick:()=>U("right"),className:"p-2 bg-card hover:bg-secondary rounded-full z-10",children:o(qh,{className:"h-5 w-5 text-foreground"})})]})}),o("div",{className:"max-w-7xl mx-auto px-4 py-8",children:K()})]})};class i_ extends Gr.Component{constructor(c){super(c),this.state={hasError:!1,error:null}}static getDerivedStateFromError(c){return{hasError:!0,error:c}}componentDidCatch(c,l){console.error("App error:",c,l)}render(){var c;return this.state.hasError?o("div",{className:"min-h-screen bg-background flex items-center justify-center",children:p(lt,{className:"p-6 max-w-md w-full",children:[o("h2",{className:"text-xl font-bold text-red-500 mb-4",children:"Something went wrong"}),o("p",{className:"text-muted-foreground mb-4",children:((c=this.state.error)==null?void 0:c.toString())||"An unexpected error occurred."}),o("div",{className:"flex justify-end",children:o("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary text-white rounded-lg",children:"Reload App"})})]})}):this.props.children}}const a_=()=>{const[n,c]=b.useState(null),[l,g]=b.useState("recents"),[x,h]=b.useState(null),[v,_]=b.useState(!1),[k,S]=b.useState(!1),[A,I]=b.useState([]),[E,j]=b.useState(!0),[Z,J]=b.useState(null),[$,V]=b.useState(!0),[re,we]=b.useState(!1),xe=b.useRef([]),fe=["recents","top","news"];b.useEffect(()=>{document.documentElement.classList.add("dark")},[]);const U=b.useCallback(async(Q=!1)=>{try{j(!0),J(null),sessionStorage.getItem("justReloaded")==="true"&&(sessionStorage.removeItem("justReloaded"),Q=!0,console.log("Page was just reloaded - forcing fresh data fetch")),console.log("Fetching reviews data",Q?"(forced refresh)":"");const Ne=await fo.getReviews({forceRefresh:Q});if(Ne&&Ne.reviews)return console.log(`Loaded ${Ne.reviews.length} reviews`),I(Ne.reviews||[]),Ne.reviews;throw console.error("Invalid review data structure:",Ne),new Error("Failed to load reviews: Invalid data format")}catch(ae){throw console.error("Error fetching reviews:",ae),J("Failed to load reviews. Please try again later."),I([]),ae}finally{j(!1)}},[]);b.useEffect(()=>{const Q=ae=>{(ae.key==="cachedReviews"||ae.key==="cachedComments")&&(console.log("Cache updated in another tab, refreshing data"),U(!0))};return window.addEventListener("storage",Q),()=>window.removeEventListener("storage",Q)},[U]),b.useEffect(()=>{const Q=()=>{if(document.visibilityState==="visible"&&fe.includes(l)){console.log("Tab became visible, refreshing data for",l,"screen");try{U(!1)}catch(ae){console.error("Error fetching reviews on visibility change:",ae)}try{const ae=an&&typeof an=="function"?an():null;ae&&typeof ae.catch=="function"&&ae.catch(Ne=>console.error("Failed to refresh activities:",Ne))}catch(ae){console.error("Error refreshing activities on visibility change:",ae)}}};return document.addEventListener("visibilitychange",Q),()=>{document.removeEventListener("visibilitychange",Q)}},[l,U]),b.useEffect(()=>{window.eventBus||(window.eventBus=Sv,console.log("Global event bus initialized"),typeof window.eventBus.off!="function"&&(typeof window.eventBus.removeListener=="function"?window.eventBus.off=window.eventBus.removeListener:typeof window.eventBus.remove=="function"?window.eventBus.off=window.eventBus.remove:window.eventBus.off=function(){console.warn("EventBus: .off() method not implemented")})),window.addEventListener("load",()=>{console.log("Page fully loaded"),sessionStorage.setItem("justReloaded","true")});const Q=({previousScreen:ae,newScreen:Ne})=>{console.log(`Screen changed event: ${ae} -> ${Ne}`)};try{typeof window.eventBus.on=="function"?window.eventBus.on("screen-changed",Q):typeof window.eventBus.addListener=="function"?window.eventBus.addListener("screen-changed",Q):typeof window.eventBus.addEventListener=="function"&&window.eventBus.addEventListener("screen-changed",Q)}catch(ae){console.warn("Failed to add event listener:",ae)}return()=>{try{window.eventBus&&(typeof window.eventBus.off=="function"?window.eventBus.off("screen-changed",Q):typeof window.eventBus.removeListener=="function"?window.eventBus.removeListener("screen-changed",Q):typeof window.eventBus.remove=="function"&&window.eventBus.remove("screen-changed",Q))}catch(ae){console.warn("Failed to remove event listener:",ae)}}},[]);const Y=b.useCallback(Q=>{if(Q===l||re){console.log(`Screen change skipped: Already on ${Q} or transitioning`);return}console.log(`Changing screen from ${l} to ${Q}`);try{if(we(!0),fe.includes(l)&&h(l),xe.current=[...xe.current,l].slice(-5),g(Q),window.scrollTo(0,0),window.eventBus&&typeof window.eventBus.emit=="function")try{window.eventBus.emit("screen-changed",{previousScreen:l,newScreen:Q,timestamp:Date.now()})}catch(ae){console.warn("Non-critical: Failed to emit screen change event:",ae)}requestAnimationFrame(()=>{try{fe.includes(Q)&&(console.log(`Refreshing data for ${Q} screen`),U(!1).catch(ae=>{console.error("Error fetching reviews, continuing anyway:",ae)}),an&&typeof an=="function"&&an().catch(ae=>{console.error("Error refreshing activities, continuing anyway:",ae)}))}catch(ae){console.error("Error refreshing data, but navigation will continue:",ae)}finally{we(!1)}})}catch(ae){console.error("Critical error during screen change:",ae),we(!1),g(Q)}},[l,x,U,re,fe]);b.useEffect(()=>{(async()=>{try{if(V(!0),so.getCurrentUser())if(await so.validateSession()){const ge=so.getCurrentUser();c({...ge,timestamp:Date.now()})}else so.logout(),c(null)}catch(ae){console.error("Auth check error:",ae),so.logout(),c(null)}finally{V(!1)}})(),U().catch(ae=>{console.error("Initial review fetch error:",ae)})},[U]);const K=async Q=>{try{J(null),console.log("Login attempt with:",Q);const ae=await so.login(Q);if(ae){console.log("Login successful, user data:",ae);const Ne={...ae,timestamp:Date.now(),profileImageKey:Date.now()};console.log("Setting current user with:",Ne),c(Ne),_(!1);try{await U(!0)}catch(ge){console.error("Error refreshing reviews after login:",ge)}}return{success:!0}}catch(ae){return console.error("Login error:",ae),J(ae.message||"Invalid username/email or password"),{success:!1,error:ae.message}}},ee=async Q=>{try{J(null);const ae=await so.register(Q);return c({...ae,timestamp:Date.now()}),S(!1),{success:!0}}catch(ae){return console.error("Registration error:",ae),J(ae.message||"Registration failed. Please try again."),{success:!1,error:ae.message}}},q=()=>{so.logout(),c(null),g("recents"),localStorage.removeItem("cachedReviews"),localStorage.removeItem("cachedComments")},R=()=>o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-md bg-card p-6 relative",children:[o("button",{onClick:()=>_(!1),className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full",children:o(Yt,{className:"w-5 h-5"})}),o("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"Log In"}),o("form",{onSubmit:async Q=>{Q.preventDefault();const ae=Q.target.identifier.value.trim(),Ne=Q.target.password.value;if(!ae||!Ne){J("Please fill in all fields");return}await K({identifier:ae,password:Ne})},children:p("div",{className:"space-y-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Email or Username"}),p("div",{className:"relative",children:[o("input",{type:"text",name:"identifier",required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",placeholder:"Enter your email or username"}),o(zs,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Password"}),p("div",{className:"relative",children:[o("input",{type:"password",name:"password",required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",placeholder:"Enter your password"}),o(Kh,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground"})]})]}),Z&&p("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 flex items-center",children:[o(Yt,{className:"h-5 w-5 mr-2"}),Z]}),p("div",{className:"flex justify-end space-x-3 pt-2",children:[o("button",{type:"button",onClick:()=>_(!1),className:"px-4 py-2 text-foreground hover:bg-secondary rounded-lg",children:"Cancel"}),o("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"Log In"})]})]})})]})}),F=()=>o("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-[100]",children:p(lt,{className:"w-full max-w-md bg-card p-6 relative",children:[o("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 p-2 hover:bg-secondary rounded-full",children:o(Yt,{className:"w-5 h-5"})}),o("h2",{className:"text-2xl font-bold mb-4 text-foreground",children:"Create Account"}),o("form",{onSubmit:Q=>{Q.preventDefault();const ae=new FormData;ae.append("email",Q.target.email.value),ae.append("username",Q.target.username.value),ae.append("password",Q.target.password.value),ae.append("displayName",Q.target.displayName.value),Q.target.profileImage.files[0]&&ae.append("profileImage",Q.target.profileImage.files[0]),ee(ae)},children:p("div",{className:"space-y-4",children:[p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Display Name"}),p("div",{className:"relative",children:[o("input",{type:"text",name:"displayName",required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",placeholder:"How should we display your name?"}),o(zs,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Username"}),p("div",{className:"relative",children:[o("input",{type:"text",name:"username",required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",placeholder:"Choose a unique username"}),o(zs,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Email"}),p("div",{className:"relative",children:[o("input",{type:"email",name:"email",required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",placeholder:"Enter your email"}),o(Xh,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Password"}),p("div",{className:"relative",children:[o("input",{type:"password",name:"password",required:!0,className:"w-full pl-10 pr-4 py-3 bg-secondary border border-border rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent text-foreground",placeholder:"Choose a secure password"}),o(Kh,{className:"absolute left-3 top-3.5 h-5 w-5 text-muted-foreground"})]})]}),p("div",{children:[o("label",{className:"block text-sm font-medium text-foreground mb-1",children:"Profile Image"}),p("div",{className:"flex items-center space-x-4",children:[o("div",{className:"w-20 h-20 border-2 border-dashed border-border rounded-full flex items-center justify-center bg-secondary",children:o(zs,{className:"h-8 w-8 text-muted-foreground"})}),p("label",{className:"flex items-center px-4 py-2 bg-secondary text-foreground rounded-lg cursor-pointer hover:bg-secondary/90 transition-colors",children:[o(l0,{className:"h-5 w-5 mr-2"}),"Upload Image",o("input",{type:"file",name:"profileImage",accept:"image/*",className:"hidden"})]})]})]}),Z&&p("div",{className:"p-4 bg-red-500/10 border border-red-500/20 rounded-lg text-red-500 flex items-center",children:[o(Yt,{className:"h-5 w-5 mr-2"}),Z]}),p("div",{className:"flex justify-end space-x-3 pt-2",children:[o("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 text-foreground hover:bg-secondary rounded-lg",children:"Cancel"}),o("button",{type:"submit",className:"px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90",children:"Create Account"})]})]})})]})});return o(i_,{children:o(s2,{children:p("div",{className:"min-h-screen bg-background",children:[o(M2,{currentUser:n,setCurrentUser:c,onLogin:()=>_(!0),onRegister:()=>S(!0),onLogout:q}),o("main",{className:"max-w-2xl mx-auto px-4 pb-24",children:o("div",{className:`transition-opacity duration-150 ${re?"opacity-80":"opacity-100"}`,children:(()=>{const Q=`screen-${l}`;if(E&&!re)return o(lt,{className:"p-6",children:p("div",{className:"flex items-center justify-center",children:[o(Rt,{className:"w-6 h-6 animate-spin text-primary"}),o("span",{className:"ml-2 text-foreground",children:"Loading content..."})]})},`loading-${Q}`);if(Z&&!re)return o(lt,{className:"p-6",children:p("div",{className:"text-center",children:[o("p",{className:"text-red-500",children:Z}),o("button",{onClick:()=>U(!0),className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Try Again"})]})},`error-${Q}`);try{switch(l){case"recents":return o(sp,{reviews:A,currentUser:n,onReviewAdded:U},Q);case"top":return o(gx,{reviews:A,currentUser:n},Q);case"map":return o(Ux,{reviews:A},Q);case"news":return o(Zx,{currentUser:n},Q);case"admin":return(n==null?void 0:n.role)==="admin"?o(r_,{currentUser:n},Q):o(lt,{className:"p-6 text-center text-red-500",children:"Access denied. Admin privileges required."},Q);default:return o(sp,{reviews:A,currentUser:n},Q)}}catch(ae){return console.error("Error rendering screen:",ae),o(lt,{className:"p-6",children:p("div",{className:"text-center",children:[p("p",{className:"text-red-500",children:["Error loading screen: ",ae.message]}),o("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors",children:"Reload App"})]})},`render-error-${Q}`)}})()})}),o(N2,{currentScreen:l,onScreenChange:Y,currentUser:n}),v&&o(R,{}),k&&o(F,{})]})})})},o_=()=>{const n=Date.now();sessionStorage.setItem("pageLoadTimestamp",n.toString()),sessionStorage.setItem("justReloaded","true");try{const c=JSON.parse(localStorage.getItem("pageReloadEvents")||"[]");c.push({timestamp:n,url:window.location.href}),c.length>5&&c.shift(),localStorage.setItem("pageReloadEvents",JSON.stringify(c))}catch(c){console.warn("Failed to track page reload:",c)}window.addEventListener("beforeunload",()=>{sessionStorage.setItem("pageUnloading","true")}),window.eventBus||(console.log("Creating event bus from main.jsx"),window.eventBus=_m())};o_();window.performance&&window.performance.navigation&&window.performance.navigation.type===1&&(console.log("Page reload detected, clearing caches"),["activities-all-1","reviews-all"].forEach(c=>{try{localStorage.removeItem(c)}catch{}}));Dv.createRoot(document.getElementById("root")).render(o(b.StrictMode,{children:o(a_,{})}));
